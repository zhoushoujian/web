(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{210:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(211);t.a=(({centerText:e="",backToPreviousPage:t=(()=>{}),rightText:a="",rightTextFunc:i=(()=>{})})=>n.a.createElement(r.Fragment,null,n.a.createElement(s.a,null),n.a.createElement("div",{className:"navbar-container"},n.a.createElement("div",{className:"back-btn",onClick:t},n.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})),n.a.createElement("div",{className:"center-text"},e),n.a.createElement("div",{className:"other-text",onClick:i},a))))},211:function(e,t,a){"use strict";var r=a(0),n=a.n(r);t.a=(()=>n.a.createElement("div",{className:"top-status-bar"}))},219:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};const i=Object(r.forwardRef)((e,t)=>{const{type:a="text",placeholder:r="",value:i="",handleKeyDown:o=(()=>{}),handleChange:c=(()=>{}),maxLength:l=26,style:m={},handleClick:d=(()=>{}),handleBlur:u=(()=>{}),className:p,disabled:f=!1}=e;return n.a.createElement("input",s({},e,{className:`input-component ${p}`,type:a,placeholder:r,value:i,onKeyDown:o,onChange:c,maxLength:l,autoComplete:"off",style:m,onClick:d,onBlur:u,ref:t,disabled:f}))});t.a=i},476:function(e,t,a){"use strict";var r=a(477).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},477:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var r=s(a(0)),n=s(a(478));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function c(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function l(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f=function(e){function t(){var e,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return p(d(a=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?d(e):t}(this,(e=m(t)).call.apply(e,[this].concat(o)))),"onClick",function(e){var t=a.props,s=t.text,i=t.onCopy,o=t.children,c=t.options,l=r.default.Children.only(o),m=(0,n.default)(s,c);i&&i(s,m),l&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(e)}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["default"].PureComponent),function(e,t,a){t&&l(e.prototype,t),a&&l(e,a)}(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),a=c(e,["text","onCopy","options","children"]),n=r.default.Children.only(t);return r.default.cloneElement(n,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach(function(t){p(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a,{onClick:this.onClick}))}}]),t}();t.CopyToClipboard=f,p(f,"defaultProps",{onCopy:void 0,options:void 0})},478:function(e,t,a){"use strict";var r=a(479),n={"text/plain":"Text","text/html":"Url",default:"Text"},s="Copy to clipboard: #{key}, Enter";e.exports=function(e,t){var a,i,o,c,l,m,d=!1;t||(t={}),a=t.debug||!1;try{if(o=r(),c=document.createRange(),l=document.getSelection(),(m=document.createElement("span")).textContent=e,m.style.all="unset",m.style.position="fixed",m.style.top=0,m.style.clip="rect(0, 0, 0, 0)",m.style.whiteSpace="pre",m.style.webkitUserSelect="text",m.style.MozUserSelect="text",m.style.msUserSelect="text",m.style.userSelect="text",m.addEventListener("copy",function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var s=n[t.format]||n.default;window.clipboardData.setData(s,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))}),document.body.appendChild(m),c.selectNodeContents(m),l.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(r){a&&console.error("unable to copy using execCommand: ",r),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(r){a&&console.error("unable to copy using clipboardData: ",r),a&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:s),window.prompt(i,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(c):l.removeAllRanges()),m&&document.body.removeChild(m),o()}return d}},479:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,a=[],r=0;r<e.rangeCount;r++)a.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||a.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},543:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(75),i=a(476),o=a.n(i),c=a(210),l=a(219),m=a(9),d=a(3),u=a(35),p=a(12),f=a(42),h=a(2);t.default=Object(s.connect)(e=>({username:e.login.username,token:e.login.token,nickname:e.myInfo.setNickname,setHeadPic:e.myInfo.setHeadPic,replaceHeadPic:e.myInfo.replaceHeadPic,setMobile:e.myInfo.setMobile,headPicAddress:e.myInfo.headPicAddress,offlineState:e.common.offlineState,userId:e.login.userId,currentRoomNumber:e.questions.currentRoomNumber,friendPkQuestions:e.questions.friendPkQuestions,showStartBtn:e.questions.showStartBtn,otherUsername:e.questions.otherUsername,otherAvatarUrl:e.questions.otherAvatarUrl,otherUserScore:e.questions.otherUserScore,otherUserAnswerCorrect:e.questions.otherUserAnswerCorrect,otherUserSelectAnswer:e.questions.otherUserSelectAnswer,friendPkGameOver:e.questions.friendPkGameOver,friendPkIng:e.questions.friendPkIng,otherRoomNumber:e.questions.otherRoomNumber}),()=>({}))(class extends n.a.Component{constructor(e){super(e),this.listenBackButton=(()=>{document.addEventListener("backbutton",this.backKeyDownToPrevious,!1)}),this.backKeyDownToPrevious=(()=>{Object(d.z)(),window.toastLoading?window.toast.hide():this.backToMainPage()}),this.backToMainPage=(()=>{const{userId:e,otherRoomNumber:t,token:a,friendPkIng:r}=this.props,n={type:"close-friend-pk-game",number:t,userId:e,friendPkIng:r,token:a,date:Date.now()};window.ws.sendFunc(n,"FriendPK backToMainPage"),Object(f.d)(),Object(d.b)("/questions",!1)}),this.updateValue=(e=>{let{value:t}=e.target;/^da☆开覓☆星峰zhan貼這段☆話dao加☆入you戲輸入kuang即☆可jia入遊戲【\d+】$/g.test(t)&&(t=t.match(/^da☆开覓☆星峰zhan貼這段☆話dao加☆入you戲輸入kuang即☆可jia入遊戲【\d+】$/g).join("").replace("da☆开覓☆星峰zhan貼這段☆話dao加☆入you戲輸入kuang即☆可jia入遊戲【","").replace("】","")),this.setState({roomNumber:t},()=>{const{roomNumber:e}=this.state;e&&6===e.length&&this.enterRoom()})}),this.handleKeyDown=(e=>{13===e.keyCode&&this.enterRoom()}),this.enterRoom=(()=>{const{roomNumber:e}=this.state,{userId:t,currentRoomNumber:a,token:r}=this.props;if(!e||6!==e.length)return alert("房间号必须为6位数字");if(e===a)return alert("不能加入自己的房间");{const a={type:"join-friend-pk-game",number:e,userId:t,username:this.currentUsername,avatarUrl:this.currentAvatarUrl,token:r,date:Date.now()};1===window.ws.readyState?(Object(d.B)("正在获取房间信息..."),window.ws.sendFunc(JSON.stringify(a)),window.waitForRoomInfoResponseTimer=setTimeout(()=>{window.toast.hide(),alert("获取房间超时，请稍后重试"),Object(d.b)("/questions",!1)},1e4)):(Object(f.c)("FriendPK enterRoom"),alert("当前网络环境不佳，正在重新连接"),Object(d.b)("/questions",!1))}}),this.startGame=(()=>{const{token:e,userId:t,currentRoomNumber:a}=this.props,r={type:"start-friend-pk-game",userId:t,number:a,token:e,date:Date.now()};window.ws.sendFunc(r,"startGame"),setTimeout(this.startGameFunc,50)}),this.startGameFunc=(()=>{$dispatch(Object(p.f)(!0)),this.initQuestions(!0),clearInterval(this.waitLeftTimeTimer)}),this.initQuestions=((e=!1)=>{const{answerTimes:t}=this.state,{userId:a,token:r,otherRoomNumber:n}=this.props;t>=5?setTimeout(()=>{this.setState({leftTime:9,questionName:"",questions:[],correctAnswer:0,questionType:"",showCorrectAnswer:!1,selected:!1,correctSelected:!0,userSelectAnswer:0,answerTimes:1}),$dispatch(Object(p.f)(!1)),$dispatch(Object(p.e)(!0));const{getTotalScore:e}=this.state,t={score:e/10};e&&Object(u.a)(t);const s={type:"end-answer-question",number:n,userId:a,token:r,date:Date.now()};window.ws.sendFunc(s,"FriendPK initQuestions end-answer-question")},2e3):setTimeout(()=>{const{friendPkQuestions:t}=this.props;if(e){const e=t[0];this.setState({questionName:JSON.parse(e.quiz),questions:JSON.parse(e.options),correctAnswer:JSON.parse(e.answer),questionType:`${JSON.parse(e.school)} ● ${JSON.parse(e.type)}`})}else{let{answerTimes:e}=this.state;const a=t[e];this.setState({leftTime:9,questionName:JSON.parse(a.quiz),questions:JSON.parse(a.options),correctAnswer:JSON.parse(a.answer),questionType:`${JSON.parse(a.school)} ● ${JSON.parse(a.type)}`,showCorrectAnswer:!1,selected:!1,correctSelected:!0,userSelectAnswer:0,answerTimes:++e}),$dispatch(Object(p.j)(null)),$dispatch(Object(p.m)(null))}this.timer=setInterval(()=>{if(!this.unmount){const{leftTime:e,userAnswers:a,answerTimes:r}=this.state,n=e-1;if(n<=0){const e=JSON.parse(JSON.stringify(a));e[r-1]=!1,this.setState({showCorrectAnswer:!0,userAnswers:e}),Object(u.b)(t[r-1],"add"),clearInterval(this.timer),this.initQuestions(!1),window.eventEmit.$off("goto-next-question")}this.setState({leftTime:n})}},1e3)},e?1:2e3)}),this.select=(e=>{const{correctAnswer:t,showCorrectAnswer:a,selected:r,answerTimes:n,userAnswers:s,leftTime:i,getTotalScore:o}=this.state,{friendPkQuestions:c,userId:l,token:m,otherRoomNumber:d}=this.props,p=JSON.parse(JSON.stringify(s));let f=o;if(a||r)return;if(e===t-1){p[n-1]=!0;let e=100;switch(i){case 10:e=500;break;case 9:e=400;break;case 8:e=350;break;case 7:e=300;break;case 6:e=250;break;case 5:e=200;break;case 4:e=150;break;case 3:case 2:e=100;break;case 1:e=50}f+=e,this.setState({selected:!0,correctSelected:!0,userAnswers:p,getTotalScore:f})}else p[n-1]=!1,this.setState({selected:!0,correctSelected:!1,userSelectAnswer:e,userAnswers:p}),Object(u.b)(c[n-1],"add");const h={type:"invoke-next-question",number:d,userId:l,token:m,questionNumber:n-1,score:f,answerCorrect:p[n-1],answerResult:e,date:Date.now()};window.ws.sendFunc(h,"FriendPK invoke-next-question"),window.eventEmit.$once("goto-next-question",()=>{clearInterval(this.timer),this.setState({showCorrectAnswer:!0}),this.initQuestions(!1)})}),this.shareTextToWeChat=(()=>{const{currentRoomNumber:e}=this.props;window.isCordova?Object(d.x)({text:`da☆开覓☆星峰zhan貼這段☆話dao加☆入you戲輸入kuang即☆可jia入遊戲【${e}】`}):(this.copyObjectRef.click(),setTimeout(()=>{alert("房间号复制成功，请手动分享给好友")}))}),this.tryAnotherOne=(()=>{const{token:e,userId:t,otherRoomNumber:a}=this.props,r={type:"try-another-game",userId:t,number:a,token:e,date:Date.now()};window.ws.sendFunc(r,"FriendPK tryAnotherOne")}),this.tryAnotherOneFunc=(()=>{this.setState({roomNumber:"",waitLeftTime:600,leftTime:9,questionName:"",questions:[],correctAnswer:0,questionType:"",showCorrectAnswer:!1,selected:!1,correctSelected:!0,userSelectAnswer:0,answerTimes:1,userAnswers:Array(5).fill(null),getTotalScore:0,otherErrorWarnTip:!1}),$dispatch(Object(p.f)(!0)),$dispatch(Object(p.e)(!1)),$dispatch(Object(p.l)(0)),$dispatch(Object(p.j)(null)),$dispatch(Object(p.m)(null)),this.initQuestions(!0)}),this.selfHeader=(()=>{const{setHeadPic:e,offlineState:t}=this.props;return!e||!this.currentAvatarUrl||t&&isH5?n.a.createElement("div",{className:"friend-pk-stage-user-head-text",style:{left:47}},this.currentUsername.slice(0,1).toUpperCase()):n.a.createElement("img",{className:"friend-pk-stage-user-info-head-pic",style:{left:47},src:this.currentAvatarUrl,alt:this.currentUsername.slice(0,1).toUpperCase()})}),this.otherHeader=(()=>{const{otherUsername:e="",otherAvatarUrl:t}=this.props;return t?n.a.createElement("img",{className:"user-info-head-pic",style:{right:47},src:t,alt:e.slice(0,1).toUpperCase()}):e?n.a.createElement("div",{className:"user-head-text",style:{right:47}},e.slice(0,1).toUpperCase()):n.a.createElement("div",{className:"user-head-text",style:{right:47}})});const t=isElectron?e.headPicAddress:serverHost+"/"+e.setHeadPic;this.currentUsername=e.nickname||e.username||e.setMobile||"",this.currentAvatarUrl=e.setHeadPic?t:null,this.state={roomNumber:"",waitLeftTime:600,leftTime:9,questionName:"",questions:[],correctAnswer:0,questionType:"",showCorrectAnswer:!1,selected:!1,correctSelected:!0,userSelectAnswer:0,answerTimes:1,userAnswers:Array(5).fill(null),getTotalScore:0,otherErrorWarnTip:!1}}componentDidMount(){isCordova&&window.StatusBar.backgroundColorByHexString(h.a.questionThemeColor);const{token:e,userId:t}=this.props;if(!e)return goRoute(this,"/login");document.addEventListener("deviceready",this.listenBackButton,!1);const a={type:"open-friend-pk-game",userId:t,username:this.currentUsername,avatarUrl:this.currentAvatarUrl,token:e,date:Date.now()};window.ws.sendFunc&&window.ws.sendFunc(a,"FriendPK componentDidMount"),this.waitLeftTimeTimer=setInterval(()=>{const{waitLeftTime:e}=this.state;e<=1&&(clearInterval(this.waitLeftTimeTimer),Object(d.a)("本次对战已经过期"),this.backToMainPage()),this.unmount?clearInterval(this.waitLeftTimeTimer):this.setState({waitLeftTime:e-1})},1e3),window.eventEmit.$once("start-friend-pk-game",this.startGameFunc),window.eventEmit.$on("other-answer-incorrect",()=>{this.setState({otherErrorWarnTip:!0}),setTimeout(()=>{this.setState({otherErrorWarnTip:!1})},1e3)}),window.eventEmit.$on("try-another-one",this.tryAnotherOneFunc)}componentWillUnmount(){this.unmount=!0,clearInterval(this.timer),document.removeEventListener("deviceready",this.listenBackButton,!1),document.removeEventListener("backbutton",this.backKeyDownToPrevious,!1),window.eventEmit.$off("someone-joined-game"),window.eventEmit.$off("start-friend-pk-game"),window.eventEmit.$off("goto-next-question"),window.eventEmit.$off("other-answer-incorrect"),window.eventEmit.$off("try-another-one")}render(){const{roomNumber:e,waitLeftTime:t,leftTime:a,questions:s,questionName:i,questionType:d,showCorrectAnswer:u,correctAnswer:p,selected:f,correctSelected:h,userSelectAnswer:v,answerTimes:g,getTotalScore:y,otherErrorWarnTip:w}=this.state,{currentRoomNumber:b,otherUsername:k,otherUserScore:E,friendPkIng:N,friendPkGameOver:O,showStartBtn:T,otherUserAnswerCorrect:C,otherUserSelectAnswer:S,otherRoomNumber:x}=this.props;return n.a.createElement("div",{className:"friend-pk-container"},n.a.createElement(c.a,{centerText:"好友对战",backToPreviousPage:this.backToMainPage}),N||O?N?n.a.createElement("div",{className:"friend-pk-stage-container"},n.a.createElement("div",{className:"friend-pk-stage-header"},n.a.createElement("div",{className:"friend-pk-stage-avatar-container container-game-playing-left"},n.a.createElement("div",{className:"friend-pk-stage-avatar avatar-game-playing-left"},this.selfHeader(),x===b&&n.a.createElement("div",{className:"friend-pk-stage-founder-playing-left"},"发起者")),n.a.createElement("div",{style:{position:"absolute",left:30}},n.a.createElement("div",{className:"friend-pk-stage-username"},this.currentUsername),n.a.createElement("div",{className:"friend-pk-stage-score"},y))),n.a.createElement("div",{className:"left-time"},n.a.createElement("div",{className:"rect-box animate__pulse animate__animated ",style:{zIndex:99}},n.a.createElement("div",{className:"rect left"},n.a.createElement("div",{className:`circle ${u?"has-selected":""}`})),n.a.createElement("div",{className:"rect right"},n.a.createElement("div",{className:`circle ${u?"has-selected":""}`})),n.a.createElement("div",{className:"time-text"},a))),n.a.createElement("div",{className:"friend-pk-stage-avatar-container container-game-playing-right",style:{justifyContent:"flex-end"}},n.a.createElement("div",{style:{position:"absolute",right:30}},n.a.createElement("div",{className:"friend-pk-stage-username"},k),n.a.createElement("div",{className:"friend-pk-stage-score",style:{textAlign:"right"}},E)),n.a.createElement("div",{className:"friend-pk-stage-avatar avatar-game-playing-right",style:{margin:"0 0 0 10px"}},this.otherHeader(),x!==b&&n.a.createElement("div",{className:"friend-pk-stage-founder-playing-right"},"发起者")))),n.a.createElement("div",{className:"friend-pk-answer-times"},"第",g,"题"),n.a.createElement("div",{className:"friend-pk-stage-type animate__animated animate__fadeIn"},d),n.a.createElement("div",{className:"friend-pk-stage-title"},i),n.a.createElement("div",{style:{position:"relative"}},n.a.createElement("div",{className:"friend-pk-stage-questions animate__animated animate__fadeIn"},s.map((e,t)=>n.a.createElement("div",{key:t,className:`friend-pk-stage-question ${f&&!h&&v===t||u&&!C&&S===t?"incorrect-answer":""} ${(u||h&&f)&&t+1===p?"correct-answer":""}`,onClick:()=>this.select(t)},n.a.createElement("span",{className:"friend-pk-stage-question-text"},e),(u||h&&f)&&t+1===p&&n.a.createElement("span",{className:"circle"},n.a.createElement("span",{className:"circle-inner"})),f&&!h&&v===t&&n.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}),u?n.a.createElement(r.Fragment,null,!0===C&&t+1===p&&n.a.createElement("span",{className:"circle",style:{right:15,left:"auto"}},n.a.createElement("span",{className:"circle-inner"})),!1===C&&S===t&&n.a.createElement("i",{className:"fa fa-times",style:{right:15,left:"auto"},"aria-hidden":"true"})):null))),n.a.createElement("div",{className:"am-progress-outer friend-pk-stage-score-graph am-progress-hide-outer",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100",style:{left:10}},n.a.createElement("div",{className:"am-progress-bar",style:{height:parseInt(y/18)+"%",borderRadius:10}})),n.a.createElement("div",{className:`am-progress-outer friend-pk-stage-score-graph am-progress-hide-outer animate__animated ${w?"animate__headShake":""}`,role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100",style:{right:10}},n.a.createElement("div",{className:`am-progress-bar ${w?"other-error-warn-tip":""}`,style:{height:parseInt(E/18)+"%",borderRadius:10}})))):O?n.a.createElement("div",{className:"friend-pk-stage-end"},n.a.createElement("div",{className:"friend-pk-stage-header"},n.a.createElement("div",{className:"friend-pk-stage-avatar-container container-game-playing-left",style:{width:"calc(50% - 54px)"}},n.a.createElement("div",{className:"friend-pk-stage-avatar avatar-game-playing-left"},this.selfHeader(),x===b&&n.a.createElement("div",{className:"friend-pk-stage-founder-playing-left"},"发起者")),n.a.createElement("div",{style:{position:"absolute",left:30}},n.a.createElement("div",{className:"friend-pk-stage-username"},this.currentUsername),n.a.createElement("div",{className:"friend-pk-stage-score"},y))),n.a.createElement("div",{className:"friend-pk-stage-result-circle",style:{backgroundColor:"#81afed",right:"50%"}}),n.a.createElement("div",{className:"friend-pk-stage-result-circle",style:{backgroundColor:"rgba(237, 90, 101)",left:"50%"}}),n.a.createElement("div",{className:"friend-pk-stage-avatar-container container-game-playing-right",style:{justifyContent:"flex-end",width:"calc(50% - 54px)"}},n.a.createElement("div",{style:{position:"absolute",right:32}},n.a.createElement("div",{className:"friend-pk-stage-username"},k),n.a.createElement("div",{className:"friend-pk-stage-score",style:{textAlign:"right"}},E)),n.a.createElement("div",{className:"friend-pk-stage-avatar avatar-game-playing-right",style:{margin:"0 0 0 10px"}},this.otherHeader(),x!==b&&n.a.createElement("div",{className:"friend-pk-stage-founder-playing-right"},"发起者")))),n.a.createElement("div",{className:"friend-pk-stage-body"},n.a.createElement("div",{className:"get-from-result-text"},"本次挑战获得"),n.a.createElement("i",{className:"fa fa-btc","aria-hidden":"true"}),n.a.createElement("div",{className:"get-number"},"X ",y/10),x===b&&n.a.createElement("div",{className:"friend-pk-stage-again",onClick:this.tryAnotherOne},"再来一局")),Number(y)>Number(E)?n.a.createElement("div",{className:"friend-pk-stage-result",style:{transform:"rotate(40deg)"}},"挑战成功"):Number(y)<Number(E)?"":n.a.createElement("div",{className:"friend-pk-stage-result",style:{transform:"rotate(40deg)"}},"旗鼓相当")):null:n.a.createElement("div",{className:"friend-pk-content"},n.a.createElement("div",{className:"friend-pk-invite-container"},n.a.createElement("div",{className:"friend-pk-invite-header"},n.a.createElement("div",{className:"friend-pk-invite-avatar",style:{backgroundColor:"#81afed"}},this.selfHeader(),(!x||x===b)&&n.a.createElement("div",{className:"friend-pk-stage-founder-left"},"发起者")),n.a.createElement("div",null,k?n.a.createElement("div",null,"等待比赛开始"):n.a.createElement("div",null,"等待对手加入..."),n.a.createElement("div",{className:"friend-pk-invite-left-time"},Object(m.Q)(t))),n.a.createElement("div",{className:"friend-pk-invite-avatar",style:{backgroundColor:"rgba(237,90,101,0.8)"}},this.otherHeader(),x&&x!==b&&n.a.createElement("div",{className:"friend-pk-stage-founder-right"},"发起者"))),n.a.createElement("div",{className:"friend-pk-invite-room-info"},n.a.createElement("span",{style:{fontSize:14}},"房间号："),n.a.createElement(o.a,{text:b,onCopy:()=>alert("复制成功")},n.a.createElement("span",{ref:e=>this.copyObjectRef=e,style:{color:"red",marginRight:5,fontSIze:18}},b)),n.a.createElement(o.a,{text:b,onCopy:()=>alert("复制成功")},n.a.createElement("i",{className:"fa fa-copy",style:{cursor:"pointer"},"aria-hidden":"true"}))),n.a.createElement("div",{className:"friend-pk-invite-control"},n.a.createElement("div",{className:"friend-pk-invite-control-btn",onClick:this.backToMainPage},"放弃"),n.a.createElement("div",{className:"friend-pk-invite-control-btn",onClick:this.shareTextToWeChat},n.a.createElement("span",{className:"circle-animate"}),n.a.createElement("span",null,"邀请"))),n.a.createElement("div",{className:"friend-pk-invite-or-area"},n.a.createElement("div",{className:"friend-pk-invite-or-area-line"}),n.a.createElement("div",{style:{margin:"0 15px",fontSize:24,color:"#ccc"}},"或"),n.a.createElement("div",{className:"friend-pk-invite-or-area-line"})),n.a.createElement("div",{className:"friend-pk-invite-join"},n.a.createElement("span",null,"加入其它房间"),n.a.createElement(l.a,{value:e,maxLength:100,placeholder:"请输入房间号",handleChange:e=>this.updateValue(e),handleKeyDown:this.handleKeyDown,disabled:!!k})),n.a.createElement("div",{className:"friend-pk-invite-tip"},"共5回合，每题10秒回答时间"),T&&n.a.createElement("div",{className:"friend-pk-start",onClick:this.startGame},"开始"))))}})}}]);