(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{346:function(e,t,a){"use strict";a(96),a(317)},347:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(14)),r=d(a(25)),l=d(a(16)),i=d(a(17)),o=d(a(15)),s=d(a(18)),c=d(a(26)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a},m=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e,t,a=this.props,l=a.className,i=a.prefixCls,o=a.children,s=a.text,d=a.size,m=a.overflowCount,p=a.dot,v=a.corner,h=a.hot,g=f(a,["className","prefixCls","children","text","size","overflowCount","dot","corner","hot"]);m=m,s="number"==typeof s&&s>m?m+"+":s,p&&(s="");var b=(0,c.default)((e={},(0,r.default)(e,i+"-dot",p),(0,r.default)(e,i+"-dot-large",p&&"large"===d),(0,r.default)(e,i+"-text",!p&&!v),(0,r.default)(e,i+"-corner",v),(0,r.default)(e,i+"-corner-large",v&&"large"===d),e)),y=(0,c.default)(i,l,(t={},(0,r.default)(t,i+"-not-a-wrapper",!o),(0,r.default)(t,i+"-corner-wrapper",v),(0,r.default)(t,i+"-hot",!!h),(0,r.default)(t,i+"-corner-wrapper-large",v&&"large"===d),t));return u.createElement("span",{className:y},o,(s||p)&&u.createElement("sup",(0,n.default)({className:b},g),s))}}]),t}(u.Component);t.default=m,m.defaultProps={prefixCls:"am-badge",size:"small",overflowCount:99,dot:!1,corner:!1},e.exports=t.default},348:function(e,t,a){"use strict";a(96),a(346),a(318)},349:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(a(25)),r=m(a(14)),l=m(a(26)),i=f(a(0)),o=f(a(19)),s=m(a(147)),c=m(a(146)),u=m(a(350)),d=m(a(347));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var p="NORMAL",v="SHARE";function h(){}var g=[];function b(e,t,a){var f=(0,r.default)({prefixCls:"am-action-sheet",cancelButtonText:"取消"},t),m=f.prefixCls,h=f.className,b=f.transitionName,y=f.maskTransitionName,O=f.maskClosable,N=void 0===O||O,E=document.createElement("div");function x(){if(E){o.unmountComponentAtNode(E),E.parentNode&&E.parentNode.removeChild(E);var e=g.indexOf(x);-1!==e&&g.splice(e,1)}}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=a(e,t);n&&n.then?n.then(function(){x()}):x()}document.body.appendChild(E),g.push(x);var _=f.title,P=f.message,C=f.options,k=f.destructiveButtonIndex,j=f.cancelButtonIndex,S=f.cancelButtonText,M=f.badges,T=void 0===M?[]:M,R=[_?i.createElement("h3",{key:"0",className:m+"-title"},_):null,P?i.createElement("div",{key:"1",className:m+"-message"},P):null],A=null,F="normal";switch(e){case p:F="normal";var I=C,B={};T&&T.length>0&&T.forEach(function(e){e.index>=0&&(B[e.index]=i.createElement(d.default,e))}),A=i.createElement("div",(0,u.default)(f),R,i.createElement("div",{className:m+"-button-list",role:"group"},I.map(function(e,t){var a,o={className:(0,l.default)(m+"-button-list-item",(a={},(0,n.default)(a,m+"-destructive-button",k===t),(0,n.default)(a,m+"-cancel-button",j===t),a)),onClick:function(){return w(t)},role:"button"},s=i.createElement("div",o,e);B[t]&&(s=i.createElement("div",(0,r.default)({},o,{className:o.className+" "+m+"-button-list-badge"}),i.createElement("span",{className:m+"-button-list-item-content"},e),B[t]));var u=i.createElement(c.default,{key:t,activeClassName:m+"-button-list-item-active"},s);return j!==t&&k!==t||(u=i.createElement(c.default,{key:t,activeClassName:m+"-button-list-item-active"},i.createElement("div",o,e,j===t?i.createElement("span",{className:m+"-cancel-button-mask"}):null))),u})));break;case v:F="share";var L=C.length&&Array.isArray(C[0])||!1,D=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i.createElement("div",{className:m+"-share-list-item",role:"button",key:t,onClick:function(){return w(t,a)}},i.createElement("div",{className:m+"-share-list-item-icon"},e.icon),i.createElement("div",{className:m+"-share-list-item-title"},e.title))};A=i.createElement("div",(0,u.default)(f),R,i.createElement("div",{className:m+"-share"},L?C.map(function(e,t){return i.createElement("div",{key:t,className:m+"-share-list"},e.map(function(e,a){return D(e,a,t)}))}):i.createElement("div",{className:m+"-share-list"},C.map(function(e,t){return D(e,t)})),i.createElement(c.default,{activeClassName:m+"-share-cancel-button-active"},i.createElement("div",{className:m+"-share-cancel-button",role:"button",onClick:function(){return w(-1)}},S))))}var H=(0,l.default)(m+"-"+F,h);return o.render(i.createElement(s.default,{visible:!0,title:"",footer:"",prefixCls:m,className:H,transitionName:b||"am-slide-up",maskTransitionName:y||"am-fade",onClose:function(){return w(j||-1)},maskClosable:N,wrapProps:f.wrapProps||{}},A),E),{close:x}}t.default={showActionSheetWithOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;b(p,e,t)},showShareActionSheetWithOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;b(v,e,t)},close:function(){g.forEach(function(e){return e()})}},e.exports=t.default},350:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e).reduce(function(t,a){return"aria-"!==a.substr(0,5)&&"data-"!==a.substr(0,5)&&"role"!==a||(t[a]=e[a]),t},{})},e.exports=t.default},353:function(e,t,a){"use strict";a(96),a(320)},354:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(14)),r=d(a(25)),l=d(a(16)),i=d(a(17)),o=d(a(15)),s=d(a(18)),c=d(a(26)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,l.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(){this.noAppearTransition=!0}},{key:"componentDidMount",value:function(){var e=this;this.props.appearTransition&&setTimeout(function(){e.barRef&&(e.barRef.style.width=e.props.percent+"%")},10)}},{key:"render",value:function(){var e,t=this,a=this.props,l=a.className,i=a.prefixCls,o=a.position,s=a.unfilled,d=a.style,f=void 0===d?{}:d,m=a.barStyle,p=void 0===m?{}:m,v={width:this.noAppearTransition||!this.props.appearTransition?this.props.percent+"%":0,height:0},h=(0,c.default)(i+"-outer",l,(e={},(0,r.default)(e,i+"-fixed-outer","fixed"===o),(0,r.default)(e,i+"-hide-outer",!s),e));return u.createElement("div",{style:f,className:h,role:"progressbar","aria-valuenow":this.props.percent,"aria-valuemin":0,"aria-valuemax":100},u.createElement("div",{ref:function(e){return t.barRef=e},className:i+"-bar",style:(0,n.default)({},p,v)}))}}]),t}(u.Component);t.default=f,f.defaultProps={prefixCls:"am-progress",percent:0,position:"fixed",unfilled:!0,appearTransition:!1},e.exports=t.default},605:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(95),i=a(4),o=a(47),s=a.n(o),c=a(358),u=a(336),d=a(2),f=a(9),m=a(31),p=a(3),v=a(1),h=a(6);t.default=Object(l.connect)(e=>({recentMusicList:e.fileServer.recentMusicList,musicPageType:e.fileServer.musicPageType,isFromHomeSearch:e.common.isFromHomeSearch}),()=>({}))(({recentMusicList:e,musicPageType:t,isFromHomeSearch:a})=>{const n=Object(i.useHistory)();let l=JSON.parse(JSON.stringify(e));return l=s()(l,["date"],["desc"]),r.a.createElement("div",{className:"recent-play-container"},r.a.createElement(u.a,{centerText:`最近播放${l&&l.length?`(${l.length})`:""}`,backToPreviousPage:()=>{a?($dispatch(Object(h.s)(!1)),n.push("/main/home")):window.cancelMenuFirst||n.push("/my_download_middle_page")},rightText:"清空",rightTextFunc:()=>{Object(p.j)("提示","确定要移除所有播放记录吗","确定",()=>{$dispatch(Object(v.nb)([])),e.forEach(e=>{Object(m.c)(e.filenameOrigin).catch(e=>{logger.error("clearAllMusicRecentRecords removeRecentMusicDataByIndexFromIndexDB file err",e)})}),t===d.a.musicOriginal.musicRecent&&(Object(f.T)(),$dispatch(Object(v.b)({})),localStorage.removeItem("lastPlaySongInfo"),localStorage.removeItem("lastPlaySongPageType"),localStorage.removeItem("lastPlaySongMusicDataList")),e.length?alert("删除成功"):alert("没有记录可以删除")})}}),r.a.createElement("div",{className:"recent-play-content",style:{backgroundColor:l&&l.length?"":"#F8F8F8"}},r.a.createElement(c.a,{musicDataList:l,original:d.a.musicOriginal.musicRecent,pageType:d.a.musicOriginal.musicRecent,myMusicPage:!0,height:l.length>d.a.maxSongsNumberInOneCustomPage&&window.screen.height-120}),!l.length&&r.a.createElement("img",{alt:"",className:"empty-content-pic",src:"./imgs/widget.png"})))})}}]);