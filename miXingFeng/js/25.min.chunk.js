(window.webpackJsonp=window.webpackJsonp||[]).push([[25,5],{343:function(e,a,t){"use strict";var i=t(0),l=t.n(i),s=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};const n=Object(i.forwardRef)((e,a)=>{const{type:t="text",placeholder:i="",value:n="",handleKeyDown:c=(()=>{}),handleChange:r=(()=>{}),maxLength:o=26,style:u={},handleClick:d=(()=>{}),handleBlur:m=(()=>{}),className:h,disabled:g=!1}=e;return l.a.createElement("input",s({},e,{className:`input-component ${h}`,type:t,placeholder:i,value:n,onKeyDown:c,onChange:r,maxLength:o,autoComplete:"off",style:u,onClick:d,onBlur:m,ref:a,disabled:g}))});a.a=n},344:function(e,a,t){"use strict";t(96),t(315)},345:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=d(t(14)),l=d(t(25)),s=d(t(16)),n=d(t(17)),c=d(t(15)),r=d(t(18)),o=d(t(26)),u=function(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);return a.default=e,a}(t(0));function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e,a){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&a.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(i=Object.getOwnPropertySymbols(e);l<i.length;l++)a.indexOf(i[l])<0&&(t[i[l]]=e[i[l]])}return t},h=function(e){function a(){return(0,s.default)(this,a),(0,c.default)(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return(0,r.default)(a,e),(0,n.default)(a,[{key:"render",value:function(){var e,a,t=this.props,s=t.className,n=t.prefixCls,c=t.children,r=t.text,d=t.size,h=t.overflowCount,g=t.dot,f=t.corner,O=t.hot,b=m(t,["className","prefixCls","children","text","size","overflowCount","dot","corner","hot"]);h=h,r="number"==typeof r&&r>h?h+"+":r,g&&(r="");var p=(0,o.default)((e={},(0,l.default)(e,n+"-dot",g),(0,l.default)(e,n+"-dot-large",g&&"large"===d),(0,l.default)(e,n+"-text",!g&&!f),(0,l.default)(e,n+"-corner",f),(0,l.default)(e,n+"-corner-large",f&&"large"===d),e)),S=(0,o.default)(n,s,(a={},(0,l.default)(a,n+"-not-a-wrapper",!c),(0,l.default)(a,n+"-corner-wrapper",f),(0,l.default)(a,n+"-hot",!!O),(0,l.default)(a,n+"-corner-wrapper-large",f&&"large"===d),a));return u.createElement("span",{className:S},c,(r||g)&&u.createElement("sup",(0,i.default)({className:p},b),r))}}]),a}(u.Component);a.default=h,h.defaultProps={prefixCls:"am-badge",size:"small",overflowCount:99,dot:!1,corner:!1},e.exports=a.default},348:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){return Object.keys(e).reduce(function(a,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(a[t]=e[t]),a},{})},e.exports=a.default},356:function(e,a,t){"use strict";t(351);var i=t(352),l=t.n(i),s=(t(346),t(347)),n=t.n(s),c=(t(149),t(69)),r=t.n(c),o=t(0),u=t.n(o),d=t(95),m=t(4),h=t(98),g=t(359),f=t(8),O=t(369),b=t(38),p=t(1),S=t(3),v=t(10),M=t(9),j=t(2),y=t(31),E=t(24),w=t(34);let N;new RegExp("\\biPhone\\b|\\biPod\\b","i").test(navigator.userAgent)&&(N={onTouchStart:e=>e.preventDefault()});let $=0;const k={action:null};a.a=Object(d.connect)(e=>({soundPlaying:e.fileServer.soundPlaying,soundInstance:e.fileServer.soundInstance,currentPlayingSong:e.fileServer.currentPlayingSong,currentSongTime:e.fileServer.currentSongTime,pauseWhenOver:e.fileServer.pauseWhenOver,playByOrder:e.fileServer.playByOrder,musicCollection:e.fileServer.musicCollection,musicMenuBadge:e.fileServer.musicMenuBadge,username:e.login.username,token:e.login.token,playByRandom:e.fileServer.playByRandom,lastMusicSearchResult:e.fileServer.lastMusicSearchResult,lastSearchAllMusicResult:e.fileServer.lastSearchAllMusicResult,downloadingMusicItems:e.fileServer.downloadingMusicItems,downloadedMusicList:e.fileServer.downloadedMusicList,currentPlayingSongOriginal:e.fileServer.currentPlayingSongOriginal,recentMusicList:e.fileServer.recentMusicList,setMobile:e.myInfo.setMobile,showMusicPlayingFromMusicControl:e.fileServer.showMusicPlayingFromMusicControl,notExistMusicPlayingPage:e.fileServer.notExistMusicPlayingPage,musicPlayListData:e.fileServer.musicPlayListData,musicSharePosition:e.fileServer.musicSharePosition,musicSavePosition:e.fileServer.musicSavePosition,musicRecentPosition:e.fileServer.musicRecentPosition,musicHomePosition:e.fileServer.musicHomePosition,mySongList:e.fileServer.mySongList}),()=>({}))(({original:e,soundInstance:a,currentPlayingSong:t,currentSongTime:i,soundPlaying:s,pageType:c,pauseWhenOver:d,playByOrder:R,musicCollection:x=[],musicMenuBadge:A,username:P,token:C,playByRandom:L,setMobile:F,musicDataList:q,lastMusicSearchResult:D,lastSearchAllMusicResult:I,recentMusicList:Q,noShowMusicPlaying:_=!1,myMusicPage:K=!1,searchMusicPage:T=!1,notExistMusicPlayingPage:W=!1,musicPlayerRef:J,musicPlayListData:G,height:H,musicSharePosition:B,musicSavePosition:z,musicRecentPosition:U,musicHomePosition:V,mySongList:Y})=>{const Z=Object(w.n)(),X=Object(w.m)(),ee=Object(w.l)(),ae=Object(w.k)(),te=Object(m.useHistory)();Object(o.useEffect)(()=>(h.Howler.volume(.8),e!==j.a.musicOriginal.musicDownloading&&a&&Object(M.t)(),document.addEventListener("deviceready",ie,!1),()=>{Z?$dispatch(Object(p.S)($)):X?$dispatch(Object(p.R)($)):ee?$dispatch(Object(p.Q)($)):ae&&$dispatch(Object(p.L)($)),document.removeEventListener("deviceready",ie,!1),document.removeEventListener("backbutton",le,!1)}),[]);const ie=()=>{document.addEventListener("backbutton",le,!1)},le=()=>{if(!window.cancelMenuFirst&&!window.specialBack)if($getState().fileServer.showMusicPlayingFromMusicControl||Object(S.h)())Object(S.z)();else if(K)Object(S.b)("/my_song_lists_detail"===getRoute()?"/my_song_lists_page":"/my_download_middle_page",!0);else{if(!T)return;Object(S.b)("/search_column",!0)}},se=()=>{window.cancelMenuFirst=!0,document.addEventListener("backbutton",ce)},ne=()=>{window.cancelMenuFirst&&(window.cancelMenuFirst=!1,document.removeEventListener("backbutton",ce),document.removeEventListener("deviceready",se),document.addEventListener("backbutton",S.r))},ce=()=>{const e=document.querySelector(".am-action-sheet-button-list div:nth-last-child(1)");e&&e.click(),k.action&&(k.action.close(),k.action=null),ne()},re=(e,a,t,i,l,s,n)=>{Object(S.j)("提示",u.a.createElement(b.a,{textFragment:`确定从本地删除 <span class="delete-alert">${e}</span> 吗`}),"确定",()=>Object(M.G)(Object(M.H)(a),"music").then(()=>{oe(s,a),a===t&&Object(M.q)(i,l,s,n)}).catch(e=>{logger.error("删除音乐过程中发生了错误 isFileFinished",e.stack||e.toString()),Object(S.q)(e,`musicPlayer removeFileFromDownload filenameOrigin: ${a}`)}))},oe=(e,a)=>{if(e===j.a.musicOriginal.musicSearch){let e,t;D.some((t,i)=>Object(M.H)(t.filenameOrigin)===Object(M.H)(a)&&(e=i,!0));const i=JSON.parse(JSON.stringify(D));i.splice(e,1),I.some((e,i)=>Object(M.H)(e.filenameOrigin)===Object(M.H)(a)&&(t=i,!0));const l=JSON.parse(JSON.stringify(I));l.splice(t,1),$dispatch(Object(p.y)(i)),$dispatch(Object(p.G)(l))}},ue=(m,h)=>u.a.createElement(o.Fragment,null,u.a.createElement("div",{className:"music-content",onClick:()=>Object(M.o)({filePath:m.filePath,filename:m.filename,filenameOrigin:m.filenameOrigin,uploadUsername:m.uploadUsername,fileSize:m.fileSize,duration:m.duration,songOriginal:m.original,original:e,musicDataList:q,pageType:c,payPlay:Number(m.payPlay),musicId:m.id,songInfo:m})},u.a.createElement("div",{className:`num ${Object(S.d)(h+1)}`},h+1),u.a.createElement("div",{className:"music-info"},u.a.createElement("div",{className:`info ${m.saved&&c!==j.a.musicOriginal.savedSongs?"song-saved":""}`},u.a.createElement("div",{className:`filename ${de?m.saved?"downloading-save":"downloading":""}`,dangerouslySetInnerHTML:{__html:Object(M.s)(m.filename)}}),Number(m.payPlay)?u.a.createElement("i",{className:"fa fa-lock copyright-song-flag","aria-hidden":"true"}):"",m.saved&&c!==j.a.musicOriginal.savedSongs&&u.a.createElement("i",{className:"fa fa-heart saved-song-flag","aria-hidden":"true"}),e!==j.a.musicOriginal.homeRecommend&&"onlineMusic"!==c&&"onlineMusicSearchALl"!==c?m.original===j.a.musicOriginal.netEaseCloud||m.original===j.a.musicOriginal.homeRecommend?u.a.createElement("div",{className:"net-ease-source-flag"},"网易云"):m.original===j.a.musicOriginal.qqMusic?u.a.createElement("div",{className:"qq-music-source-flag"},"QQ音乐"):m.original===j.a.musicOriginal.kuGouMusic?u.a.createElement("div",{className:"ku-gou-music-source-flag"},"酷狗音乐"):m.original===j.a.musicOriginal.kuWoMusic?u.a.createElement("div",{className:"ku-wo-music-source-flag"},"酷我音乐"):null:null,m.mvId?u.a.createElement("i",{className:"fa fa-youtube-play","aria-hidden":"true",onClick:e=>((e,a,t,i)=>{e.stopPropagation(),te.push({pathname:"/music_mv_Player",query:{mvId:a,original:t,filename:Object(M.J)(i),lastLocation:getRoute()}})})(e,m.mvId,m.original,m.filename)}):null,de?u.a.createElement("div",{className:"song-duration-time downloading"},m.progress):null),t===m.filenameOrigin?((e,a,t)=>u.a.createElement("div",{className:"audio-player"},u.a.createElement("audio",{preload:"auto",className:"audio-selector"},u.a.createElement("source",{src:e})),u.a.createElement("div",{className:"audio-player-time audio-player-time-current"},Object(M.Q)(a)),u.a.createElement("div",{className:"audio-player-bar"},u.a.createElement("div",{className:"audio-player-bar-loaded",style:{width:"100%"}}),u.a.createElement("div",{className:"audio-player-bar-played",style:{width:a/t*100+"%"}})),u.a.createElement("div",{className:"audio-player-time audio-player-time-duration"},Object(M.Q)(t))))(m.filePath,i,m.duration):u.a.createElement("div",{className:"upload-duration"},u.a.createElement("div",{className:`upload-user ${de?"downloading":""}`},m.uploadUsername||"未知",(a=>a?e!==j.a.musicOriginal.musicDownloading?("number"==typeof a&&(a=new Date(a).format("yyyy-MM-dd")),e===j.a.musicOriginal.musicShare||e===j.a.musicOriginal.musicSearch||e===j.a.musicOriginal.musicFinished?" "+a.split(" ")[0]:""):void 0:"")(m.date)),de?u.a.createElement("div",{className:"download-progress"},u.a.createElement(l.a,{percent:m.received?m.received/m.fileSize*100:0,position:"normal"})):u.a.createElement("div",{className:`song-duration-time ${Object(S.d)(h+1)}`},Object(M.Q)(m.duration)))),!s&&e!==j.a.musicOriginal.musicDownloading&&t===m.filenameOrigin&&u.a.createElement("div",{className:"pause-button-overlay"},u.a.createElement("div",{className:"pause-button"},u.a.createElement("div",{className:"triangle"})))),e!==j.a.musicOriginal.musicDownloading?u.a.createElement("div",{className:"menu",onClick:((i,l,o,m,h,g,O,E,w,$,D,I)=>{const _=r.a.operation;document.removeEventListener("backbutton",S.r,!1),document.addEventListener("deviceready",se),i=Object(M.J)(i);const K=JSON.parse(JSON.stringify(A)),T=x.map(e=>Object(M.H)(e.filenameOrigin)),W=["播放",-1!==T.indexOf(Object(M.H)(o))?"已收藏":"收藏","单曲播放","单曲循环","顺序播放","随机播放","添加到播放列表","添加到歌单","下载","删除","取消"];s&&o===t&&(W[0]="暂停"),$=e===j.a.musicOriginal.musicShare||e===j.a.musicOriginal.musicSearch?` ${$}`:"";const J={options:W,cancelButtonIndex:W.length-1,destructiveButtonIndex:W.length-2,badges:K,message:l?`大小: ${Object(M.b)(l)}${$}`:$,title:i,maskClosable:!0,"data-seed":"logId",wrapProps:N};e===j.a.musicOriginal.musicFinished?(W.splice(8,1),J.destructiveButtonIndex=W.length-2):(c!==j.a.musicOriginal.savedSongs&&"onlineMusic"!==c&&"onlineMusicSearchALl"!==c&&c!==j.a.musicOriginal.homeRecommend&&c!==j.a.musicOriginal.musicPlayList||(W.splice(9,1),delete J.destructiveButtonIndex,c===j.a.musicOriginal.musicPlayList&&(W[6]="移除")),E&&K.push({index:8,text:"版"})),n.a.showActionSheetWithOptions(J,s=>{logger.info("music player showMenu buttonIndex",s);const n=q.map(e=>e.filenameOrigin),r=n.indexOf(o);if(-1===r)return logger.error("showActionSheetWithOptions currentFileIndex === -1 filename",i),alert(i+"已被删除");const N=q[r].filePath;switch(s){case 0:Object(M.o)({filePath:N,filename:i,filenameOrigin:o,uploadUsername:m,fileSize:l,duration:h,songOriginal:g,original:e,musicDataList:q,pageType:c,payPlay:O,musicId:w,songInfo:I});break;case 1:Object(M.O)({savedMusicFilenameOriginalArr:T,filenameOrigin:o,musicCollection:x,musicDataList:q,currentFileIndex:r,original:e,e:null,pageType:c});break;case 2:(!d||R||L)&&(a&&a.loop(!1),$dispatch(Object(p.jb)(!0)),$dispatch(Object(p.kb)(!1)),$dispatch(Object(p.lb)(!1)),alert("单曲播放"),$dispatch(Object(p.N)([{index:2,text:"✔️"},{index:3,text:""},{index:4,text:""},{index:5,text:""}])));break;case 3:d&&(a&&a.loop(!0),$dispatch(Object(p.jb)(!1)),$dispatch(Object(p.kb)(!1)),$dispatch(Object(p.lb)(!1)),alert("单曲循环"),$dispatch(Object(p.N)([{index:2,text:""},{index:3,text:"✔️"},{index:4,text:""},{index:5,text:""}])));break;case 4:R||(a&&a.loop(!1),$dispatch(Object(p.jb)(!0)),$dispatch(Object(p.kb)(!0)),$dispatch(Object(p.lb)(!1)),alert("顺序播放"),$dispatch(Object(p.N)([{index:2,text:""},{index:3,text:""},{index:4,text:"✔️"},{index:5,text:""}])));break;case 5:L||(a&&a.loop(!1),$dispatch(Object(p.jb)(!0)),$dispatch(Object(p.kb)(!1)),$dispatch(Object(p.lb)(!0)),alert("随机播放"),$dispatch(Object(p.N)([{index:2,text:""},{index:3,text:""},{index:4,text:""},{index:5,text:"✔️"}])));break;case 6:{let e=JSON.parse(JSON.stringify(G));if(c!==j.a.musicOriginal.musicPlayList){if(O&&!$getState().myInfo.setMusicVip)return alert("不可以添加有版权的音乐");{let a=JSON.parse(JSON.stringify(I));a.pageType=c,e.push(a);const t={};e=e.filter(e=>!t[e.filenameOrigin]&&(t[e.filenameOrigin]=!0,!0)),a=null,alert("添加成功")}}else e=e.filter(e=>e.filenameOrigin!==I.filenameOrigin),alert("已取消");$dispatch(Object(p.P)(e));break}case 7:if(Object.keys(Y).length){const e=Object(M.y)({musicDataList:q,currentFileIndex:r,filenameOrigin:o,operationAction:k,removeListenBackFunc:ne});if(e.length)return void(k.action=_(e));alert("没有其他歌单了");break}alert("请先创建歌单");break;case 8:e===j.a.musicOriginal.musicFinished?re(i,o,t,r,n,e,q):Object(M.N)({musicDataList:q,filename:i,uploadUsername:m,fileSize:l,musicSrc:N,filenameOrigin:o,duration:h,songOriginal:g,musicId:w,payDownload:E,mvId:I.mvId,md5:I.md5,albumId:I.albumId});break;case 9:{if(ne(),"onlineMusic"===c||"onlineMusicSearchALl"===c||e===j.a.musicOriginal.musicFinished)return;if(!C)return goRoute(void 0,"/login");const a={username:P||F,token:C,filename:i,type:"default-music"};return void(e!==j.a.musicOriginal.musicShare&&e!==j.a.musicOriginal.musicSearch||"downloaded"===D?e===j.a.musicOriginal.musicRecent?Object(S.j)("提示",u.a.createElement(b.a,{textFragment:`确定要删除 <span class="delete-alert">${i}</span> 的播放记录吗`}),"确定",()=>{let a=null;if(Q.some((e,t)=>e.filenameOrigin===o&&(a=t,!0)),null!==a){const i=JSON.parse(JSON.stringify(Q));if(i.splice(a,1),$dispatch(Object(p.nb)(i)),Object(y.c)(o),o===t){const a=JSON.parse(JSON.stringify(Q));Object(M.q)(r,n,e,a)}}else logger.error("确定要删除播放记录吗 filenameOrigin, recentMusicList",o,Q)}):"downloaded"===D?re(i,o,t,r,n,e,q):c===j.a.musicOriginal.myMusicListPage&&Object(M.I)(o,i):Object(S.j)("提示",u.a.createElement(b.a,{textFragment:`确定要从服务器删除 <span class="delete-alert">${i}</span> 吗`}),"确定",()=>(Object(S.B)(),axios.delete(f.a.delFile,{data:a}).then(a=>{if(window.toast.hide(),!window.cancelAxiosRequest)return"success"===a.result?($dispatch(Object(v.j)(a.token)),alert("删除成功"),oe(e,o)):"file_deleted"===a.result?(alert("文件已删除!"),oe(e,o)):void logger.error("HTTP_URL.delFile result",a)}).then(()=>{o===t&&Object(M.q)(r,n,e,q)}).catch(e=>{logger.error("HTTP_URL.delFile err",e),Object(S.q)(e,`musicPlayer delFile filenameOrigin: ${o}`)}).finally(()=>{window.cancelAxiosRequest=!1}))))}}ne()})}).bind(void 0,m.filename,m.fileSize,m.filenameOrigin,m.uploadUsername,m.duration,m.original,Number(m.payPlay),Number(m.payDownload),m.id,m.date,m.status,m)},u.a.createElement("div",{className:"dot"}),u.a.createElement("div",{className:"dot"}),u.a.createElement("div",{className:"dot"})):u.a.createElement("div",{className:"move-downloading-item fa fa-remove",onClick:((e,a)=>{Object(S.j)("提示",u.a.createElement(b.a,{textFragment:`确定要移除下载 <span class="delete-alert">${e}</span> 吗`}),"确定",()=>{const e=Object(M.H)(a);window.eventEmit.$emit(`FileTransfer-${e}`,"abort"),window[`remove-download-${e}`]=!0,setTimeout(()=>{},500);const{downloadingMusicItems:t}=$getState().fileServer,i=JSON.parse(JSON.stringify(t));for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].filenameOrigin===a){i.splice(e,1),$dispatch(Object(p.o)(i)),Object(E.c)(a);break}logger.info("saveFileToLocal param, downloadingMusicItems",t)})}).bind(void 0,m.filename,m.filenameOrigin)}));Object(M.n)(q,c);const de=e===j.a.musicOriginal.musicDownloading;let me=0;return Z&&B?me=B:X&&z?me=z:ee&&U?me=U:ae&&V&&(me=V),u.a.createElement(o.Fragment,null,u.a.createElement("div",{className:"music-list-container",style:{height:c===j.a.musicOriginal.musicFinished?"auto":"100%"},ref:J},H?u.a.createElement(g.a,{width:window.screen.width,height:H,rowCount:q.length,rowHeight:66,onScroll:({scrollTop:e})=>{$=e,Z&&B?$dispatch(Object(p.S)(0)):X&&z?$dispatch(Object(p.R)(0)):ee&&U?$dispatch(Object(p.Q)(0)):ae&&V&&$dispatch(Object(p.L)(0))},scrollTop:me||void 0,rowRenderer:({key:e,index:a,style:t})=>u.a.createElement("div",{key:e,style:t,className:"music-list",id:Object(w.d)(q[a].filenameOrigin)},ue(q[a],a))}):q.map((e,a)=>u.a.createElement("div",{key:e.filenameOrigin,className:"music-list",id:Object(w.d)(e.filenameOrigin)},ue(e,a)))),c===j.a.musicOriginal.savedSongs&&u.a.createElement("div",{className:"music-picture"}),!_&&!W&&u.a.createElement(O.default,{fromMusicControl:!0,myMusicPage:K,searchMusicPage:T}))})},363:function(e,a,t){"use strict";t(351);var i=t(352),l=t.n(i),s=(t(346),t(347)),n=t.n(s),c=t(0),r=t.n(c),o=t(4),u=t(95),d=t(373),m=t.n(d),h=t(359),g=t(38),f=t(3),O=t(8),b=t(2),p=t(10),S=t(9),v=t(1),M=t(20),j=t(34);function y(e){return function(){var a=e.apply(this,arguments);return new Promise(function(e,t){return function i(l,s){try{var n=a[l](s),c=n.value}catch(e){return void t(e)}if(!n.done)return Promise.resolve(c).then(function(e){i("next",e)},function(e){i("throw",e)});e(c)}("next")})}}let E;new RegExp("\\biPhone\\b|\\biPod\\b","i").test(navigator.userAgent)&&(E={onTouchStart:e=>e.preventDefault()});let w=0;a.a=Object(u.connect)(e=>({username:e.login.username,token:e.login.token,downloadingFileList:e.fileServer.downloadingFileList,lastFileSearchResult:e.fileServer.lastFileSearchResult,lastSearchAllFileResult:e.fileServer.lastSearchAllFileResult,setMobile:e.myInfo.setMobile,downloadedFileList:e.fileServer.downloadedFileList,fileSharePosition:e.fileServer.fileSharePosition}),()=>({}))(({username:e,token:a,downloadingFileList:t,downloadedFileList:i,lastFileSearchResult:s,lastSearchAllFileResult:u,setMobile:d,fileDataList:N=[],original:$,height:k,fileSharePosition:R})=>{const x=Object(j.j)(),A=Object(o.useHistory)();Object(c.useEffect)(()=>()=>{x&&$dispatch(Object(v.q)(w))},[]);const P=()=>{window.cancelMenuFirst=!0,document.addEventListener("backbutton",C,!1)},C=()=>{window.cancelMenuFirst=!1;const e=document.querySelector(".am-action-sheet-button-list div:nth-last-child(1)");e&&e.click(),e&&e.click()},L=(()=>{var e=y(function*(e,a,t,l,s,c,o,u){try{document.removeEventListener("backbutton",f.r,!1),document.addEventListener("deviceready",P),e=Object(S.J)(e);let d="下载",m="fileFinished"===$;m?d="打开":"fileShare"!==$&&"fileSearch"!==$||i.some(function(e){return!(Object(S.H)(e.filenameOrigin)!==Object(S.H)(s)||e.status&&"downloaded"!==e.status||(d="打开",m=!0,0))});const h=[d,"分享","删除","取消"];"fileDownloading"===$||"fileFinished"===$||"downloaded"===o?(h.splice(1,1),c=""):"fileShare"===$&&(c=` ${c}`),isCordova||"fileShare"!==$&&"fileSearch"!==$||h.splice(1,1);const O={options:h,cancelButtonIndex:h.length-1,destructiveButtonIndex:h.length-2,message:`大小: ${Object(S.b)(a)}${c}`,title:e,maskClosable:!0,"data-seed":"logId",wrapProps:E};n.a.showActionSheetWithOptions(O,function(i){switch(logger.info("file manage showMenu buttonIndex",i),i){case 0:m?D(e,s):Object(S.M)(e,l,a,t,!1,s,A,D,u);break;case 1:if("fileFinished"===$||"downloaded"===o)Object(f.j)("提示",r.a.createElement(g.a,{textFragment:`确定从本地删除 <span class="delete-alert">${e}</span> 吗`}),"确定",function(){Object(S.G)(Object(S.H)(s),"file").then(function(){q($,s)}).catch(function(a){logger.error("删除文件过程中发生了错误 isFileFinished",a.stack||a.toString()),Object(f.q)(a,`fileManage removeFileFromDownload filename ${e}`)})});else if(isCordova){const i=`${b.a.appStaticDirectory}#/show_file_info?filename=${e}&fileSize=${Object(S.b)(a)}&filePath=${t}`;Object(f.w)({title:e,description:"我分享了一个文件,快来看看吧",thumb:`${b.a.appStaticDirectory}logo.png`,webpageUrl:i})}else F(e,s);break;case 2:!isCordova||"fileShare"!==$&&"fileSearch"!==$||"downloaded"===o||F(e,s);break;default:logger.warn("buttonIndex default")}window.cancelMenuFirst=!1,document.removeEventListener("backbutton",C),document.removeEventListener("deviceready",P),document.addEventListener("backbutton",f.r,!1)})}catch(e){logger.error("fileManage showMenu err",e)}});return function(a,t,i,l,s,n,c,r){return e.apply(this,arguments)}})(),F=(t,i)=>{if(!a)return goRoute(void 0,"/login");const l={username:e||d,token:a,filename:t,type:"default-file"};Object(f.j)("提示",r.a.createElement(g.a,{textFragment:`确定从服务器删除 <span class="delete-alert">${t}</span> 吗`}),"确定",()=>(Object(f.B)(),axios.delete(O.a.delFile,{data:l}).then(e=>{if(window.toast.hide(),!window.cancelAxiosRequest)return"file_deleted"===e.result?(alert("文件已删除!"),$dispatch(Object(p.j)(e.token)),q($,i)):"success"===e.result?(alert("删除成功!"),$dispatch(Object(p.j)(e.token)),q($,i)):void alert("删除失败!")}).catch(e=>{logger.error("删除文件过程中发生了错误",e.stack||e.toString()),Object(f.q)(e,`delFile dataInfo: ${JSON.stringify(l)}`)}).finally(()=>{window.cancelAxiosRequest=!1})))},q=(e,a)=>{if("fileSearch"===e){let e,t;s.some((t,i)=>t.filenameOrigin===a&&(e=i,!0));const i=JSON.parse(JSON.stringify(s));i.splice(e,1),u.some((e,i)=>e.filenameOrigin===a&&(t=i,!0));const l=JSON.parse(JSON.stringify(u));u.splice(t,1),$dispatch(Object(v.u)(i)),$dispatch(Object(v.D)(l))}},D=(e,a)=>{let t=m.a.lookup(e);t||(t="text/plain",alert("不支持打开的的文件类型，请提交反馈")),Object(S.x)(e,t,Object(S.H)(a))},I=(()=>{var e=y(function*(e,a,i,l,s,n){e=Object(S.J)(e),"fileFinished"===$?D(e,s):"fileShare"===$||"fileSearch"===$?yield Object(S.M)(e,a,i,l,!1,s,A,D,n):"fileDownloading"===$&&t.some(function(t){return t.filenameOrigin===s&&(s=s.replace(/^downloading_/,""),logger.info("downloadOrOpenFile filenameOrigin",s),"失败"===t.progress||"已取消"===t.progress?Object(S.M)(e,a,i,l,!0,s,A,D,n):(window.eventEmit.$emit(`FileTransfer-${s}`,"abort"),setTimeout(function(){window[`cancel-download-${Object(S.H)(s)}`]||Object(S.M)(e,a,i,l,!0,s,A,D,n)},500)),!0)})});return function(a,t,i,l,s,n){return e.apply(this,arguments)}})(),Q=(e,a)=>r.a.createElement(c.Fragment,null,r.a.createElement("div",{className:`file-content ${_?"downloading":""}`,onClick:I.bind(void 0,e.filename,e.uploadUsername,e.fileSize,e.filePath,e.filenameOrigin,e.md5)},r.a.createElement("div",{className:`num ${Object(f.d)(a+1)}`},a+1),r.a.createElement("div",{className:"file-info"},r.a.createElement("div",{className:`info ${"fileFinished"===$?"center":""} ${e.downloaded?"downloaded":""}`},r.a.createElement("div",{className:`filename ${_?"downloading":""}`,dangerouslySetInnerHTML:{__html:e.filename}}),e.downloaded&&r.a.createElement("div",{className:"downloaded-text"},"已下载"),_?r.a.createElement("div",{className:"file-size downloading"},e.progress):null),r.a.createElement("div",{className:"upload-info"},r.a.createElement("div",{className:`upload-user ${_?"downloading":""}`},`${"fileFinished"!==$?e.uploadUsername:""}${(e=>e?"fileDownloading"===$?"":("number"==typeof e&&(e=new Date(e).format("yyyy-MM-dd"))," "+e.split(" ")[0]):"")(e.date)}`),"fileShare"===$||"fileSearch"===$?r.a.createElement("div",{className:`file-size ${Object(f.d)(a+1)}`},Object(S.b)(e.fileSize)):_?r.a.createElement("div",{className:"download-progress"},r.a.createElement(l.a,{percent:e.received?e.received/e.fileSize*100:0,position:"normal"})):null))),_?r.a.createElement("div",{className:"move-downloading-item fa fa-remove",onClick:((e,a)=>{Object(f.j)("提示",r.a.createElement(g.a,{textFragment:`确定要移除下载 <span class="delete-alert">${e}</span> 吗`}),"确定",()=>{const e=Object(S.H)(a);window.eventEmit.$emit(`FileTransfer-${e}`,"abort"),window[`remove-download-${e}`]=!0,setTimeout(()=>{},500);const{downloadingFileList:t}=$getState().fileServer,i=JSON.parse(JSON.stringify(t));for(const e in t)if(i[e].filenameOrigin===a){i.splice(e,1),$dispatch(Object(v.n)(i)),Object(M.c)(a);break}})}).bind(void 0,e.filename,e.filenameOrigin)}):r.a.createElement("div",{className:"menu",onClick:L.bind(void 0,e.filename,e.fileSize,e.filePath,e.uploadUsername,e.filenameOrigin,e.date,e.status,e.md5)},r.a.createElement("div",{className:"dot"}),r.a.createElement("div",{className:"dot"}),r.a.createElement("div",{className:"dot"}))),_="fileDownloading"===$;let K=0;return x&&R&&(K=R),r.a.createElement("div",{className:"file-manage-container"},k?r.a.createElement(h.a,{width:window.screen.width,height:k,rowCount:N.length,rowHeight:66,onScroll:({scrollTop:e})=>{w=e,x&&R&&$dispatch(Object(v.q)(0))},scrollTop:K||void 0,rowRenderer:({key:e,index:a,style:t})=>r.a.createElement("div",{key:e,style:t,className:"file-list"},Q(N[a],a))}):N.map((e,a)=>r.a.createElement("div",{className:"file-list",key:e.filenameOrigin},Q(e,a))))})},368:function(e,a,t){"use strict";var i=t(0),l=t.n(i),s=t(95),n=t(334),c=t(343),r=t(363),o=t(356),u=t(8),d=t(1),m=t(3),h=t(2),g=t(9);let f="",O=null;a.a=Object(s.connect)(e=>({noMoreNetEaseCloudResults:e.fileServer.noMoreNetEaseCloudResults,noMoreQQMusicResults:e.fileServer.noMoreQQMusicResults,noMoreKuGouMusicResults:e.fileServer.noMoreKuGouMusicResults,noMoreKuWoMusicResults:e.fileServer.noMoreKuWoMusicResults,noMoreSearchAllFileResults:e.fileServer.noMoreSearchAllFileResults,noMoreSearchAllMusicResults:e.fileServer.noMoreSearchAllMusicResults,noMoreSearchAllNetEaseCloudResults:e.fileServer.noMoreSearchAllNetEaseCloudResults,noMoreSearchAllQQMusicResults:e.fileServer.noMoreSearchAllQQMusicResults,noMoreSearchAllKuGouMusicResults:e.fileServer.noMoreSearchAllKuGouMusicResults,noMoreSearchAllKuWoMusicResults:e.fileServer.noMoreSearchAllKuWoMusicResults,musicCollection:e.fileServer.musicCollection,downloadedMusicList:e.fileServer.downloadedMusicList,downloadedFileList:e.fileServer.downloadedFileList,defaultSearchRealKey:e.common.defaultSearchRealKey}),()=>({}))(({lastSearchResult:e,lastSearchString:a,type:t,musicCollection:s,fileDatalist:b,musicDatalist:p,navbarText:S,placeholder:v,noMoreNetEaseCloudResults:M,noMoreQQMusicResults:j,noMoreKuGouMusicResults:y,noMoreKuWoMusicResults:E,noMoreSearchAllFileResults:w,noMoreSearchAllMusicResults:N,noMoreSearchAllNetEaseCloudResults:$,noMoreSearchAllQQMusicResults:k,noMoreSearchAllKuGouMusicResults:R,noMoreSearchAllKuWoMusicResults:x,downloadedMusicList:A,downloadedFileList:P,currentQueryStringWithResults:C,defaultSearchRealKey:L})=>{const[F,q]=Object(i.useState)(!1),[D,I]=Object(i.useState)(!1),[Q,_]=Object(i.useState)(!1),[K,T]=Object(i.useState)(!1),[W,J]=Object(i.useState)(!1),[G,H]=Object(i.useState)(!1),[B,z]=Object(i.useState)(!1),[U,V]=Object(i.useState)(!1),Y=Object(i.useRef)();Object(i.useEffect)(()=>{I(!!e.length),!a&&Y.current&&Y.current.focus()},[]);const Z=e=>"searchAll"===t?`searchAll_${e.filenameOrigin?e.filenameOrigin:e.filename+"_"+e.md5+".mp3"}`:"onlineMusic"===t?"onlineMusic_"+e.filename+"_"+e.md5+".mp3":"music"===t?"searchMusic_"+e.filenameOrigin:void 0,X=(e,a,t)=>{switch(a=JSON.parse(JSON.stringify(a)),"file"!==e&&"fileSearchAll"!==e&&a.forEach(e=>{e.filenameOrigin=Z(e),(e=>{s.forEach(a=>{Object(g.H)(a.filenameOrigin)===Object(g.H)(e.filenameOrigin)&&(e.saved=!0)})})(e)}),a.forEach(a=>{let i=a.filename;i="file"===e||"music"===e?(i=i.split(f)).join(`<span class="hight-light-keyword">${f}</span>`):(i=i.split(t||C||f)).join(`<span class="hight-light-keyword">${t||C||f}</span>`),a.filename=i}),e){case"file":$dispatch(Object(d.u)(a));break;case"music":$dispatch(Object(d.y)(a));break;case h.a.musicOriginal.netEaseCloud:$dispatch(Object(d.A)(a));break;case h.a.musicOriginal.qqMusic:$dispatch(Object(d.C)(a));break;case h.a.musicOriginal.kuGouMusic:$dispatch(Object(d.w)(a));break;case h.a.musicOriginal.kuWoMusic:$dispatch(Object(d.x)(a));break;case"onlineMusic":$dispatch(Object(d.A)([])),$dispatch(Object(d.C)([])),$dispatch(Object(d.w)([])),$dispatch(Object(d.x)([]));break;case"searchAll":$dispatch(Object(d.D)([])),$dispatch(Object(d.G)([])),$dispatch(Object(d.H)([])),$dispatch(Object(d.I)([])),$dispatch(Object(d.E)([])),$dispatch(Object(d.F)([]));break;case"netEaseCloudSearchAll":$dispatch(Object(d.H)(a));break;case"qqMusicSearchAll":$dispatch(Object(d.I)(a));break;case"kuGouMusicSearchAll":$dispatch(Object(d.E)(a));break;case"kuWoMusicSearchAll":$dispatch(Object(d.F)(a));break;case"fileSearchAll":$dispatch(Object(d.D)(a));break;case"musicSearchAll":$dispatch(Object(d.G)(a))}},ee=(e,a)=>{switch(f=a,e){case"file":$dispatch(Object(d.v)(a));break;case"music":$dispatch(Object(d.z)(a));break;case"onlineMusic":$dispatch(Object(d.B)(a));break;case"searchAll":$dispatch(Object(d.J)(a))}},ae=e=>{try{I(!1);const a=e?e.target.value:"";if(ee(t,a),!a)return _(!1),T(!1),J(!1),H(!1),z(!1),V(!1),void(O&&clearInterval(O));"music"===t||"file"===t?te(a):(O&&clearInterval(O),O=setTimeout(()=>{te(a),O=null},800))}catch(e){logger.error("SearchResourceComponent updateValue type",t,"err",e),alertDebug("SearchResourceComponent updateValue err")}},te=e=>{if(logger.info("SearchResourceComponent getAutoSuggest query",e),"searchAll"!==t&&"onlineMusic"!==t||!v||"搜索"===v||e||ee(t,e=L),e){if(q(!0),_(!1),T(!1),J(!1),H(!1),z(!1),V(!1),"onlineMusic"===t)return $dispatch(Object(d.ab)(!1)),$dispatch(Object(d.bb)(!1)),$dispatch(Object(d.Y)(!1)),$dispatch(Object(d.Z)(!1)),le(e,h.a.musicOriginal.netEaseCloud,h.a.musicOriginal.qqMusic,h.a.musicOriginal.kuGouMusic,h.a.musicOriginal.kuWoMusic);if("file"===t||"music"===t)ie(e,t);else if("searchAll"===t)return $dispatch(Object(d.gb)(!1)),$dispatch(Object(d.hb)(!1)),$dispatch(Object(d.db)(!1)),$dispatch(Object(d.eb)(!1)),le(e,"netEaseCloudSearchAll","qqMusicSearchAll","kuGouMusicSearchAll","kuWoMusicSearchAll").then(()=>{ie(e,"fileSearchAll",3),ie(e,"musicSearchAll",3)})}},ie=(e,a,t)=>{if(!e)return;let i=[],l=[];if("file"===a||"fileSearchAll"===a){const e=[...P,...b];l=JSON.parse(JSON.stringify(e))}else if("music"===a||"musicSearchAll"===a){const e=[...A,...p];l=JSON.parse(JSON.stringify(e))}(l=Object.values(Object(g.F)(l))).forEach(a=>{a.filename.includes(e)&&i.push(a)}),t?(i.length<=t?"fileSearchAll"===a?$dispatch(Object(d.cb)(!0)):"musicSearchAll"===a&&$dispatch(Object(d.fb)(!0)):"fileSearchAll"===a?$dispatch(Object(d.cb)(!1)):"musicSearchAll"===a&&$dispatch(Object(d.fb)(!1)),i=i.slice(0,t)):"fileSearchAll"===a?$dispatch(Object(d.cb)(!0)):"musicSearchAll"===a&&$dispatch(Object(d.fb)(!0)),X(a,i,e),q(!1),I(!0)},le=(e,a,i,l,s)=>{if(e)return logger.info("SearchResourceComponent fetchOnlineSongs query",e),axios.get(u.a.getOnlineMusicLists.format({query:e})).then(n=>{const c=n.response;logger.info("SearchResourceComponent fetchOnlineSongs result"),"onlineMusic"===t?$dispatch(Object(d.j)(e)):"searchAll"===t&&$dispatch(Object(d.i)(e)),q(!1),X(a,c.netEaseCloud,e),X(i,c.qqMusic,e),X(l,c.kuGouMusic,e),X(s,c.kuWoMusic,e),Object(g.w)({msg:"search online music query: "+e})}).catch(a=>(q(!1),Object(m.q)(a,`fetchOnlineSongs ${e}`)))},se=e=>{let t;if(e===h.a.musicOriginal.netEaseCloud||"netEaseCloudSearchAll"===e){if(Q||!C)return;t=u.a.getNetEaseCloudMusicLists,_(!0)}else if(e===h.a.musicOriginal.qqMusic||"qqMusicSearchAll"===e){if(K||!C)return;t=u.a.getQQMusicLists,T(!0)}else if(e===h.a.musicOriginal.kuGouMusic||"kuGouMusicSearchAll"===e){if(W||!C)return;t=u.a.getKuGouMusicLists,J(!0)}else if(e===h.a.musicOriginal.kuWoMusic||"kuWoMusicSearchAll"===e){if(G||!C)return;t=u.a.getKuWoMusicLists,H(!0)}else{if("file"===e){if(B||!a)return;return z(!0),void ie(a,"fileSearchAll")}if("music"===e){if(U||!a)return;return V(!0),void ie(a,"musicSearchAll")}}return logger.info("SearchResourceComponent showMoreSearchResult original, currentQueryStringWithResults",e,C),axios.get(t.format({query:C})).then(a=>{const t=a.response;logger.info("SearchResourceComponent showMoreSearchResult original, result.length",e,t.length),ne(e,t)}).catch(a=>(ne(e,null),Object(m.q)(a,`showMoreSearchResult axios ${e}`)))},ne=(e,a)=>{e===h.a.musicOriginal.netEaseCloud||"netEaseCloudSearchAll"===e?(a&&X(e,a,null),e===h.a.musicOriginal.netEaseCloud?$dispatch(Object(d.ab)(!0)):$dispatch(Object(d.gb)(!0)),_(!1)):e===h.a.musicOriginal.qqMusic||"qqMusicSearchAll"===e?(a&&X(e,a,null),e===h.a.musicOriginal.qqMusic?$dispatch(Object(d.bb)(!0)):$dispatch(Object(d.hb)(!0)),T(!1)):e===h.a.musicOriginal.kuGouMusic||"kuGouMusicSearchAll"===e?(a&&X(e,a,null),e===h.a.musicOriginal.kuGouMusic?$dispatch(Object(d.Y)(!0)):$dispatch(Object(d.db)(!0)),J(!1)):e!==h.a.musicOriginal.kuWoMusic&&"kuWoMusicSearchAll"!==e||(a&&X(e,a,null),e===h.a.musicOriginal.kuWoMusic?$dispatch(Object(d.Z)(!0)):$dispatch(Object(d.eb)(!0)),H(!1))},ce=({origin:e,lastSearchResult:a,noMoreNetEaseCloudResults:t,moreNetEaseCloudSearch:s,noMoreQQMusicResults:n,moreQQMusicSearch:c,noMoreKuGouMusicResults:r,moreKuGouMusicSearch:u,noMoreKuWoMusicResults:d,moreKuWoMusicSearch:m})=>l.a.createElement(i.Fragment,null,l.a.createElement("div",{className:"online-music-container"},l.a.createElement("div",{className:"interval-line"}),l.a.createElement("div",{className:"online-music-header"},"QQ音乐"),l.a.createElement(o.a,{musicDataList:a[2].lastQQMusicSearchResult,original:h.a.musicOriginal.qqMusic,pageType:e,searchMusicPage:!0}),l.a.createElement("div",{className:"online-music-more-btn last-one"},!n&&a[2].lastQQMusicSearchResult.length?l.a.createElement("i",{className:`fa fa-search ${c&&"searching-status"}`,"aria-hidden":"true"}):null,c&&!n?l.a.createElement("span",{className:"searching-text"},"正在查询..."):n||!a[2].lastQQMusicSearchResult.length?null:l.a.createElement("span",{className:"more-results-text",onClick:()=>se("onlineMusic"===e?h.a.musicOriginal.qqMusic:"qqMusicSearchAll")},"更多结果"))),l.a.createElement("div",{className:"online-music-container"},l.a.createElement("div",{className:"interval-line first-line"}),l.a.createElement("div",{className:"online-music-header"},"网易云"),l.a.createElement(o.a,{musicDataList:a[3].lastNetEaseCloudSearchResult,original:h.a.musicOriginal.netEaseCloud,pageType:e,noShowMusicPlaying:!0}),l.a.createElement("div",{className:"online-music-more-btn"},!t&&a[3].lastNetEaseCloudSearchResult.length?l.a.createElement("i",{className:`fa fa-search ${s&&"searching-status"}`,"aria-hidden":"true"}):null,s&&!t?l.a.createElement("span",{className:"searching-text"},"正在查询..."):t||!a[3].lastNetEaseCloudSearchResult.length?null:l.a.createElement("span",{className:"more-results-text",onClick:()=>se("onlineMusic"===e?h.a.musicOriginal.netEaseCloud:"netEaseCloudSearchAll")},"更多结果"))),l.a.createElement("div",{className:"online-music-container"},l.a.createElement("div",{className:"interval-line"}),l.a.createElement("div",{className:"online-music-header"},"酷狗音乐"),l.a.createElement(o.a,{musicDataList:a[4].lastKuGouMusicSearchResult,original:h.a.musicOriginal.kuGouMusic,pageType:e,noShowMusicPlaying:!0}),l.a.createElement("div",{className:"online-music-more-btn last-one"},!r&&a[4].lastKuGouMusicSearchResult.length?l.a.createElement("i",{className:`fa fa-search ${u&&"searching-status"}`,"aria-hidden":"true"}):null,u&&!r?l.a.createElement("span",{className:"searching-text"},"正在查询..."):r||!a[4].lastKuGouMusicSearchResult.length?null:l.a.createElement("span",{className:"more-results-text",onClick:()=>se("onlineMusic"===e?h.a.musicOriginal.kuGouMusic:"kuGouMusicSearchAll")},"更多结果"))),l.a.createElement("div",{className:"online-music-container"},l.a.createElement("div",{className:"interval-line"}),l.a.createElement("div",{className:"online-music-header"},"酷我音乐"),l.a.createElement(o.a,{musicDataList:a[5].lastKuWoMusicSearchResult,original:h.a.musicOriginal.kuWoMusic,pageType:e,noShowMusicPlaying:!0}),l.a.createElement("div",{className:"online-music-more-btn last-one"},!d&&a[5].lastKuWoMusicSearchResult.length?l.a.createElement("i",{className:`fa fa-search ${m&&"searching-status"}`,"aria-hidden":"true"}):null,m&&!d?l.a.createElement("span",{className:"searching-text"},"正在查询..."):d||!a[5].lastKuWoMusicSearchResult.length?null:l.a.createElement("span",{className:"more-results-text",onClick:()=>se("onlineMusic"===e?h.a.musicOriginal.kuWoMusic:"kuWoMusicSearchAll")},"更多结果"))));return l.a.createElement("div",{className:"search-component-container"},l.a.createElement(n.a,{centerText:S,backToPreviousPage:()=>Object(m.b)("/search_column",!1)}),l.a.createElement("div",{className:"search-header"},l.a.createElement("div",{className:"search-input"},l.a.createElement(c.a,{value:a,placeholder:v,handleChange:ae,handleKeyDown:e=>{13===e.keyCode&&(logger.info("lastSearchString",a),Y.current.blur(),te(a))},className:"search-input-content",ref:Y}),l.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}),a&&l.a.createElement("i",{className:"fa fa-times-circle-o","aria-hidden":"true",onClick:ae}))),l.a.createElement("div",{className:`search-result-container ${"file"===t&&"isFileSearchColumn"}`},F?l.a.createElement("div",{className:"searching"},"正在查询..."):e.length||!a?l.a.createElement("div",{className:"search-result-content"},"file"===t?l.a.createElement(r.a,{fileDataList:e,original:"fileSearch",type:"file"}):"music"===t?l.a.createElement(o.a,{musicDataList:e,original:h.a.musicOriginal.musicSearch,pageType:"onlySearchShareMusic",searchMusicPage:!0}):"onlineMusic"===t?ce({origin:"onlineMusic",lastSearchResult:e,noMoreNetEaseCloudResults:M,moreNetEaseCloudSearch:Q,noMoreQQMusicResults:j,moreQQMusicSearch:K,noMoreKuGouMusicResults:y,moreKuGouMusicSearch:W,noMoreKuWoMusicResults:E,moreKuWoMusicSearch:G}):"searchAll"===t?l.a.createElement(i.Fragment,null,l.a.createElement("div",{className:"online-music-container"},l.a.createElement("div",{className:"online-music-header"},"文件"),l.a.createElement(r.a,{fileDataList:e[0].lastSearchAllFileResult,original:"fileSearch",type:"searchAll"}),l.a.createElement("div",{className:"online-music-more-btn last-one",onClick:()=>se("file")},!w&&e[0].lastSearchAllFileResult.length?l.a.createElement("i",{className:`fa fa-search ${B&&"searching-status"}`,"aria-hidden":"true"}):null,B&&!w?l.a.createElement("span",{className:"searching-text"},"正在查询..."):w||!e[0].lastSearchAllFileResult.length?null:l.a.createElement("span",{className:"more-results-text"},"更多结果"))),l.a.createElement("div",{className:"online-music-container"},l.a.createElement("div",{className:"interval-line"}),l.a.createElement("div",{className:"online-music-header"},"音乐"),l.a.createElement(o.a,{musicDataList:e[1].lastSearchAllMusicResult,original:h.a.musicOriginal.musicSearch,pageType:"onlineMusicSearchALl",noShowMusicPlaying:!0}),l.a.createElement("div",{className:"online-music-more-btn last-one",onClick:()=>se("music")},!N&&e[1].lastSearchAllMusicResult.length?l.a.createElement("i",{className:`fa fa-search ${U&&"searching-status"}`,"aria-hidden":"true"}):null,U&&!N?l.a.createElement("span",{className:"searching-text"},"正在查询..."):N||!e[1].lastSearchAllMusicResult.length?null:l.a.createElement("span",{className:"more-results-text"},"更多结果"))),ce({origin:"onlineMusicSearchALl",lastSearchResult:e,noMoreNetEaseCloudResults:$,moreNetEaseCloudSearch:Q,noMoreQQMusicResults:k,moreQQMusicSearch:K,noMoreKuGouMusicResults:R,moreKuGouMusicSearch:W,noMoreKuWoMusicResults:x,moreKuWoMusicSearch:G})):null):D&&l.a.createElement("div",{className:"no-result"},"没有结果")))})},599:function(e,a,t){"use strict";t.r(a);var i=t(0),l=t.n(i),s=t(95),n=t(368);a.default=Object(s.connect)(e=>({musicList:e.fileServer.musicList,lastMusicSearchResult:e.fileServer.lastMusicSearchResult,lastMusicSearchString:e.fileServer.lastMusicSearchString}),()=>({}))(({musicList:e,lastMusicSearchResult:a,lastMusicSearchString:t})=>l.a.createElement(n.a,{musicDatalist:e,navbarText:"搜索音乐",placeholder:"搜索",type:"music",lastSearchResult:a,lastSearchString:t}))}}]);