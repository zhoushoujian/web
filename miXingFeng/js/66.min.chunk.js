(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{336:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(337);t.a=(({centerText:e="",backToPreviousPage:t=(()=>{}),rightText:a="",rightTextFunc:s=(()=>{})})=>r.a.createElement(n.Fragment,null,r.a.createElement(c.a,null),r.a.createElement("div",{className:"navbar-container"},r.a.createElement("div",{className:"back-btn",onClick:t},r.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})),r.a.createElement("div",{className:"center-text"},e),r.a.createElement("div",{className:"other-text",onClick:s},a))))},337:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=(()=>r.a.createElement("div",{className:"top-status-bar"}))},614:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(95),s=a(336),o=a(3),i=a(2),l=a(37),u=a(7);let m,d,v,f,E,h,b;t.default=Object(c.connect)(e=>({currentIncorrectQuestionIndex:e.myInfo.currentIncorrectQuestionIndex,incorrectQuestions:e.myInfo.incorrectQuestions}),()=>({}))(({incorrectQuestions:e,currentIncorrectQuestionIndex:t})=>{const a=Object(n.useRef)(),[c,p]=Object(n.useState)({}),[g,N]=Object(n.useState)(!1),[O,y]=Object(n.useState)(!1),[j,k]=Object(n.useState)(0),[w,L]=Object(n.useState)(0),[_,x]=Object(n.useState)(!1);Object(n.useEffect)(()=>{isCordova&&window.StatusBar.backgroundColorByHexString(i.a.questionThemeColor),document.removeEventListener("deviceready",q,!1),document.addEventListener("deviceready",q,!1),a.current.removeEventListener("touchstart",S,!1),a.current.removeEventListener("touchmove",I,!1),a.current.removeEventListener("touchend",P,!1),a.current.addEventListener("touchstart",S,!1),a.current.addEventListener("touchmove",I,!1),a.current.addEventListener("touchend",P,!1);try{const a=JSON.parse(JSON.stringify(e[t]));for(const e in a)Object.prototype.hasOwnProperty.call(a,e)&&(a[e]=JSON.parse(a[e]));p(a),L(a.answer)}catch(e){logger.error("IncorrectQuestion JSON.parse currentQuestion err",e),Q()}return()=>{document.removeEventListener("deviceready",q,!1),document.removeEventListener("backbutton",C,!1),a.current.style.left="0",a.current.removeEventListener("touchstart",S,!1),a.current.removeEventListener("touchmove",I,!1),a.current.removeEventListener("touchend",P,!1)}},[t,e]);const S=e=>{e.stopPropagation(),m=e.clientX||e.touches[0].pageX,d=e.clientY||e.touches[0].pageY,logger.info("IncorrectQuestion startPage offsetFirstXValue",m,"offsetFirstYValue",d)},I=e=>{e.stopPropagation();const t=e.clientX||e.touches[0].pageX,n=e.clientY||e.touches[0].pageY;f=n-d,0!=(v=t-m)&&(Math.abs(f)>15&&!0!==E?h=!0:(Math.abs(v)>=Math.abs(f)&&!0!==h||E)&&(E=!0,a.current.style.left=v+"px",b=v<0))},P=n=>{n.stopPropagation(),h=!1,logger.info("endPage offsetXValue",v,"offsetYValue",f),E&&(E=!1,b?t===e.length-1?alert("已经是最后一题啦"):J():0===t||T(),a.current.style.left=0)},q=()=>{document.addEventListener("backbutton",C,!1)},C=()=>{Object(o.b)("/incorrect_questions",!0)},Q=()=>{Object(o.b)("/incorrect_questions",!1)},T=()=>{X(),$dispatch(Object(u.c)(t-1))},J=()=>{X(),$dispatch(Object(u.c)(t+1))},X=()=>{N(!1),y(!1),L(0),x(!1)};return r.a.createElement("div",{className:"incorrect-question-container"},r.a.createElement(s.a,{centerText:"错题集",backToPreviousPage:Q}),r.a.createElement("div",{className:"incorrect-question-content web-font",ref:a},r.a.createElement("div",{className:"num"},"第",t+1,"题"),r.a.createElement("div",{className:"type animate__pulse animate__animated "},c.school," ● ",c.type),r.a.createElement("div",{className:"title animate__pulse animate__animated "},c.quiz),r.a.createElement("div",{className:"questions animate__pulse animate__animated "},c.options&&c.options.map((e,t)=>r.a.createElement("div",{key:t,className:`question ${g&&!O&&j===t?"incorrect-answer":""} ${g&&t+1===w?"correct-answer":""}`,onClick:()=>(e=>{g||(N(!0),k(e),y(e===w-1))})(t)},r.a.createElement("span",{className:"question-text"},e),g&&t+1===w&&r.a.createElement("span",{className:"circle"},r.a.createElement("span",{className:"circle-inner"})),g&&!O&&j===t&&r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))),r.a.createElement("div",{className:"bottom"},0!==t&&r.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true",onClick:T}),!_&&r.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true",onClick:()=>(x(!0),Object(l.b)(e[t],"remove").then(()=>{alert("移除成功"),X()}).catch(()=>{alert("移除失败")}).finally(()=>{x(!1)}))}),t!==e.length-1&&r.a.createElement("i",{className:"fa fa-arrow-right","aria-hidden":"true",onClick:J}))))})}}]);