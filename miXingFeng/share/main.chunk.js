(window.webpackJsonp=window.webpackJsonp||[]).push([[7],[function(e,t,n){e.exports=n(25)(0)},function(e,t,n){"use strict";n.d(t,"a",function(){return de}),n.d(t,"o",function(){return fe}),n.d(t,"J",function(){return pe}),n.d(t,"gb",function(){return ge}),n.d(t,"eb",function(){return he}),n.d(t,"fb",function(){return me}),n.d(t,"e",function(){return ye}),n.d(t,"j",function(){return ve}),n.d(t,"Y",function(){return we}),n.d(t,"K",function(){return be}),n.d(t,"Z",function(){return _e}),n.d(t,"I",function(){return Se}),n.d(t,"p",function(){return Oe}),n.d(t,"M",function(){return Ae}),n.d(t,"n",function(){return Pe}),n.d(t,"c",function(){return je}),n.d(t,"ab",function(){return Te}),n.d(t,"y",function(){return ke}),n.d(t,"A",function(){return xe}),n.d(t,"u",function(){return Ee}),n.d(t,"v",function(){return Me}),n.d(t,"z",function(){return Ie}),n.d(t,"s",function(){return Le}),n.d(t,"t",function(){return Re}),n.d(t,"w",function(){return Ne}),n.d(t,"x",function(){return Ce}),n.d(t,"P",function(){return De}),n.d(t,"Q",function(){return $e}),n.d(t,"N",function(){return Fe}),n.d(t,"O",function(){return Be}),n.d(t,"H",function(){return Ue}),n.d(t,"B",function(){return He}),n.d(t,"E",function(){return ze}),n.d(t,"F",function(){return We}),n.d(t,"G",function(){return qe}),n.d(t,"C",function(){return Ve}),n.d(t,"D",function(){return Je}),n.d(t,"R",function(){return Ge}),n.d(t,"U",function(){return Ye}),n.d(t,"V",function(){return Qe}),n.d(t,"W",function(){return Ke}),n.d(t,"S",function(){return Xe}),n.d(t,"T",function(){return Ze}),n.d(t,"l",function(){return et}),n.d(t,"g",function(){return tt}),n.d(t,"f",function(){return nt}),n.d(t,"L",function(){return rt}),n.d(t,"bb",function(){return ot}),n.d(t,"b",function(){return it}),n.d(t,"q",function(){return at}),n.d(t,"r",function(){return st}),n.d(t,"k",function(){return ct}),n.d(t,"m",function(){return lt}),n.d(t,"db",function(){return ut}),n.d(t,"i",function(){return dt}),n.d(t,"h",function(){return ft}),n.d(t,"d",function(){return pt}),n.d(t,"cb",function(){return gt}),n.d(t,"X",function(){return ht});const r="fileServer/fileList",o="fileServer/musicList",i="fileServer/soundPlaying",a="fileServer/soundInstance",s="fileServer/soundInstanceId",c="fileServer/currentPlayingSong",l="fileServer/currentSongTime",u="fileServer/pauseWhenOver",d="fileServer/musicMenuBadge",f="fileServer/playByOrder",p="fileServer/musicCollection",g="fileServer/fileSubmitStatus",h="fileServer/musicSubmitStatus",m="fileServer/currentPlayingMusicList",y="fileServer/playByRandom",v="fileServer/lastNetEaseCloudSearchResult",w="fileServer/lastQQMusicSearchResult",b="fileServer/lastKuGouMusicSearchResult",_="fileServer/lastKuWoMusicSearchResult",S="fileServer/lastOnlineMusicSearchString",O="fileServer/lastFileSearchResult",A="fileServer/lastFileSearchString",P="fileServer/lastMusicSearchResult",j="fileServer/lastMusicSearchString",T="fileServer/noMoreNetEaseCloudResults",k="fileServer/noMoreQQMusicResults",x="fileServer/noMoreKuGouMusicResults",E="fileServer/noMoreKuWoMusicResults",M="fileServer/lastSearchAllSearchString",I="fileServer/lastSearchAllFileResult",L="fileServer/lastSearchAllMusicResult",R="fileServer/lastSearchAllNetEaseCloudResult",N="fileServer/lastSearchAllQQMusicSearchResult",C="fileServer/lastSearchAllKuGouMusicSearchResult",D="fileServer/lastSearchAllKuWoMusicSearchResult",$="fileServer/noMoreSearchAllFileResults",F="fileServer/noMoreSearchAllMusicResults",B="fileServer/noMoreSearchAllNetEaseCloudResults",U="fileServer/noMoreSearchAllQQMusicResults",H="fileServer/noMoreSearchAllKuGouMusicResults",z="fileServer/noMoreSearchAllKuWoMusicResults",W="fileServer/downloadingMusicItems",q="fileServer/downloadedMusicList",V="fileServer/currentPlayingSongOriginal",J="fileServer/currentPlayingSongDuration",G="fileServer/musicPageType",Y="fileServer/recentMusicList",Q="fileServer/currentMusicItemInfo",K="fileServer/isHeadPhoneView",X="fileServer/isLyricView",Z="fileServer/downloadedFileList",ee="fileServer/downloadingFileList",te="fileServer/showMusicPlayingFromMusicControl",ne="fileServer/currentQueryStringWithResultsSearchOnline",re="fileServer/currentQueryStringWithResultsSearchAll",oe="fileServer/currentPlayingMusicLyric",ie="fileServer/showMusicController",ae="fileServer/notExistMusicPlayingPage";let se=[],ce=[],le=[];try{se=localStorage.getItem("favoriteSongs")?JSON.parse(localStorage.getItem("favoriteSongs")):[]}catch(e){se=[]}try{ce=localStorage.getItem("fileList")?JSON.parse(localStorage.getItem("fileList")):[]}catch(e){ce=[]}try{le=localStorage.getItem("musicList")?JSON.parse(localStorage.getItem("musicList")):[]}catch(e){le=[]}const ue=()=>({fileList:ce,musicList:le,soundPlaying:!1,soundInstance:null,soundInstanceId:null,currentPlayingSong:null,currentSongTime:0,pauseWhenOver:!0,musicMenuBadge:[{index:2,text:""},{index:3,text:""},{index:4,text:"✔️"},{index:5,text:""}],playByOrder:!0,musicCollection:se,fileSubmitStatus:"选择一个文件上传",musicSubmitStatus:"选择一首音乐上传",currentPlayingMusicList:[],playByRandom:!1,lastNetEaseCloudSearchResult:[],lastQQMusicSearchResult:[],lastKuGouMusicSearchResult:[],lastKuWoMusicSearchResult:[],lastOnlineMusicSearchString:"",lastFileSearchResult:[],lastFileSearchString:"",lastMusicSearchResult:[],lastMusicSearchString:"",noMoreNetEaseCloudResults:!1,noMoreQQMusicResults:!1,noMoreKuGouMusicResults:!1,noMoreKuWoMusicResults:!1,lastSearchAllSearchString:"",lastSearchAllFileResult:[],lastSearchAllMusicResult:[],lastSearchAllNetEaseCloudResult:[],lastSearchAllQQMusicSearchResult:[],lastSearchAllKuGouMusicSearchResult:[],lastSearchAllKuWoMusicSearchResult:[],noMoreSearchAllFileResults:!1,noMoreSearchAllMusicResults:!1,noMoreSearchAllNetEaseCloudResults:!1,noMoreSearchAllQQMusicResults:!1,noMoreSearchAllKuGouMusicResults:!1,noMoreSearchAllKuWoMusicResults:!1,downloadingMusicItems:[],downloadedMusicList:[],currentPlayingSongOriginal:"",currentPlayingSongDuration:"",musicPageType:"",recentMusicList:[],currentMusicItemInfo:{},isHeadPhoneView:!0,isLyricView:!1,downloadedFileList:[],downloadingFileList:[],showMusicPlayingFromMusicControl:!1,currentQueryStringWithResultsSearchOnline:"",currentQueryStringWithResultsSearchAll:"",currentPlayingMusicLyric:"",showMusicController:!1,notExistMusicPlayingPage:!1});function de(e=ue(),t={}){switch(t.type){case r:return localStorage.setItem("fileList",JSON.stringify(t.data.slice(0,50))),Object.assign({},e,{fileList:t.data});case o:return localStorage.setItem("musicList",JSON.stringify(t.data.slice(0,50))),Object.assign({},e,{musicList:t.data});case i:return Object.assign({},e,{soundPlaying:t.data});case a:return Object.assign({},e,{soundInstance:t.data});case s:return Object.assign({},e,{soundInstanceId:t.data});case c:return Object.assign({},e,{currentPlayingSong:t.data});case l:return Object.assign({},e,{currentSongTime:t.data});case u:return!0===t.data?localStorage.setItem("pauseWhenOver","yes"):!1===t.data&&localStorage.setItem("pauseWhenOver","no"),Object.assign({},e,{pauseWhenOver:t.data});case d:return Object.assign({},e,{musicMenuBadge:t.data});case f:return!0===t.data?localStorage.setItem("playByOrder","yes"):!1===t.data&&localStorage.setItem("playByOrder","no"),Object.assign({},e,{playByOrder:t.data});case p:return localStorage.setItem("favoriteSongs",JSON.stringify(t.data)),Object.assign({},e,{musicCollection:t.data});case g:return Object.assign({},e,{fileSubmitStatus:t.data});case h:return Object.assign({},e,{musicSubmitStatus:t.data});case W:return localStorage.setItem("downloadingMusicItems",JSON.stringify(t.data.slice(0,50))),Object.assign({},e,{downloadingMusicItems:t.data});case m:return Object.assign({},e,{currentPlayingMusicList:t.data});case y:return!0===t.data?localStorage.setItem("playByRandom","yes"):!1===t.data&&localStorage.setItem("playByRandom","no"),Object.assign({},e,{playByRandom:t.data});case v:return Object.assign({},e,{lastNetEaseCloudSearchResult:t.data});case w:return Object.assign({},e,{lastQQMusicSearchResult:t.data});case b:return Object.assign({},e,{lastKuGouMusicSearchResult:t.data});case _:return Object.assign({},e,{lastKuWoMusicSearchResult:t.data});case S:return Object.assign({},e,{lastOnlineMusicSearchString:t.data});case O:return Object.assign({},e,{lastFileSearchResult:t.data});case A:return Object.assign({},e,{lastFileSearchString:t.data});case P:return Object.assign({},e,{lastMusicSearchResult:t.data});case j:return Object.assign({},e,{lastMusicSearchString:t.data});case T:return Object.assign({},e,{noMoreNetEaseCloudResults:t.data});case k:return Object.assign({},e,{noMoreQQMusicResults:t.data});case x:return Object.assign({},e,{noMoreKuGouMusicResults:t.data});case E:return Object.assign({},e,{noMoreKuWoMusicResults:t.data});case M:return Object.assign({},e,{lastSearchAllSearchString:t.data});case I:return Object.assign({},e,{lastSearchAllFileResult:t.data});case L:return Object.assign({},e,{lastSearchAllMusicResult:t.data});case R:return Object.assign({},e,{lastSearchAllNetEaseCloudResult:t.data});case N:return Object.assign({},e,{lastSearchAllQQMusicSearchResult:t.data});case C:return Object.assign({},e,{lastSearchAllKuGouMusicSearchResult:t.data});case D:return Object.assign({},e,{lastSearchAllKuWoMusicSearchResult:t.data});case $:return Object.assign({},e,{noMoreSearchAllFileResults:t.data});case F:return Object.assign({},e,{noMoreSearchAllMusicResults:t.data});case B:return Object.assign({},e,{noMoreSearchAllNetEaseCloudResults:t.data});case U:return Object.assign({},e,{noMoreSearchAllQQMusicResults:t.data});case H:return Object.assign({},e,{noMoreSearchAllKuGouMusicResults:t.data});case z:return Object.assign({},e,{noMoreSearchAllKuWoMusicResults:t.data});case q:return localStorage.setItem("downloadedMusicList",JSON.stringify(t.data.slice(0,50))),Object.assign({},e,{downloadedMusicList:t.data});case V:return Object.assign({},e,{currentPlayingSongOriginal:t.data});case J:return Object.assign({},e,{currentPlayingSongDuration:t.data});case G:return Object.assign({},e,{musicPageType:t.data});case Y:return Object.assign({},e,{recentMusicList:t.data});case Q:return Object.assign({},e,{currentMusicItemInfo:t.data});case K:return Object.assign({},e,{isHeadPhoneView:t.data});case X:return Object.assign({},e,{isLyricView:t.data});case Z:return localStorage.setItem("downloadedFileList",JSON.stringify(t.data.slice(0,50))),Object.assign({},e,{downloadedFileList:t.data});case ee:return localStorage.setItem("downloadingFileList",JSON.stringify(t.data.slice(0,50))),Object.assign({},e,{downloadingFileList:t.data});case te:return Object.assign({},e,{showMusicPlayingFromMusicControl:t.data});case ne:return Object.assign({},e,{currentQueryStringWithResultsSearchOnline:t.data});case re:return Object.assign({},e,{currentQueryStringWithResultsSearchAll:t.data});case oe:return Object.assign({},e,{currentPlayingMusicLyric:t.data});case ie:return t.data?document.querySelector("#root .container .main-content").style.height="calc(100vh - 66px)":document.querySelector("#root .container .main-content").style.height="100vh",Object.assign({},e,{showMusicController:t.data});case ae:return Object.assign({},e,{notExistMusicPlayingPage:t.data});default:return e}}const fe=e=>({type:r,data:e}),pe=e=>({type:o,data:e}),ge=e=>({type:i,data:e}),he=e=>({type:a,data:e}),me=e=>({type:s,data:e}),ye=e=>({type:c,data:e}),ve=e=>({type:l,data:e}),we=e=>({type:u,data:e}),be=e=>({type:d,data:e}),_e=e=>({type:f,data:e}),Se=e=>({type:p,data:e}),Oe=e=>({type:g,data:e}),Ae=e=>({type:h,data:e}),Pe=e=>({type:W,data:e}),je=e=>({type:m,data:e}),Te=e=>({type:y,data:e}),ke=e=>({type:v,data:e}),xe=e=>({type:w,data:e}),Ee=e=>({type:b,data:e}),Me=e=>({type:_,data:e}),Ie=e=>({type:S,data:e}),Le=e=>({type:O,data:e}),Re=e=>({type:A,data:e}),Ne=e=>({type:P,data:e}),Ce=e=>({type:j,data:e}),De=e=>({type:T,data:e}),$e=e=>({type:k,data:e}),Fe=e=>({type:x,data:e}),Be=e=>({type:E,data:e}),Ue=e=>({type:M,data:e}),He=e=>({type:I,data:e}),ze=e=>({type:L,data:e}),We=e=>({type:R,data:e}),qe=e=>({type:N,data:e}),Ve=e=>({type:C,data:e}),Je=e=>({type:D,data:e}),Ge=e=>({type:$,data:e}),Ye=e=>({type:F,data:e}),Qe=e=>({type:B,data:e}),Ke=e=>({type:U,data:e}),Xe=e=>({type:H,data:e}),Ze=e=>({type:z,data:e}),et=e=>({type:q,data:e}),tt=e=>({type:V,data:e}),nt=e=>({type:J,data:e}),rt=e=>({type:G,data:e}),ot=e=>({type:Y,data:e}),it=e=>({type:Q,data:e}),at=e=>({type:K,data:e}),st=e=>({type:X,data:e}),ct=e=>({type:Z,data:e}),lt=e=>({type:ee,data:e}),ut=e=>({type:te,data:e}),dt=e=>({type:ne,data:e}),ft=e=>({type:re,data:e}),pt=e=>({type:oe,data:e}),gt=e=>({type:ie,data:e}),ht=e=>({type:ae,data:e})},function(e,t,n){e.exports=n(25)(51)},function(e,t,n){"use strict";n.d(t,"a",function(){return M}),n.d(t,"l",function(){return I}),n.d(t,"j",function(){return L}),n.d(t,"r",function(){return R}),n.d(t,"n",function(){return N}),n.d(t,"m",function(){return C}),n.d(t,"c",function(){return D}),n.d(t,"k",function(){return $}),n.d(t,"w",function(){return F}),n.d(t,"o",function(){return B}),n.d(t,"q",function(){return U}),n.d(t,"v",function(){return H}),n.d(t,"u",function(){return z}),n.d(t,"g",function(){return W}),n.d(t,"d",function(){return q}),n.d(t,"p",function(){return V}),n.d(t,"e",function(){return J}),n.d(t,"f",function(){return G}),n.d(t,"x",function(){return Y}),n.d(t,"i",function(){return Q}),n.d(t,"h",function(){return K}),n.d(t,"s",function(){return X}),n.d(t,"b",function(){return Z}),n.d(t,"t",function(){return ee}),n.d(t,"z",function(){return te}),n.d(t,"y",function(){return ne});const r="common/location",o="common/appVersion",i="common/menuList",a="common/isFromSignPage",s="common/currentXYPosition",c="common/currentProvince",l="common/adsTime",u="common/backToDesktopTime",d="common/savedCurrentRoute",f="common/deviceInfo",p="common/hideNavBar",g="common/receiveNotification",h="common/powerRun",m="common/alwaysShowAdsPage",y="common/allowGetPosition",v="common/hasDownloadedPackage",w="common/allowOthersGetPosition",b="common/allowShareMyNickname",_="common/sharedNicknames",S="common/appUpdating",O="common/appSize",A="common/isFromSystemSetup",P="common/adPicSrc",j="common/loadedInWifi",T="common/upgradeProgressPercent",k="common/tryMobileOrEmailTimes",x=localStorage.getItem("appVersion")||"",E=()=>({currentLocation:"",appVersion:x,menuList:[{title:"签到",icon:"fa fa-home fa-fw",selectedIcon:"fa fa-home fa-fw light-blue",badge:"",isDot:"",route:"sign"},{title:"文件",icon:"fa fa-file-o",selectedIcon:"fa fa-file light-blue",badge:"",isDot:"",route:"file"},{title:"音乐",icon:"fa fa-music",selectedIcon:"fa fa-music light-blue",badge:"",isDot:"",route:"music"},{title:"我",icon:"fa fa-user",selectedIcon:"fa fa-user light-blue",badge:"",isDot:"",route:"myInfo"}],isFromSignPage:!1,currentXYPosition:[0,0],currentProvince:"",adsTime:3,backToDesktopTime:0,savedCurrentRoute:"",deviceInfo:{},hideNavBar:!0,receiveNotification:!0,powerRun:!1,alwaysShowAdsPage:!0,allowGetPosition:!0,hasDownloadedPackage:!1,allowOthersGetPosition:!0,allowShareMyNickname:!0,sharedNicknames:[],appUpdating:!1,appSize:0,isFromSystemSetup:!1,adPicSrc:"./ads/ad0.png",loadedInWifi:"",upgradeProgressPercent:"",tryMobileOrEmailTimes:0});function M(e=E(),t={}){switch(t.type){case r:return Object.assign({},e,{currentLocation:t.data});case o:return localStorage.setItem("appVersion",t.data||""),Object.assign({},e,{appVersion:t.data});case i:return Object.assign({},e,{menuList:t.data});case a:return Object.assign({},e,{isFromSignPage:t.data});case s:return Object.assign({},e,{currentXYPosition:t.data});case c:return Object.assign({},e,{currentProvince:t.data});case l:return Object.assign({},e,{adsTime:t.data});case u:return Object.assign({},e,{backToDesktopTime:t.data});case d:return Object.assign({},e,{savedCurrentRoute:t.data});case f:return Object.assign({},e,{deviceInfo:t.data});case p:return Object.assign({},e,{hideNavBar:t.data});case g:return t.data?localStorage.setItem("notification","yes"):localStorage.setItem("notification","no"),Object.assign({},e,{receiveNotification:t.data});case h:return Object.assign({},e,{powerRun:t.data});case m:return t.data?localStorage.setItem("alwaysShowAdsPage","yes"):localStorage.setItem("alwaysShowAdsPage","no"),Object.assign({},e,{alwaysShowAdsPage:t.data});case y:return t.data?localStorage.setItem("usePosition","yes"):localStorage.setItem("usePosition","no"),Object.assign({},e,{allowGetPosition:t.data});case v:return Object.assign({},e,{hasDownloadedPackage:t.data});case w:return t.data?localStorage.setItem("allowOthersGetPosition","yes"):localStorage.setItem("allowOthersGetPosition","no"),Object.assign({},e,{allowOthersGetPosition:t.data});case b:return Object.assign({},e,{allowShareMyNickname:t.data});case _:return Object.assign({},e,{sharedNicknames:t.data});case S:return Object.assign({},e,{appUpdating:t.data});case O:return Object.assign({},e,{appSize:t.data});case A:return Object.assign({},e,{isFromSystemSetup:t.data});case P:return Object.assign({},e,{adPicSrc:t.data});case j:return Object.assign({},e,{loadedInWifi:t.data});case T:return Object.assign({},e,{upgradeProgressPercent:t.data});case k:return Object.assign({},e,{tryMobileOrEmailTimes:t.data});default:return e}}const I=e=>({type:r,data:e}),L=e=>({type:o,data:e}),R=e=>({type:a,data:e}),N=e=>({type:s,data:e}),C=e=>({type:c,data:e}),D=e=>({type:l,data:e}),$=e=>({type:u,data:e}),F=e=>({type:d,data:e}),B=e=>({type:f,data:e}),U=e=>({type:p,data:e}),H=e=>({type:g,data:e}),z=e=>({type:h,data:e}),W=e=>({type:m,data:e}),q=e=>({type:y,data:e}),V=e=>({type:v,data:e}),J=e=>({type:w,data:e}),G=e=>({type:b,data:e}),Y=e=>({type:_,data:e}),Q=e=>({type:S,data:e}),K=e=>({type:O,data:e}),X=e=>({type:A,data:e}),Z=e=>({type:P,data:e}),ee=e=>({type:j,data:e}),te=e=>({type:T,data:e}),ne=e=>({type:k,data:e})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r={statusBarColor:"#81AFED",toastLoadingTime:900,toastTime:1,strokeDashoffset:314,musicOriginal:{netEaseCloud:"netEaseCloud",qqMusic:"qqMusic",kuGouMusic:"kuGouMusic",kuWoMusic:"kuWoMusic",musicSearch:"musicSearch",musicShare:"musicShare",savedSongs:"savedSongs",window:"window",musicFinished:"musicFinished",musicDownloading:"musicDownloading",musicRecent:"musicRecent"},showMusicNumberPerTime:40,showFileNumberPerTime:40,appDownloadUrl:"https://api.zhoushoujian.com/apk/app_release.apk",appStaticDirectory:"http://www.zhoushoujian.com/mixingfeng/share/",downloadAppFromPage:"downloadAppFromPage",appName:"miXingFeng.apk",exeDownloadUrl:"https://api.zhoushoujian.com/apk/miXingFeng.exe"}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(94),o=n.n(r),i=n(0),a=n.n(i),s=n(70);function c(e){return o()(Object.assign({loading:l,delay:200,timeout:1e4},e))}function l(e){return e.error?a.a.createElement("div",null,"Error! ",a.a.createElement("button",{onClick:e.retry},"Retry")):e.timedOut?a.a.createElement("div",null,"Taking a long time... ",a.a.createElement("button",{onClick:e.retry},"Retry")):e.pastDelay?a.a.createElement(s.a,null):null}},function(e,t,n){"use strict";n.d(t,"a",function(){return S}),n.d(t,"h",function(){return O}),n.d(t,"o",function(){return A}),n.d(t,"z",function(){return P}),n.d(t,"m",function(){return j}),n.d(t,"w",function(){return E}),n.d(t,"f",function(){return M}),n.d(t,"b",function(){return I}),n.d(t,"p",function(){return L}),n.d(t,"k",function(){return N}),n.d(t,"t",function(){return C}),n.d(t,"x",function(){return D}),n.d(t,"c",function(){return $}),n.d(t,"i",function(){return F}),n.d(t,"j",function(){return B}),n.d(t,"q",function(){return U}),n.d(t,"d",function(){return H}),n.d(t,"s",function(){return z}),n.d(t,"n",function(){return W}),n.d(t,"l",function(){return q}),n.d(t,"r",function(){return V}),n.d(t,"u",function(){return G}),n.d(t,"v",function(){return Y}),n.d(t,"g",function(){return Q}),n.d(t,"e",function(){return K}),n.d(t,"y",function(){return X});n(175);var r=n(67),o=n.n(r),i=n(0),a=n.n(i),s=n(41),c=n.n(s),l=n(66),u=n(11),d=n(4),f=n(10),p=n(1),g=n(7),h=n(22),m=n(23);const y={},v=({filenameOrigin:e,fileUrl:t,folder:n,filename:r,uploadUsername:o,needSaveToDownloadBox:i,fileSize:a,fromMusic:s,original:c,duration:l,fileId:u,downloadAgain:d})=>(y[e]={throttleTimer:null,firstTime:!d,fileSizeCopy:a},electron.ipcRenderer.send("download",{filenameOrigin:e,fileUrl:t,folder:n,filename:r,uploadUsername:o,needSaveToDownloadBox:i,fileSize:a,fromMusic:s,original:c,duration:l,fileId:u}),new Promise(function(t){electron.ipcRenderer.on(`downstate-${e}`,(()=>{var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}(function*(e,n,r,o={}){const{filenameOrigin:i,fileUrl:a,filename:s,uploadUsername:c,needSaveToDownloadBox:l,fileSize:u,fromMusic:d,original:f,duration:v,fileId:b,cancelDownloadDesc:_}=o;if(!l)return t();if("completed"===n){if(logger.info("saveFileToLocal download complete wait for next to success filenameOrigin",i),window.eventEmit.$off(`FileTransfer-${i}`),l){const{username:e}=$getState().login,t=`downloading_${i}`,n=`downloaded_${i}`,r={filename:s,username:e,fileSize:u,uploadUsername:c,date:Date.now(),filenameOrigin:n,status:"downloaded"};let o=Promise.resolve();d?(r.isMusic=!0,r.filePath=`${appDirectory}music\\${n}`,r.fileUrl=a,r.duration=v,r.id=b||"downloaded",r.original=f,yield Object(m.c)(t),o=Object(m.a)(r)):(yield Object(h.c)(t),o=Object(h.a)(r)),o.then(function(){setTimeout(function(){alert(`${s}下载完成`),delete y[i];const{downloadingFileList:e,downloadingMusicItems:t,fileList:n,downloadedMusicList:o,downloadedFileList:a}=$getState().fileServer;if(d){const e=JSON.parse(JSON.stringify(o)),n=JSON.parse(JSON.stringify(t));e.push(r),$dispatch(Object(p.l)(e));for(const e in t)t[e].filenameOrigin===`downloading_${i}`&&(n.splice(e,1),logger.info("downloadingMusicItems 下载完成"),$dispatch(Object(p.n)(n)))}else{const t=JSON.parse(JSON.stringify(n)),o=JSON.parse(JSON.stringify(a)),s=JSON.parse(JSON.stringify(e));t.forEach(function(e){e.filenameOrigin===i&&(e.downloaded=!0)}),$dispatch(Object(p.o)(t)),o.push(r),$dispatch(Object(p.k)(o));for(const t in e)if(e[t].filenameOrigin===`downloading_${i}`){s.splice(t,1),logger.info("downloadingFileList 下载完成",s),$dispatch(Object(p.m)(s));break}}logger.info("saveFileToLocal download complete success filenameOrigin",i)},1010)}).catch(function(e){logger.error("download fail",e),alert("下载失败")})}t(w())}else if("number"==typeof n){const e=r;if(y[i].throttleTimer)return;if(y[i].firstTime){logger.info("saveFileToLocal start to download onprogress firstTime filenameOrigin",i),y[i].firstTime=!1,y[i].fileSizeCopy=u&&"未知"!==u?u:e;const{username:t}=$getState().login,r=`downloading_${i}`,o={filename:s,username:t,fileSize:y[i].fileSizeCopy,uploadUsername:c,date:Date.now(),filenameOrigin:r,status:"downloading",progress:`${Object(g.c)(n)}/${Object(g.c)(e)}`,filePath:a};d?(o.isMusic=!0,o.duration=v,o.id=b||"downloading",o.original=f,Object(m.a)(o)):Object(h.a)(o),D(s,`${Object(g.c)(n)}/${Object(g.c)(e)}`,c,e,l,a,i,d,{duration:v,receivedBytes:n})}else y[i].throttleTimer=setTimeout(function(){clearTimeout(y[i].throttleTimer),D(s,`${Object(g.c)(n)}/${Object(g.c)(e)}`,c,e,l,a,i,d,{duration:v,receivedBytes:n}),y[i].throttleTimer=null},1e3)}else setTimeout(function(){logger.info("downloadInElectron cancelDownloadDesc",_),"cancel"===_?(logger.info("error callback cancel download"),logger.info("saveFileToLocal download 已取消 filenameOrigin",i),D(s,"已取消",c,y[i].fileSizeCopy,l,a,i,d,{duration:v,receivedBytes:n})):(logger.error("下载失败","fileUrl",a),alert(`${s}下载失败`),logger.error("saveFileToLocal download 下载失败 filenameOrigin",i),D(s,"失败",c,y[i].fileSizeCopy,l,a,i,d,{duration:v,receivedBytes:n}),delete y[i])},1010),t(w())});return function(t,n,r){return e.apply(this,arguments)}})())}));function w(){setTimeout(()=>{const{totalReceived:e,totalBytes:t}=$();0!==e&&0!==t||electron.ipcRenderer.send("downloadProgress",-1)},2e3)}var b=n(9);function _(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}const S=(e,t,n="确定",r)=>{window.alertDialogFlag=!0,window.alertModal=o.a.alert(e,t,[{text:n,onPress:()=>{window.alertDialogFlag=!1,logger.info("alertDialog confirm enter title, text",e,t),r instanceof Function&&r()}}])},O=function(e,t,n="确定",r,i=!1){window.confirmFlag=!0,window.confirmModal=o.a.alert(e,t,[{text:"取消",onPress:()=>{window.confirmFlag=!1,logger.info("confirm cancel title, text",e,t),i&&i()}},{text:n,onPress:()=>(window.confirmFlag=!1,logger.info("confirm enter title, text",e,t),Promise.resolve(r()))}])},A=function(e,t){if(logger.error("networkErr getRoute()",getRoute()),t&&logger.error("networkErr originTip",t),void 0===e){if(logger.warn("network err 请检查网络连接"),window.showToastFail)return;window.showToastFail=!0,setTimeout(()=>{window.showToastFail=!1},1e3),Toast.fail("请检查网络连接",d.a.toastTime)}else"[object Error]"===Object.prototype.toString.call(e)?(alertDebug("[object Error]: 请检查网络连接: "+e.stack||!1),logger.warn("networkErr",e.stack||e.toString())):"[object Object]"===Object.prototype.toString.call(e)?(alertDebug("[object Object]: 请检查网络连接: "+e),logger.warn("networkErr",e)):(alertDebug("请检查网络连接: "+JSON.stringify(e)),logger.warn("networkErr",e))},P=function(e="",t="sign.txt",n){return new Promise(function(r){window.resolveLocalFileSystemURL(window.cordova.file.externalApplicationStorageDirectory,function(o){o.getFile(t,{create:!0,exclusive:!1},function(t){t.createWriter(function(t){t.onwriteend=function(){r(e)},t.onerror=function(e){logger.error("文件写入失败",JSON.stringify(e))},n&&t.seek(t.length),t.write(e)})},T)},k)})},j=((()=>{var e=_(function*(e="sign.txt",t){const n=yield j(e,!0);return new Promise(function(e){t?n&&n.token?(logger.info("含有token"),e(!1)):(logger.info("不含有token"),e(!0)):n.length?(logger.info("含有内容"),e(!1)):(logger.info("没有内容"),e(!0))})})})(),(()=>{var e=_(function*(e,t=!0){return new Promise(function(n){window.resolveLocalFileSystemURL(window.cordova.file.externalApplicationStorageDirectory,function(r){r.getFile(e,{create:!0,exclusive:!1},function(e){e.file(function(e){const r=new FileReader;r.onloadend=function(){if(this.result){let e="";if(t){e=(new window.Base64).decode(this.result)}else e=this.result;try{const t=JSON.parse(e);n(t)}catch(e){logger.error("getAndReadFile, 解析文件内容是出错",e.stack||e.message||e.toString()),n()}}else n()},r.readAsText(e)},x)},T)},k)}).catch(function(e){logger.error("读取文件的内容发生了错误",e)})});return function(t){return e.apply(this,arguments)}})());(()=>{var e=_(function*(e="sign.txt",t){const n=yield j(e,!0);return new Promise(function(e){n?($dispatch(Object(u.i)(n.token)),t||logger.info("has login")):logger.info("never login"),e()}).catch(function(e){logger.error("解析上次登录文件时出现错误",e.stack||e.toString())})})})();function T(e){logger.error("文件创建失败！",e)}function k(e){logger.error("文件系统加载失败！",e)}function x(e){logger.error("读取错误!:",e)}const E=()=>{window.specialBack=!0},M=()=>window.startToUploadFile?(window.startToUploadFile=!1,window.confirmModal.close(),!0):window.startToUploadMusic?(window.startToUploadMusic=!1,window.confirmModal.close(),!0):window.alertDialogFlag?(window.alertDialogFlag=!1,window.alertModal.close(),!0):!!window.confirmFlag&&(window.confirmFlag=!1,window.confirmModal.close(),!0),I=(e,t,n={})=>{n.specialBack&&(logger.info("backToPreviousPage route, options",t,n),E()),M()||goRoute(e,t)},L=()=>{window.loginFlag&&delete window.loginFlag;const e=getRoute(),{isFromSystemSetup:t}=$getState().common,{showUpdateConfirm:n}=$getState().sign;if(t)return window.history.back();if(!n)if(window.toastLoading)window.toastLoading=!1;else if(logger.info("onBackKeyDown pageName, isFromSystemSetup, showUpdateConfirm",e,t,n),"/main/sign"===e||"/main/file"===e||"/main/music"===e||"/main/myInfo"===e){if(M())return;window.plugins.toast.showShortCenter("再按一次离开"),document.removeEventListener("backbutton",L,!1),document.addEventListener("backbutton",R,!1),setTimeout(function(){document.removeEventListener("backbutton",R,!1),document.addEventListener("backbutton",L,!1)},2e3)}else setTimeout(()=>{window.specialBack||M()?window.specialBack=!1:window.history.back()},50)},R=()=>{logger.info("backToDesktop goHome"),navigator.Backbutton.goHome()},N=()=>{if(window.ws&&1===ws.readyState&&window.ws.close(1e3),logger.info("start to exitApp"),isCordova)navigator.app.exitApp();else if(isElectron){const{ipcRenderer:e}=electron;e.send("quit")}},C=(()=>{var e=_(function*({filenameOrigin:e,fileUrl:t,folder:n,filename:r,uploadUsername:o,needSaveToDownloadBox:i=!1,fileSize:a,fromMusic:s,options:c={}}){if(!e)return;if(logger.info("saveFileToLocal fileUrl, filenameOrigin",t,e),isH5)return n===d.a.downloadAppFromPage&&Object(g.A)({msg:e}),s&&!t&&(t=yield Object(g.i)(t,c.original,c.musicId,c.musicDataList,e,!1,$getState().fileServer.currentPlayingSongOriginal)),window.open(t),Promise.resolve();const l=window.FileTransfer&&new window.FileTransfer;let u=0,f=null,y=!0,w=!1;return i&&window.eventEmit.$on(`FileTransfer-${e}`,function(t){logger.info("saveFileToLocal FileTransfer type",t),window[`cancel-download-${e}`]=!0,setTimeout(function(){delete window[`cancel-download-${e}`]},2200),"abort"===t&&(logger.info("saveFileToLocal cancel download filenameOrigin",e),w=!0,isCordova?l.abort():isElectron&&electron.ipcRenderer.send(`cancel-download-${e}`,e))}),s&&!(t=yield Object(g.i)(t,c.original,c.musicId,c.musicDataList,e,!1,$getState().fileServer.currentPlayingSongOriginal))?(logger.error("saveFileToLocal fromMusic 音乐链接获取失败"),S("音乐链接获取失败"),Promise.resolve()):isElectron?v({filenameOrigin:e,fileUrl:t,folder:n,filename:r,uploadUsername:o,needSaveToDownloadBox:i,fileSize:a,fromMusic:s,original:c.original,duration:c.duration,fileId:c.fileId,downloadAgain:c.downloadAgain}):new Promise(function(d){logger.info("saveFileToLocal prepare to download filenameOrigin",e);let v=a;if(!window.LocalFileSystem)return d();window.requestFileSystem(window.LocalFileSystem.PERSISTENT,0,function(b){b.root.getDirectory("miXingFeng",{create:!0},function(b){b.getDirectory(n,{create:!0},function(b){b.getFile(e,{create:!0,exclusive:!1},function(b){l.onprogress=(()=>{var n=_(function*(n){if(r&&n.lengthComputable){const l=n.loaded/n.total;if(u=(100*l).toFixed(0),f)return;if(y){logger.info("saveFileToLocal start to download onprogress firstTime filenameOrigin",e),y=!1,v=a&&"未知"!==a?a:n.total;const{username:l}=$getState().login,u=`downloading_${e}`,d={filename:r,username:l,fileSize:v,uploadUsername:o,date:Date.now(),filenameOrigin:u,status:"downloading",progress:`${Object(g.c)(n.loaded)}/${Object(g.c)(n.total)}`,filePath:t};s?(d.isMusic=!0,d.duration=c.duration,d.id=c.fileId||"downloading",d.original=c.original,Object(m.a)(d)):Object(h.a)(d),c.receivedBytes=n.loaded,D(r,`${Object(g.c)(n.loaded)}/${Object(g.c)(n.total)}`,o,n.total,i,t,e,s,c)}else f=setTimeout(function(){clearTimeout(f),f=null,c.receivedBytes=n.loaded,D(r,`${Object(g.c)(n.loaded)}/${Object(g.c)(n.total)}`,o,n.total,i,t,e,s,c)},1e3)}});return function(e){return n.apply(this,arguments)}})(),l.download(encodeURI(t),b.nativeURL,(()=>{var a=_(function*(a){if(logger.info("saveFileToLocal filename",r,"fileUrl",t,"folder",n),!r)return d();if(u>=1){if(logger.info("saveFileToLocal download complete wait for next to success filenameOrigin",e),window.eventEmit.$off(`FileTransfer-${e}`),i){const{username:n}=$getState().login,i=`downloading_${e}`,a=`downloaded_${e}`,l={filename:r,username:n,fileSize:v,uploadUsername:o,date:Date.now(),filenameOrigin:a,status:"downloaded"};let u=Promise.resolve();s?(l.isMusic=!0,l.filePath=`cdvfile://localhost/sdcard/miXingFeng/music/${a}`,l.fileUrl=t,l.duration=c.duration,l.id=c.fileId||"downloaded",l.original=c.original,yield Object(m.c)(i),u=Object(m.a)(l)):(yield Object(h.c)(i),u=Object(h.a)(l)),u.then(function(){setTimeout(function(){alert(`${r}下载完成`);const{downloadingFileList:t,downloadingMusicItems:n,fileList:o,downloadedMusicList:i,downloadedFileList:a}=$getState().fileServer;if(s){const t=JSON.parse(JSON.stringify(i)),r=JSON.parse(JSON.stringify(n));t.push(l),$dispatch(Object(p.l)(t));for(const t in n)n[t].filenameOrigin===`downloading_${e}`&&(r.splice(t,1),logger.info("downloadingMusicItems 下载完成"),$dispatch(Object(p.n)(r)))}else{const n=JSON.parse(JSON.stringify(o)),r=JSON.parse(JSON.stringify(a)),i=JSON.parse(JSON.stringify(t));n.forEach(function(t){t.filenameOrigin===e&&(t.downloaded=!0)}),$dispatch(Object(p.o)(n)),r.push(l),$dispatch(Object(p.k)(r));for(const n in t)if(t[n].filenameOrigin===`downloading_${e}`){i.splice(n,1),logger.info("downloadingFileList 下载完成",i),$dispatch(Object(p.m)(i));break}}logger.info("saveFileToLocal download complete success filenameOrigin",e)},1010)}).catch(function(e){logger.error("download fail",e),alert("下载失败")})}d()}});return function(e){return a.apply(this,arguments)}})(),function(n){setTimeout(()=>{if(w)logger.info("error callback cancel download"),logger.info("saveFileToLocal download 已取消 filenameOrigin",e),D(r,"已取消",o,v,i,t,e,s,c);else{if(logger.error("下载失败",n,"fileUrl",t),"Not Found"===n.body)return logger.error("saveFileToLocal download 文件已删除 filenameOrigin",e),void alert("文件已删除");alert(`${r}下载失败`),logger.error("saveFileToLocal download 下载失败 filenameOrigin",e),D(r,"失败",o,v,i,t,e,s,c)}},1010),d()})},function(e){logger.error("saveFileToLocal 获取文件失败",e.stack||e.toString()),d()})},function(e){alert("文件系统加载失败！"),logger.error("saveFileToLocal 文件系统加载失败！",e)})})})})});return function(t){return e.apply(this,arguments)}})(),D=(e,t,n,r,o,i,a,s,c)=>{if(!o)return;const{downloadingFileList:l,downloadingMusicItems:u}=$getState().fileServer;if("已取消"!==t&&"失败"!==t&&window[`cancel-download-${a}`]||window[`remove-download-${a}`])return;a=`downloading_${a}`;const d=c&&c.receivedBytes||0,f={filename:e,progress:t,uploadUsername:n,filePath:i,fileSize:r,filenameOrigin:a,received:d};if(s){let e=!0;f.duration=c.duration;const n=JSON.parse(JSON.stringify(u));for(const o in n)n[o].filenameOrigin===a&&(n[o].progress=t,n[o].received=d,n[o].fileSize=r,$dispatch(Object(p.n)(n)),e=!1);e&&(n.push(f),$dispatch(Object(p.n)(n)))}else{let e=!0;const n=JSON.parse(JSON.stringify(l));for(const o in n)n[o].filenameOrigin===a&&(n[o].progress=t,n[o].received=d,n[o].fileSize=r,$dispatch(Object(p.m)(n)),e=!1);e&&(n.push(f),$dispatch(Object(p.m)(n)))}if(isElectron){const{totalReceived:e,totalBytes:t}=$();logger.info("totalReceived, totalBytes",e,t);const n=(e/t).toFixed(2);if("NaN"===n)return logger.info("updateDownloadingStatus NaN  obj",f);logger.info("updateDownloadingStatus totalProgress",n),electron.ipcRenderer.send("downloadProgress",Number(n))}},$=()=>{const{downloadingFileList:e,downloadingMusicItems:t}=$getState().fileServer;let n=0,r=0;return e.forEach(e=>{["已取消","准备中","失败"].includes(e.progress)||(r+="number"==typeof e.fileSize?e.fileSize:0,n+="number"==typeof e.received?e.received:0)}),t.forEach(e=>{["已取消","准备中","失败"].includes(e.progress)||(r+="number"==typeof e.fileSize?e.fileSize:0,n+="number"==typeof e.received?e.received:0)}),{totalReceived:n,totalBytes:r}},F=(e,t,n=!0)=>{let r=null,o=n;return function(){const n=this;r?(clearTimeout(r),r=setTimeout(()=>{e.apply(n,arguments),r=null},t)):o?(o=!1,e.apply(n,arguments)):r=setTimeout(()=>{e.apply(n,arguments),r=null},t)}},B=(e,t,n={})=>{n.debounceTimer?(clearTimeout(n.debounceTimer),n.debounceTimer=setTimeout(()=>{e.apply(void 0,n.params),n.debounceTimer=null},t)):n.firstTimeRun?(n.firstTimeRun=!1,e.apply(void 0,n.params)):n.debounceTimer=setTimeout(()=>{e.apply(void 0,n.params),n.debounceTimer=null},t)},U=e=>{isCordova?document.addEventListener("deviceready",()=>{cordova.InAppBrowser.open(e,"_system","location=no")},!1):isH5?window.open(e):isElectron&&electron.shell.openExternal(e)},H=()=>new Promise(e=>{isCordova?window.permissions.checkPermission(window.permissions.WRITE_EXTERNAL_STORAGE,function(t){t.hasPermission?e(!0):(logger.info("saveFileToLocal WRITE_EXTERNAL_STORAGE",t),e(!1))}):e(!0)}),z=()=>new Promise(e=>{if(isCordova){if(!window.LocalFileSystem)return e();window.requestFileSystem(window.LocalFileSystem.PERSISTENT,0,function(t){t.root.getDirectory("miXingFeng",{create:!0},function(t){t.getDirectory("tmp",{create:!0},function(t){t.getFile("tmp",{create:!0,exclusive:!1},function(t){localStorage.getItem("allowReadAndWriteFile")||(localStorage.setItem("allowReadAndWriteFile","yes"),window.logger=new c.a({folder:"miXingFeng",column:"log",filename:"miXingFeng.txt"})),e(t)},function(t){logger.error("requestFileWritePriority error",t),e(t)})})})})}else e(!1)}),W=()=>{const e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];let n=!0;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>0){n=!1;break}return n},q=()=>"ls"+Math.random().toString(36).slice(2,6),V=(e,t="logInfo")=>axios.post(f.a.replaceSocketLink,e).then(e=>{"success"===e.data.result.response?(logger.info("replaceSocketLink success",t),Object(g.K)()):logger.warn("replaceSocketLink fail",t)}).catch(e=>{logger.warn("replaceSocketLink err",t,e)}),J=()=>new Promise(e=>{window.Wechat.isInstalled(function(t){e(!0)},function(t){S("未安装微信"),e(!1),logger.warn("Wechat.isInstalled","Failed: "+t)})}),G=({title:e="这是分享的标题",description:t="这是分享的描述",thumb:n="www/assets/imgs/logo.png",webpageUrl:r=d.a.appStaticDirectory,scene:o=window.Wechat.Scene.SESSION})=>J().then(i=>i?new Promise(i=>{window.Wechat.share({message:{title:e,description:t,thumb:n,media:{type:window.Wechat.Type.WEBPAGE,webpageUrl:r}},scene:o},function(){Object(g.A)({msg:"shareLinkToWeChat",LinkTitle:e,scene:o}),i("success")},function(e){i("fail"),logger.error("shareLinkToWeChat","Failed: "+e)})}):i),Y=({title:e="这是分享的标题",description:t="这是分享的描述",thumb:n="www/assets/imgs/logo.png",videoUrl:r=d.a.appStaticDirectory})=>J().then(o=>o?new Promise(o=>{window.Wechat.share({message:{title:e,description:t,thumb:n,media:{type:window.Wechat.Type.VIDEO,videoUrl:r}},scene:window.Wechat.Scene.SESSION},function(){Object(g.A)({msg:"shareVideoToWeChat",videoTitle:e}),o("success")},function(e){o("fail"),logger.error("shareVideoToWeChat Failed: "+e)})}):o),Q=()=>navigator.userAgent.toLowerCase().includes("micromessenger"),K=(e=!1)=>{const{appVersion:t}=$getState().common;let n=!1;const r=Date.now(),o=Number(localStorage.getItem("versionDate"));return axios.get(f.a.checkUpdate.format({appVersion:t||!1,notCheckOutOfDateVersion:!0===e?"yes":"no"})).then((()=>{var e=_(function*(e){if(!e.data)return;const i=e.data;if(i.result&&i.result.outOfDate)return O("提示","当前app版本过低，必须升级才能继续使用","立即更新",function(){electron.shell.openExternal(d.a.exeDownloadUrl),setTimeout(N,1e3)},N);const s=i.version,c=i.appSize,u=i.content,f=i.forceUpgradeText||"因系统接口重大升级,必须更新app才能使用",p=i.alertNotice,g=i.confirmNotice;if(n=i.forceUpgrade,logger.info(`remote appVersion, ${s}`),logger.info(`local appVersion, ${t}`),p&&p.enable)yield new Promise(function(e){S("公告",p.content,"我知道了",e)});else if(g&&g.enable)return O("提示",g.content,g.confirmButton,function(){U(g.link)});if(i.disableUpdate)return logger.info("disableUpdate");if(s>t){if(logger.info("发现新版本 remoteAppVersion",s,"appVersion",t),o&&logger.info("(date - content) / (1000 * 3600 * 24))",(r-o)/864e3),$dispatch(Object(b.n)(!0)),"/main/sign"===getRoute())if(n)S("提示",f,"知道了",function(){O("发现新版本",a.a.createElement(l.a,{list:u,remoteAppVersion:s,appSize:c}),"立即下载",function(){electron.shell.openExternal(d.a.exeDownloadUrl),setTimeout(N,1e3)},N)});else if(!o||(r-o)/864e5>2){const e=Date.now();localStorage.setItem("versionDate",e),O("发现新版本",a.a.createElement(l.a,{list:u,remoteAppVersion:s,appSize:c}),"立即下载",function(){electron.shell.openExternal(d.a.exeDownloadUrl)})}}else logger.info("已是最新版本")});return function(t){return e.apply(this,arguments)}})()).catch(e=>{logger.error("checkUpdateSign err",e)})},X=()=>{window.toast.loading("请稍候...",d.a.toastLoadingTime,()=>{})}},function(e,t,n){"use strict";n.d(t,"S",function(){return P}),n.d(t,"w",function(){return T}),n.d(t,"u",function(){return k}),n.d(t,"Q",function(){return x}),n.d(t,"I",function(){return E}),n.d(t,"C",function(){return M}),n.d(t,"M",function(){return I}),n.d(t,"B",function(){return N}),n.d(t,"a",function(){return C}),n.d(t,"c",function(){return D}),n.d(t,"J",function(){return $}),n.d(t,"y",function(){return F}),n.d(t,"K",function(){return B}),n.d(t,"h",function(){return z}),n.d(t,"L",function(){return q}),n.d(t,"b",function(){return V}),n.d(t,"n",function(){return J}),n.d(t,"f",function(){return G}),n.d(t,"k",function(){return Y}),n.d(t,"o",function(){return Q}),n.d(t,"N",function(){return K}),n.d(t,"m",function(){return X}),n.d(t,"V",function(){return Z}),n.d(t,"H",function(){return ee}),n.d(t,"G",function(){return te}),n.d(t,"v",function(){return oe}),n.d(t,"E",function(){return ae}),n.d(t,"R",function(){return se}),n.d(t,"Z",function(){return ce}),n.d(t,"F",function(){return ue}),n.d(t,"p",function(){return be}),n.d(t,"q",function(){return _e}),n.d(t,"g",function(){return Oe}),n.d(t,"i",function(){return Ae}),n.d(t,"l",function(){return Pe}),n.d(t,"j",function(){return je}),n.d(t,"t",function(){return Te}),n.d(t,"x",function(){return ke}),n.d(t,"U",function(){return xe}),n.d(t,"X",function(){return Ee}),n.d(t,"ab",function(){return Me}),n.d(t,"P",function(){return Ie}),n.d(t,"A",function(){return Ne}),n.d(t,"W",function(){return Ce}),n.d(t,"bb",function(){return De}),n.d(t,"e",function(){return $e}),n.d(t,"d",function(){return Fe}),n.d(t,"D",function(){return Be}),n.d(t,"Y",function(){return Ue}),n.d(t,"s",function(){return He}),n.d(t,"T",function(){return We}),n.d(t,"O",function(){return qe}),n.d(t,"r",function(){return Ve}),n.d(t,"z",function(){return Je});var r=n(100),o=n.n(r),i=n(71),a=n(10),s=n(3),c=n(6),l=n(11),u=n(17),d=n(9),f=n(1),p=n(22),g=n(74),h=n(23),m=n(4),y=n(34),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};let w=(()=>{var e=b(function*(e,t,n=[],r,o,a,s=!1){if(!a)if(function(){window.platSongNumberTimer&&clearTimeout(window.platSongNumberTimer);window.platSongNumberTimer=setTimeout(()=>{pe=0},1500)}(),pe>=2?(pe++,ge.push(r),yield he(1500)):pe++,1===ge.length)ge.length=0;else if(ge.length>=2)return logger.info("musicHowlPlay cancel unnecessary song playing filenameOrigin",r),void ge.shift();logger.info("musicHowlPlay filePath",e),setTimeout(function(){if(le!==r)return void logger.info("musicHowlPlay 优化快速切歌");const a=new i.Howl({src:[e],loop:!t,rate:1,html5:!0,onloaderror:function(t,i){if(logger.error("playMusic onloaderror error ",i),logger.error("play music err filePath, filenameOrigin, original",e,r,o),fe>=5)logger.warn("Howl onloaderror more than 5, start to stopMusic"),ce(),setTimeout(()=>{fe=0},3e3);else if(n.length>1){const{currentFileIndex:e,currentMusicFilenameOriginalArr:t}=de(r,n);te(e,t,o,n,null)}else ce();n.some(e=>K(e.filenameOrigin)===K(r)&&(delete e.getNewestPath,!0)),s||(logger.warn("play music err musicPlayErrorTimes",fe),void 0===fe?(fe=0,alertDialog("音乐播放异常,请尝试其他音乐")):fe<=2?(fe++,alertDialog("音乐播放异常,请尝试其他音乐")):fe++)},onplay:function(){fe&&(fe=0,logger.warn("onplay musicPlayErrorTimes",fe))},onend:function(){const{pauseWhenOver:e,playByOrder:t,playByRandom:i}=$getState().fileServer;logger.info("onend pauseWhenOver, playByOrder, playByRandom",e,t,i),ie(),t?setTimeout(()=>{n.length?me("playByOrder",r,n,o):(ae(),$dispatch(Object(f.j)(0)))},1500):i?setTimeout(()=>{n.length?me("playByRandom",r,n,o):(ae(),$dispatch(Object(f.j)(0)))},1500):e&&($dispatch(Object(f.gb)(!1)),clearInterval(re))}}),{soundInstance:c,soundInstanceId:l}=$getState().fileServer;c&&l&&(c.stop(l),c.unload());const u=a.play();$dispatch(Object(f.eb)(a)),$dispatch(Object(f.fb)(u)),oe()},a?0:100)});return function(t,n){return e.apply(this,arguments)}})();function b(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}let _=!1,S=null;const O=e=>{logger.info("callbackFunc  index",e),S&&clearInterval(S)};let A=null;const P=()=>{const{token:e}=$getState().login;if(e){const t=Object.assign({},{token:e});return axios.post(a.a.retrieveOthers,t).then(e=>{const t=e.data;logger.info("retrieve_others  response",t.result.response.length),$dispatch(Object(s.x)(t.result.sharedNicknames)),j(t.result.response)}).catch(e=>{logger.error("retrieveOthers  err",e)})}},j=e=>{if(!e.length)return;const t=(new Date).format("yyyy-MM-dd"),n=e,r=[],o=[];for(let e=0,i=n.length;e<i;e++)n[e].date&&n[e].date.split(" ")[0]===t?r.push({username:n[e].username||n[e].mobile,origin:n[e].origin}):o.push({username:n[e].username||n[e].mobile,origin:n[e].origin});logger.info("setOthersSignInfo signedArray",r.length),logger.info("setOthersSignInfo unsignedArray",o.length),$dispatch(Object(u.c)(r)),$dispatch(Object(u.i)(o))},T=()=>{const e=cordova.plugins.permissions;e.checkPermission(e.ACCESS_FINE_LOCATION,function(e){function t(e){logger.warn("getUserPosition error code: ",e.code,"message: ",e.message)}function n(e){if(!e)return;logger.info("getUserPosition onSuccess position",e);const t=new window.BMap.Point(e.coords.longitude,e.coords.latitude),n=new window.BMap.Geocoder,r=t;$dispatch(Object(s.n)([r.lng,r.lat])),n.getLocation(r,function(e){const t=e.addressComponents;logger.info("地理位置信息",t);const n=t.province+t.city+t.district+t.street+t.streetNumber;$dispatch(Object(s.m)(t.province)),$dispatch(Object(s.l)(n))})}logger.info("getUserPosition ACCESS_FINE_LOCATION",e),e.hasPermission?(logger.info("getting geo location"),navigator.geolocation.getCurrentPosition(n,t,{enableHighAccuracy:!0}),window.watchID&&navigator.geolocation.clearWatch(window.watchID),window.watchID=navigator.geolocation.watchPosition(function(){logger.debug("avigator.geolocation.watchPosition"),n()},t,{enableHighAccuracy:!0})):logger.info("ACCESS_FINE_LOCATION no")})},k=()=>{navigator.geolocation?(navigator.geolocation.getCurrentPosition(L,R),window.watchID&&navigator.geolocation.clearWatch(window.watchID),window.watchID=navigator.geolocation.watchPosition(L,R,{enableHighAccuracy:!0})):logger.info("浏览器不支持地理定位。")},x=()=>new Promise(e=>{navigator.geolocation.getCurrentPosition(()=>{logger.info("getCurrentPosition yes"),$dispatch(Object(s.d)(!0)),e(!0)},()=>{logger.info("getCurrentPosition no"),$dispatch(Object(s.d)(!1)),e(!1)},{enableHighAccuracy:!0})}),E=(e,t="application/vnd.android.package-archive")=>{logger.info("cordova.plugins.fileOpener2.open fileEntry.name",e&&e.name,"mineType",t),cordova.plugins.fileOpener2.open(e.toInternalURL(),t,function(e){logger.info("成功预览",e)},function(e){alertDebug("出错！请在"+cordova.file.externalApplicationStorageDirectory+"目录下查看"),logger.error("出错！请在"+cordova.file.externalApplicationStorageDirectory+"目录下查看")})},M=(e,t,n)=>{isCordova?cordova.plugins.fileOpener2.open(`cdvfile://localhost/sdcard/miXingFeng/download/${n}`,t,{error:function(t){logger.error("openDownloadedFile  Error status: "+t.status+" - Error message: "+t.message),"File not found"===t.message&&(alertDialog(e+"已删除"),I(n,"file"))},success:function(){logger.info("openDownloadedFile  file opened successfully")}}):isElectron?electron.shell.openPath(appDirectory+"download\\"+n):alert("暂不支持浏览器打开文件")},I=(e,t)=>{let n,r=Promise.resolve();if("file"===t){n=`cdvfile://localhost/sdcard/miXingFeng/download/${e}`;const{fileList:t=[],downloadedFileList:o}=$getState().fileServer,i=JSON.parse(JSON.stringify(t));i.some(t=>K(t.filenameOrigin)===e&&(t.downloaded?delete t.downloaded:logger.warn("no downloaded to be deleted from fileList filenameOrigin",e),!0)),$dispatch(Object(f.o)(i)),r=Object(p.c)(`downloaded_${e}`).then(()=>{const t=JSON.parse(JSON.stringify(o));let n=null;if(t.some((t,r)=>K(t.filenameOrigin)===e&&(n=r,!0)),null!==n)return t.splice(n,1),$dispatch(Object(f.k)(t)),"success";logger.warn("no downloaded to be deleted from file downloaded filenameOrigin",e)}).catch(e=>{logger.error("removeFileFromDownload file err",e)})}else"music"===t&&(n=`cdvfile://localhost/sdcard/miXingFeng/music/${e}`,r=Object(h.c)(`downloaded_${e}`).then(()=>{const{downloadedMusicList:t}=$getState().fileServer,n=JSON.parse(JSON.stringify(t));return t.some((t,r)=>K(t.filenameOrigin)===e&&(n.splice(r,1),!0)),$dispatch(Object(f.l)(n)),"success"}).catch(e=>{alertDebug("removeMusicDataByIndexFromIndexDB err"),logger.error("removeFileFromDownload music err",e)}));let o=Promise.resolve();return isCordova?o=new Promise((e,t)=>{window.resolveLocalFileSystemURL(n,function(n){n.remove(function(){logger.info("removeFileFromDownload success"),e("success")},function(e){logger.error("removeFileFromDownload err",e),t(e)},function(){logger.warn("removeFileFromDownload file_not_exist"),e("file_not_exist")})})}):isElectron&&(o=new Promise(n=>{"file"===t?n(fs.unlinkSync(appDirectory+"download\\"+e)):"music"===t&&n(fs.unlinkSync(appDirectory+"music\\"+e))})),Promise.all([r,o]).then(e=>(logger.info("removeFileFromDownload response",e),alert("删除成功"),e)).catch(e=>{alert("删除失败"),logger.error("removeFileFromDownload err",e)})};function L(e){const t=e.coords.latitude+","+e.coords.longitude;return logger.info("location",t),axios.get(a.a.getPositionFromH5.format({location:t})).then(e=>{const t=e.data.result.response;if(logger.info("showPosition result",t),0===t.status)try{logger.info("您当前的位置",t.result),$dispatch(Object(s.n)([t.result.location.lng,t.result.location.lat])),$dispatch(Object(s.m)(t.result.addressComponent.province)),$dispatch(Object(s.l)(t.result.formatted_address))}catch(e){logger.error("showPosition err",e)}})}function R(e){switch(logger.warn("showPosition showError",e&&(e.message||e)),e.code){case e.PERMISSION_DENIED:logger.warn("定位失败,用户拒绝请求地理定位");break;case e.POSITION_UNAVAILABLE:logger.warn("定位失败,位置信息是不可用");break;case e.TIMEOUT:logger.warn("定位失败,请求获取用户位置超时");break;case e.UNKNOWN_ERROR:logger.warn("定位失败,定位系统失效");break;default:logger.warn("发生了错误!")}}const N=(()=>{var e=b(function*(e){localStorage.removeItem("tk");const{username:t=""}=$getState().login,{setMobile:n="",setEmail:r=""}=$getState().myInfo;$dispatch(Object(l.i)("")),$dispatch(Object(u.g)("")),$dispatch(Object(u.c)([])),$dispatch(Object(u.i)([])),$dispatch(Object(u.o)(!1)),$dispatch(Object(l.f)(!0)),$dispatch(Object(d.k)("")),$dispatch(Object(d.q)("")),$dispatch(Object(d.m)("")),$dispatch(Object(d.e)("")),$dispatch(Object(d.g)("")),$dispatch(Object(u.p)("")),$dispatch(Object(d.l)("")),$dispatch(Object(d.f)("")),$dispatch(Object(d.i)("")),$dispatch(Object(d.o)("")),$dispatch(Object(d.p)("")),$dispatch(Object(l.k)("")),$dispatch(Object(f.I)([])),$dispatch(Object(s.x)([])),localStorage.removeItem("lastSignUpTime"),localStorage.removeItem("alreadySignUpPersons"),localStorage.removeItem("notSignUpPersons"),localStorage.removeItem("userProfile"),localStorage.removeItem("role"),localStorage.removeItem("favoriteSongs"),localStorage.setItem("username",t),localStorage.setItem("mobile",n),localStorage.setItem("email",r),goRoute(e,"/login")});return function(t){return e.apply(this,arguments)}})(),C=function(e){const t={token:e};return axios.post(a.a.tokenLogin,t).then(e=>{const t=e.data.result;t.token?(t.autoLogin=!0,Object(g.a)(t)):(logger.warn("非法登录"),alert("非法登录"),N(null),goRoute(null,"main/sign"))}).catch(e=>{logger.error("autoLogin err",e),e.result&&"token_expired"===e.result.errText?(logger.warn("身份已过期,请重新登录"),alert("身份已过期,请重新登录"),N(null),goRoute(null,"main/sign")):Object(c.o)(e,`autoLogin data: ${t}`)})},D=e=>{let t="";return e?"number"!=typeof e?String(e):(e>1073741824?t=(e/1024/1024/1024).toFixed(1)+"G":e>1048576?t=(e/1024/1024).toFixed(1)+"M":e>1024?t=(e/1024).toFixed(1)+"K":e<1024&&(t=e+"B"),t):"未知"},$=(e="websocket interval check")=>{try{if(isCordova){const e=cordova.plugins&&cordova.plugins.backgroundMode&&cordova.plugins.backgroundMode.isActive();logger.debug("isBackground",e)}if(logger.debug("websocket heart beat reconnectAndSend readyState ping",window.ws.readyState,"log",e),1!==window.ws.readyState)logger.debug("reconnectAndSend window.ws.readyState !== 1",e),B(`heart beat: ${e}`);else{const t=Object.assign({},{type:"check-connect",userId:$getState().login.userId,data:"ping",date:Date.now()});window.ws.send(JSON.stringify(t)),_=!1,S=setTimeout(()=>{logger.warn("reconnectAndSendTimeout reconnectSocket",e),S=null,B("heart beat")},1e4)}}catch(e){logger.error("reconnectAndSend err",e)}},F=()=>{let e=Object(c.l)();localStorage.getItem("userId")&&(e=localStorage.getItem("userId")),$dispatch(Object(l.j)(e)),window.WebSocket?(window.ws=new WebSocket(window.config.debug?`ws://${window.config.host}:${window.config.socketPort}`:`wss://${window.config.socketUrl}`),window.ws.onopen=(()=>{U(ws.readyState,e)}),window.ws.onmessage=(e=>H(e)),function(){let e=!1,t=null;const n=window.logger||console;document.addEventListener("offline",function(){try{window.ws.close(1e3),n.warn("addEventListener reconnectNetwork  offline before setTimeout"),e=!0,t=setTimeout(()=>{n.warn("reconnectNetwork  offline 无法访问网络"),window.plugins.toast.showShortBottom("无法访问网络")},5e3)}catch(e){n.error("addEventListener offline after setTimeout",e)}},!1),document.addEventListener("online",function(){try{if(!0===e){clearTimeout(t),n.info("addEventListener reconnectNetwork  online"),window.plugins.toast.showShortBottom("网络已恢复"),e=!1,n.warn("addEventListener online websocket 正在重新建立连接...");const r=$getState().login.userId;setTimeout(()=>{window.ws=new WebSocket(window.config.debug?`ws://${window.config.host}:${window.config.socketPort}`:`wss://${window.config.socketUrl}`),window.ws.onopen=(()=>U(window.ws.readyState,r)),window.ws.onmessage=(e=>H(e))},200)}}catch(e){n.error("document.addEventListener online",e)}},!1)}(),A=new Observer(O),window.subjectModel.subscribeObserver(A)):logger.warn("不支持webSocket！！！")},B=e=>{const t=$getState().login.userId;window.ws&&window.ws.close&&window.ws.close(1e3),window.websocketHeartBeatInterval&&clearInterval(window.websocketHeartBeatInterval),logger.debug("正在重新建立websocket连接...",e),window.ws=new WebSocket(window.config.debug?`ws://${window.config.host}:${window.config.socketPort}`:`wss://${window.config.socketUrl}`),window.ws.onopen=(()=>U(window.ws.readyState,t)),window.ws.onmessage=(e=>H(e))},U=(e,t)=>{logger.info("websocket connected",e,"当前用户id",t);const n=Object.assign({},{type:"try-connect",userId:t,date:Date.now(),data:""});window.ws.send(JSON.stringify(n)),window.websocketHeartBeatInterval=setInterval($,6e4)},H=(()=>{var e=b(function*(e){try{const t=$getState().login.userId,n=window.logger||console;switch((e=JSON.parse(e.data)).type){case"pong":n.debug("incomingMessage pong",e),_=!0,subjectModel.notifyObserver(A);break;case"socket-heart-beat":{n.info("incomingMessage server-socket-heart-beat",e);const r={type:"check-connect",userId:t,data:"reply-server-heart-beat",date:Date.now()};window.ws.send(JSON.stringify(r));break}case"response-date":n.info(`incomingMessage Roundtrip time: ${Date.now()-e.data} ms`);break;case"order-string":n.info("incomingMessage 用户加入",e.data);break;case"online-persons":$dispatch(Object(u.j)(e.data)),n.info(`incomingMessage 当前在线人数: ${e.data}`);break;case"get-sign-array":n.info("incomingMessage get-sign-array",e.data.length),$getState().login.token&&j(e.data);break;case"get-files-array":{const t=e.data;(yield Object(p.b)()).forEach(function(e){t.forEach(function(t){K(e.filenameOrigin)===t.filenameOrigin&&(t.downloaded=!0)})}),t.forEach(function(e){isH5?e.filePath=serverHost+"/browser"+e.filePath:e.filePath=serverHost+e.filePath}),$dispatch(Object(f.o)(t)),n.info("incomingMessage get-files-array",t.length);break}case"get-musics-array":{const{musicCollection:t}=$getState().fileServer,r=e.data;r.forEach(function(e){e.filePath=serverHost+e.filePath}),t.forEach(function(e){r.forEach(function(t){K(e.filenameOrigin)===K(t.filenameOrigin)&&(t.saved=!0)})}),$dispatch(Object(f.J)(r)),n.info("incomingMessage get-musics-array",r.length);break}case"get-current-position":{n.info("incomingMessage get-current-position",e);const{allowOthersGetPosition:r}=$getState().common,o={type:"upload-user-position",userId:t,data:{info:"available",currentLocation:$getState().common.currentLocation,currentXYPosition:$getState().common.currentXYPosition},date:Date.now()};r||(o.data.info="user_not_allowed"),window.ws.send(JSON.stringify(o)),alert(`${e.data}获取了你的位置`);break}case"update-share-nickname":n.info("incomingMessage update-share-nickname length",e.data.length),$dispatch(Object(s.x)(e.data));break;default:n.error("incomingMessage default error",e)}}catch(e){n.error("onmessage JSON.parse",e.stack||e.toString())}});return function(t){return e.apply(this,arguments)}})();const z=(e,t,n,r,o)=>{const i={filename:e,uploadUsername:t,md5:n,group:r,type:o};return axios.post(a.a.checkFileMD5,i).then(e=>"lack_fields"===e.data.result.response?"缺少字段":"success"===e.data.result.response?"上传成功":"no_matches"===e.data.result.response?"没有匹配":void 0).catch(e=>(Object(c.o)(e,`checkFileMD5Func checkFileMD5Obj: ${i}`),Promise.reject(e)))},W=(e=[{}],t="filenameOrigin",n={})=>{if(!e.length)return e;const r={};let o=null;for(let n=0;n<e.length;n++){if(!e[n][t]||r[e[n][t]]){o=n;break}r[e[n][t]]=!0}return null!==o?(n.noWarn||logger.error("removeDuplicateObjectList same file field",t,"list[willRemoveIndex]",e[o]),e.splice(o,1),W(e,t,n)):e},q=e=>{const t={};return e.forEach(e=>{t[K(e.filenameOrigin)]=e}),t},V=e=>new Promise(t=>{const n=window.BrowserFile.prototype.slice||window.BrowserFile.prototype.mozSlice||window.BrowserFile.prototype.webkitSlice,r=2097152,i=Math.ceil(e.size/r),a=new o.a.ArrayBuffer,s=new window.BrowserFileReader;let c=0;function l(){const t=c*r,o=t+r>=e.size?e.size:t+r;s.readAsArrayBuffer(n.call(e,t,o))}logger.info("SparkMD5 file size, filename",e.size,e.name),s.onload=function(e){if(a.append(e.target.result),!(++c<i)){const e=a.end();return logger.info("calcFileMD5 SparkMD5 computed hash",e),t({MD5Value:e,MD5ValueError:null})}l()},s.onerror=function(e){try{logger.warn("SparkMD5 oops, something went wrong.",e)}catch(e){logger.error("logger SparkMD5 oops, something went wrong.",e),alertDebug(e)}return t({MD5Value:null,MD5ValueError:e})},l()}).catch(e=>Promise.reject(e)),J=e=>!!/^(?=(?=.*[a-z])(?=.*[A-Z])|(?=.*[a-z])(?=.*\d)|(?=.*[A-Z])(?=.*\d))[^]{6,16}$/.test(e),G=e=>!!/^[0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+){1,2}$/g.test(e),Y=e=>!!/^[1]([3-9])[0-9]{9}$/g.test(e.replace(/\s/g,"")),Q=(e,t)=>{const{musicCollection:n}=$getState().fileServer;return t!==m.a.musicOriginal.savedSongs&&(e.forEach(e=>{delete e.saved}),n.forEach(t=>{e.some(e=>K(t.filenameOrigin)===K(e.filenameOrigin)&&(e.saved=!0,!0))})),e},K=e=>{if(e)return e.replace(/downloading_|downloaded_|saved_|searchAll_|onlineMusic_|searchMusic_|recent_/g,"")},X=()=>{const e=$getState().login.userId,t=Object.assign({},{type:"try-connect",userId:e,date:Date.now(),data:""});window.ws&&1===window.ws.readyState&&ws.send(JSON.stringify(t))},Z=({savedMusicFilenameOriginalArr:e,filenameOrigin:t,musicCollection:n,musicDataList:r,currentFileIndex:o,original:i,e:s,pageType:u})=>{try{if(s&&s.stopPropagation(),-1===o||null===o)return alert("请选择一首歌播放");const{username:d,token:p}=$getState().login,{setMobile:g}=$getState().myInfo;if(!p)return alert("请先登录");const h=e.indexOf(K(t)),y=JSON.parse(JSON.stringify(n)),v=JSON.parse(JSON.stringify(r)),w=JSON.parse(JSON.stringify(r)),b=w.map(e=>e.filenameOrigin);let _=!1;const S=JSON.parse(JSON.stringify(r[o]));if(-1!==h)i===m.a.musicOriginal.savedSongs&&v.splice(h,1),y.splice(h,1);else{const{currentMusicItemInfo:e}=$getState().fileServer;e.filenameOrigin===S.filenameOrigin&&(S.filePath=e.filePath),S.filenameOrigin=`saved_${S.filenameOrigin}`,S.filename=qe(S.filename),i===m.a.musicOriginal.musicFinished&&(S.filePath=S.fileUrl,delete S.fileUrl),delete S.getNewestPath,y.push(S),_=!0}const O={username:d||g,token:p,isSaved:_,willSavedSong:S,musicCollection:y};return axios.post(a.a.saveSong,O).then(e=>{if("success"===e.data.result.result){Q(r,i),$dispatch(Object(l.i)(e.data.result.token)),y.forEach(e=>{delete e.saved}),$dispatch(Object(f.I)(y));const n=JSON.parse(JSON.stringify(r[o]));n.filename=qe(n.filename);const{currentPlayingSong:a}=$getState().fileServer;return-1!==h?(delete n.saved,a===n.filenameOrigin&&$dispatch(Object(f.b)(n)),v.some(e=>K(e.filenameOrigin)===K(t)&&(delete e.saved,!0)),$dispatch(Object(f.c)(v)),alert("取消收藏成功"),u===m.a.musicOriginal.savedSongs&&a===n.filenameOrigin&&Ve(o,b,i,w),!1):(n.saved=!0,K(a)===K(n.filenameOrigin)&&$dispatch(Object(f.b)(n)),v.some(e=>K(e.filenameOrigin)===K(t)&&(e.saved=!0,!0)),$dispatch(Object(f.c)(v)),alert("收藏成功"),!0)}logger.error("HTTP_URL.saveSong result not success",e)}).catch(e=>{logger.error("HTTP_URL.saveSong err",e),Object(c.o)(e,`saveSong dataObj: ${O}`)})}catch(e){logger.error("saveSongFunc err",e)}},ee=(e,t,n,r,o)=>{if(o&&o.stopPropagation(),null===e)return alert("请选择一首歌播放");return e||(e=t.length),ye(r[--e],n,r,null,{type:"playPreviousSong",currentFileIndex:e,currentMusicFilenameOriginalArr:t})},te=(e,t,n,r,o)=>{if(o&&o.stopPropagation(),null===e)return alert("请选择一首歌播放");return e===t.length-1&&(e=-1),ye(r[++e],n,r,null,{type:"playNextSong",currentFileIndex:e,currentMusicFilenameOriginalArr:t})};let ne=0,re=null;const oe=()=>{ne=0,clearInterval(re);let e=0;re=setInterval(()=>{const{soundInstance:t}=$getState().fileServer;setTimeout(()=>{try{if(t&&"function"==typeof t.seek&&"number"==typeof t.seek()&&!Number.isNaN(t.seek())&&0!==t.seek()){const n=t.seek();e!==n&&(ie(),$dispatch(Object(f.j)(n)),e=n)}}catch(e){ne++,logger.error("getMusicCurrentPlayProcess errorTime",ne,"soundInstance.seek err",e),ne>=15&&(clearInterval(re),ce())}},50)},1e3)},ie=()=>{const{currentPlayingSongDuration:e,currentSongTime:t,currentMusicItemInfo:n}=$getState().fileServer;if(e&&!Number.isNaN(e)&&window.circleControlRef)if(window.circleControlRef.style.strokeDashoffset>0){const e=t/n.duration;window.circleControlRef.style.strokeDashoffset=m.a.strokeDashoffset*(1-e)}else window.circleControlRef.style.strokeDashoffset=314},ae=()=>{const{soundInstance:e,soundInstanceId:t,currentPlayingSong:n}=$getState().fileServer;logger.info("music pause currentPlayingSong",n),e&&t&&e.pause(t),$dispatch(Object(f.gb)(!1))},se=()=>{const{soundInstance:e,soundInstanceId:t,currentPlayingSong:n}=$getState().fileServer;if(logger.info("music resume currentPlayingSong",n),e&&t)e.play(t),$dispatch(Object(f.gb)(!0));else try{const{pauseWhenOver:e}=$getState().fileServer,t=JSON.parse(localStorage.getItem("lastPlaySongInfo"))||{},n=JSON.parse(localStorage.getItem("lastPlaySongMusicDataList"))||[],r=localStorage.getItem("filePath");$dispatch(Object(f.gb)(!0)),w(r||t.filePath,e,n,t.filenameOrigin,t.original,!0,!1)}catch(e){logger.error("resumeMusic err",e),ce()}},ce=()=>{const{soundInstance:e,soundInstanceId:t,currentPlayingSong:n}=$getState().fileServer;logger.info("music stop currentPlayingSong",n),e&&t&&(e.stop(t),e.unload()),$dispatch(Object(f.gb)(!1)),$dispatch(Object(f.j)(0)),$dispatch(Object(f.eb)(null)),$dispatch(Object(f.fb)(null)),$dispatch(Object(f.e)(null)),$dispatch(Object(f.L)("")),$dispatch(Object(f.g)("")),$dispatch(Object(f.f)("")),$dispatch(Object(f.c)([])),$dispatch(Object(f.b)({})),localStorage.removeItem("lastPlaySongInfo"),localStorage.removeItem("lastPlaySongPageType"),localStorage.removeItem("lastPlaySongMusicDataList"),window.circleControlRef&&(window.circleControlRef.style.strokeDashoffset=m.a.strokeDashoffset,window.circleControlRef.style.strokeWidth="8px")};let le=null;const ue=(()=>{var e=b(function*({filePath:e,filenameOrigin:t,duration:n,original:r,musicDataList:o,pageType:i,filename:s,musicId:c,songOriginal:l,checkLastMusicWhenLaunch:u=!1,songInfo:d={}}){try{le=t,d.filename&&(d.filename=qe(d.filename),$dispatch(Object(f.b)(d))),$dispatch(Object(f.d)("正在获取歌词...")),localStorage.getItem("notFirstTimePlayMusic")||u||!isCordova||window.isDevModel||(localStorage.setItem("notFirstTimePlayMusic",!0),alertDialog("音乐置于后台播放时，为了应用不被系统省电杀掉，状态栏会出现消息提示","","我知道了"));const{pauseWhenOver:p,recentMusicList:g}=$getState().fileServer;let h=d;const v=!!e&&(e.includes("cdvfile://localhost/sdcard/miXingFeng/music/")||Je(e));if(v){if(!(yield Se(K(t),"music"))){alertDialog(`${s}已被删除`),logger.warn("playMusic 已被删除 filePath, filenameOrigin",e,t),I(K(t),"music");let n=-1;if(g.some(function(e,r){return e.filenameOrigin===t&&(n=r,!0)}),-1!==n){const e=JSON.parse(JSON.stringify(g));e.splice(n,1),$dispatch(Object(f.bb)(e)),Object(y.c)(t)}return}e=K(e)}o=W(o,"filenameOrigin"),logger.info("playMusic music play filenameOrigin",t);const{soundInstance:b,soundInstanceId:_,currentPlayingSong:S}=$getState().fileServer;if(logger.info("music stop currentPlayingSong",S),b&&_&&(b.stop(_),b.unload()),$dispatch(Object(f.j)(0)),o&&o.length&&$dispatch(Object(f.c)(o)),u||$dispatch(Object(f.gb)(!0)),$dispatch(Object(f.e)(t)),$dispatch(Object(f.f)(n)),$dispatch(Object(f.g)(r)),i&&$dispatch(Object(f.L)(i)),v)o.some(function(e){return K(e.filenameOrigin)===K(t)&&(h=JSON.parse(JSON.stringify(e)),!0)});else{let n=!0;if(u||o.some(function(e){return K(e.filenameOrigin)===K(t)&&(h.filename||(h=JSON.parse(JSON.stringify(e)),$dispatch(Object(f.b)(h))),e.getNewestPath&&(n=!1,l===m.a.musicOriginal.kuGouMusic&&$dispatch(Object(f.d)(h.lyric))),!0)}),n||l===m.a.musicOriginal.netEaseCloud){if(!(e=yield Ae(e,l,c,o,t,u,r)))return void $dispatch(Object(f.d)("暂无歌词"));if("获取播放链接出错"===e)return alertDialog(e);{h.filePath=e;const n=JSON.parse(JSON.stringify(o));n.some(function(r,o){return K(r.filenameOrigin)===K(t)&&(n[o].filePath=e,!0)}),$dispatch(Object(f.b)(h)),$dispatch(Object(f.c)(n))}}}if(u||Q([h],"usedForControllerAndPlayingPage"),h.filename&&!u&&1===window.location.href.split("?").length){const e=JSON.parse(JSON.stringify(h)),n=JSON.parse(JSON.stringify(o));delete e.getNewestPath,i===m.a.musicOriginal.savedSongs?(e.saved=!0,n.forEach(function(e){delete e.getNewestPath,e.saved=!0})):n.forEach(function(e){delete e.getNewestPath}),localStorage.setItem("lastPlaySongInfo",JSON.stringify(e)),localStorage.setItem("lastPlaySongPageType",i),localStorage.setItem("lastPlaySongMusicDataList",JSON.stringify(n));const r=JSON.parse(JSON.stringify(h)),a=JSON.parse(JSON.stringify(g));if(r.date=Date.now(),g.length&&h.filenameOrigin){if(K(g[0].filenameOrigin)===K(t)&&g[0].original===l)logger.info("playMusic onload same song filenameOrigin, songOriginal, pauseWhenOver",t,l,p);else if(i!==m.a.musicOriginal.musicRecent){r.filenameOrigin="recent_"+h.filenameOrigin;let e,t=!0;g.some(function(n,r){return K(n.filenameOrigin)===K(h.filenameOrigin)&&(e=r,t=!1,!0)}),t?(a.unshift(r),delete r.getNewestPath,Object(y.a)(r)):(a.splice(e,1),a.unshift(r),Object(y.c)(r.filenameOrigin),delete r.getNewestPath,Object(y.a)(r))}}else h.filenameOrigin&&(r.filenameOrigin="recent_"+h.filenameOrigin,delete r.getNewestPath,Object(y.a)(r),a.unshift(r));$dispatch(Object(f.bb)(a))}u?localStorage.setItem("filePath",e):yield w(e,p,o,t,r,v,u);const{currentMusicItemInfo:O}=$getState().fileServer,A=O.original;if(A===m.a.musicOriginal.qqMusic||A===m.a.musicOriginal.netEaseCloud){if(!c)return void logger.warn("no musicId to get lyric songOrigin",A);h.lyric?$dispatch(Object(f.d)(h.lyric)):axios.get(a.a.getMusicLyric.format({musicId:c,original:A})).then(function(e){const t=e.data.result.response;let n="";A===m.a.musicOriginal.netEaseCloud?n=t.lrc&&t.lrc.lyric||"":A===m.a.musicOriginal.qqMusic&&(n=t.data.lyric),h.lyric=n,$dispatch(Object(f.d)(n))})}else A!==m.a.musicOriginal.kuGouMusic&&$dispatch(Object(f.d)(""));window.circleControlRef&&(window.circleControlRef.style.strokeDashoffset=m.a.strokeDashoffset,window.circleControlRef.style.strokeWidth="8px")}catch(e){logger.error("play() fail err",e&&e.stack||e.toString());const{currentFileIndex:n,currentMusicFilenameOriginalArr:i}=de(t,o);te(n,i,r,o,null),alert("播放失败")}});return function(t){return e.apply(this,arguments)}})();function de(e,t){const n={};return n.currentMusicFilenameOriginalArr=t.map((t,r)=>(t.filenameOrigin===e&&(n.currentFileIndex=r),t.filenameOrigin)),n}let fe,pe=0;const ge=[];const he=e=>new Promise(t=>{setTimeout(t,e)}),me=(e,t,n,r)=>{try{const o=n.map(e=>e.filenameOrigin);let i=o.indexOf(t);i===o.length-1&&(i=-1),i++,logger.info("autoPlayNextOne filenameOrigin",t,"type",e),"playByRandom"===e&&1!==o.length&&(i=ve(o,i)),ye(n[i],r,n,e,null)}catch(e){alertDialog("音乐文件异常, 暂停播放"),logger.error("autoPlayNextOne play onEnd err",e)}};function ye(e,t,n,r,o){if($dispatch(Object(f.j)(0)),e.payPlay&&!$getState().myInfo.setMusicVip){if(alert("尊重版权,人人有责"),logger.info("playAnotherSong 尊重版权,人人有责 anotherSongInfo",e),r)return me(r,e.filenameOrigin,n,t);if(o){if("playPreviousSong"===o.type)return ee(o.currentFileIndex,o.currentMusicFilenameOriginalArr,t,n,null);if("playNextSong"===o.type)return te(o.currentFileIndex,o.currentMusicFilenameOriginalArr,t,n,null)}}else ue({filePath:e.filePath,filenameOrigin:e.filenameOrigin,duration:e.duration,original:t,musicDataList:n,pageType:$getState().fileServer.musicPageType,filename:e.filename,musicId:e.id,songOriginal:e.original,songInfo:e})}const ve=(e,t)=>{const n=parseInt(Math.random()*e.length);return t===n?(logger.warn("getRandomFileIndex repeat randomFileIndex",n,"currentFileIndex",t),ve(e,t)):(logger.info("getRandomFileIndex randomFileIndex",n),n)},we=(e,t,n,r,o,i,a,s)=>{alert(`重新下载${e}`),Object(c.x)(e,"准备中",r,o,!0,i,n,!0,{duration:a}),Object(c.t)({filenameOrigin:n,fileUrl:i,folder:"music",filename:e,uploadUsername:r,needSaveToDownloadBox:!0,fileSize:o,fromMusic:!0,options:{duration:a,songOriginal:s,downloadAgain:!0}})},be=({filePath:e,filename:t,filenameOrigin:n,uploadUsername:r,fileSize:o,duration:i,songOriginal:a,original:s,musicDataList:c,pageType:l,payPlay:u,musicId:d,songInfo:f})=>{try{if(u&&!$getState().myInfo.setMusicVip)return alert("尊重版权,人人有责");const{token:p}=$getState().login;if(!p&&l!==m.a.musicOriginal.musicShare)return goRoute(null,"/login");const{soundPlaying:g,currentPlayingSong:h,downloadingMusicItems:y,soundInstance:v}=$getState().fileServer;if(s===m.a.musicOriginal.musicDownloading)return void y.some(s=>s.filenameOrigin===n&&(logger.info("checkStatus musicDownloading filenameOrigin",n),n=K(n),"失败"===s.progress||"已取消"===s.progress?we(t,0,n,r,o,e,i,a):(logger.info("checkStatus abort download filenameOrigin",n),window.eventEmit.$emit(`FileTransfer-${n}`,"abort"),setTimeout(()=>{window[`cancel-download-${n}`]||we(t,0,n,r,o,e,i,a)},500)),!0));v&&oe(),logger.info("music checkStatus currentPlayingSong, soundPlaying, filenameOrigin",h,g,n),g?n!==h?ue({filePath:e,filenameOrigin:n,duration:i,original:s,musicDataList:c,pageType:l,filename:t,musicId:d,songOriginal:a,songInfo:f}):ae():h&&n===h?se():ue({filePath:e,filenameOrigin:n,duration:i,original:s,musicDataList:c,pageType:l,filename:t,musicId:d,songOriginal:a,songInfo:f})}catch(e){logger.error("checkStatus err",e)}},_e=()=>{setTimeout(()=>{const e=getRoute(),t=["/search_music","/search_online_music","/search_all","/saved_songs","/my_finished_musics","/recent_music_played"];let n=!1;if(isH5&&"/my_finished_musics"===e)return ke();e?(t.forEach(t=>{t===e&&(n=!0)}),n?$getState().fileServer.showMusicController||setTimeout(()=>{$dispatch(Object(f.cb)(!0))},100):ke()):ke()})},Se=(e,t)=>new Promise(function(n){if(isCordova){if(!window.LocalFileSystem)return n();window.requestFileSystem(window.LocalFileSystem.PERSISTENT,0,function(r){r.root.getDirectory("miXingFeng",{create:!0},function(r){r.getDirectory(t,{create:!0},function(t){t.getFile(e,{create:!1,exclusive:!0},function(t){logger.info("checkFileExistOrNot file is already exist, filenameOrigin",e),n(!0)},()=>{logger.info("checkFileExistOrNot file is not exist at all, filenameOrigin",e),n(!1)})},e=>{logger.error("checkFileExistOrNot load file fail",e),n(!1)})},e=>{logger.error("checkFileExistOrNot load file directory fail",e),n(!1)})},e=>{logger.error("checkFileExistOrNot load file system fail",e),n(!1)})}else isElectron&&n(fs.existsSync(appDirectory+"music\\"+e))}),Oe=e=>new Promise(t=>{window.resolveLocalFileSystemURL(window.cordova.file.externalApplicationStorageDirectory,function(n){n.getFile(e,{create:!1,exclusive:!0},function(e){t(!0)},function(e){t(!1)})})}),Ae=(()=>{var e=b(function*(e,t,n,r,o,i=!1,s){let l="";switch(t){case m.a.musicOriginal.netEaseCloud:l=a.a.getNetEaseCloudMusicLinksByIds;break;case m.a.musicOriginal.qqMusic:l=a.a.getQQMusicLinksByIds;break;case m.a.musicOriginal.kuGouMusic:l=a.a.getKuGouMusicLinksByIds;break;case m.a.musicOriginal.kuWoMusic:l=a.a.getKuWoMusicLinksByIds}if(logger.info("checkFilePath songOriginal, getFilePath, filePath",t,l,e),l){const a=yield axios.post(l,{ids:[n],filenameOrigin:K(o)}).catch(function(e){logger.error("checkFilePath get music link fail"),Object(c.o)(e,`checkFilePath getFilePath: ${l} musicId: ${n}`)}),u=a&&a.data&&a.data.result&&a.data.result.response||{};logger.info("checkFilePath axios getFilePath response",u),e=u.filePath;const d=JSON.parse(JSON.stringify(r));if(e){/http/.test(e)||(e=serverHost+e),logger.info("checkFilePath filePath",e);for(const n of d)K(n.filenameOrigin)===K(o)&&(n.filePath=e,n.getNewestPath=!0,t===m.a.musicOriginal.netEaseCloud&&(n.fileSize=u.fileSize),t===m.a.musicOriginal.kuGouMusic&&(u.lyrics?(n.lyric=u.lyrics,$dispatch(Object(f.d)(u.lyrics))):(n.lyric="暂无歌词",$dispatch(Object(f.d)("暂无歌词")))));return e}if(logger.warn("get no filePath songOriginal, musicId, response",t,n,u),!i){const{currentFileIndex:e,currentMusicFilenameOriginalArr:t}=de(o,d);logger.error("checkFilePath 获取音乐链接超时,请尝试其他音乐"),void 0===fe?(fe=0,alert("获取音乐链接超时,请尝试其他音乐"),te(e,t,s,d,null)):fe<=2&&(window.musicPlayErrorTimes++,alert("获取音乐链接超时,请尝试其他音乐"),te(e,t,s,d,null))}return!1}return e});return function(t,n,r,o,i){return e.apply(this,arguments)}})(),Pe=()=>{"yes"!==localStorage.getItem("playByOrder")&&localStorage.getItem("playByOrder")?"yes"!==localStorage.getItem("pauseWhenOver")||"no"!==localStorage.getItem("playByRandom")&&localStorage.getItem("playByRandom")?"no"!==localStorage.getItem("pauseWhenOver")||"no"!==localStorage.getItem("playByRandom")&&localStorage.getItem("playByRandom")?"yes"===localStorage.getItem("playByRandom")&&($dispatch(Object(f.Y)(!0)),$dispatch(Object(f.Z)(!1)),$dispatch(Object(f.ab)(!0)),$dispatch(Object(f.K)([{index:2,text:""},{index:3,text:""},{index:4,text:""},{index:5,text:"✔️"}]))):($dispatch(Object(f.Y)(!1)),$dispatch(Object(f.Z)(!1)),$dispatch(Object(f.ab)(!1)),$dispatch(Object(f.K)([{index:2,text:""},{index:3,text:"✔️"},{index:4,text:""},{index:5,text:""}]))):($dispatch(Object(f.Y)(!0)),$dispatch(Object(f.Z)(!0)),$dispatch(Object(f.ab)(!1)),$dispatch(Object(f.K)([{index:2,text:"✔️"},{index:3,text:""},{index:4,text:""},{index:5,text:""}]))):($dispatch(Object(f.Y)(!0)),$dispatch(Object(f.Z)(!0)),$dispatch(Object(f.ab)(!1)),$dispatch(Object(f.K)([{index:2,text:""},{index:3,text:""},{index:4,text:"✔️"},{index:5,text:""}])))},je=()=>{try{const e=localStorage.getItem("lastPlaySongInfo")&&JSON.parse(localStorage.getItem("lastPlaySongInfo")),t=localStorage.getItem("lastPlaySongPageType"),n=localStorage.getItem("lastPlaySongMusicDataList")&&JSON.parse(localStorage.getItem("lastPlaySongMusicDataList"));e&&t&&n&&($dispatch(Object(f.b)(e)),ue({filePath:e.filePath,filenameOrigin:e.filenameOrigin,duration:e.duration,original:e.original,musicDataList:n,pageType:t,filename:e.filename,musicId:e.id,songOriginal:e.original,checkLastMusicWhenLaunch:!0,songInfo:e}))}catch(e){logger.error("checkLastMusicPlayInfo err",e),alertDebug(`checkLastMusicPlayInfo err:${e}`)}},Te=e=>{if("string"!=typeof e)return"";const t=e.split(".");return 1!==t.length&&t.pop(),t.join("")},ke=()=>{$getState().fileServer.showMusicController&&$dispatch(Object(f.cb)(!1))},xe=({musicDataList:e,filename:t,uploadUsername:n,fileSize:r,musicSrc:o,filenameOrigin:i,duration:a,songOriginal:s,musicId:l,payDownload:u})=>{if(!i)return;const{downloadingMusicItems:d,downloadedMusicList:p}=$getState().fileServer,{token:g}=$getState().login;let h=!1,m=!1;return u&&!$getState().myInfo.setMusicVip?alert("尊重版权,人人有责"):g?(i=K(i),d.some(e=>K(e.filenameOrigin)===i&&(h=!0,Object(c.h)("提示",`${t}正在下载`,"去查看",()=>{$dispatch(Object(f.db)(!1)),goRoute(null,"/my_finished_musics")}),!0)),p.some(e=>K(e.filenameOrigin)===i&&(m=!0,alertDialog(`${t}已下载`),!0)),h||m?void 0:Object(c.d)().then(u=>{if(!u)return alertDialog("请授予文件读写权限，否则不能下载音乐","","知道了",c.s);alert(`开始下载${t}`),Object(c.x)(t,"准备中",n,r,!0,o,i,!0,{duration:a}),Object(c.t)({filenameOrigin:i,fileUrl:o,folder:"music",filename:t,uploadUsername:n,needSaveToDownloadBox:!0,fileSize:r,fromMusic:!0,options:{duration:a,original:s,musicId:l,musicDataList:e}})})):goRoute(null,"/login")},Ee=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.ceil(e%3600%60);return(0===t?"":t>0&&t.toString().length<2?"0"+t+":":t+":")+(n.toString().length<2?"0"+n:n)+":"+(r.toString().length<2?"0"+r:r)},Me=(e,t,n,r)=>{const o={x:5,y:5,ox:0,oy:0,nx:0,ny:0};e.addEventListener("touchstart",Le.bind(void 0,o,t,n),!1),e.addEventListener("touchmove",Re.bind(void 0,o,t,n,r),!1),e.addEventListener("touchend",function(e,t,n,r){Object(c.j)(()=>{const r=e.oy-e.ny,o=e.ox-e.nx,{isHeadPhoneView:i,isLyricView:a}=$getState().fileServer;Math.abs(o)>Math.abs(r)&&Math.abs(o)>e.x?o>0?(logger.info("touchEnd left changeX",o,"direction",t),t.includes("swipeLeft")&&n(a?"right":i?"lyric":"left")):(logger.info("touchEnd right changeX",o,"direction",t),t.includes("swipeRight")&&n(i?"right":a?"left":"lyric")):Math.abs(r)>Math.abs(o)&&Math.abs(r)>e.y?r>0?-1!==t.indexOf("swipeTop")&&n():-1!==t.indexOf("swipedown")&&n():-1!==t.indexOf("singleTap")&&n(),-1!==t.indexOf("touchend")&&n()},10,{})}.bind(void 0,o,t,n),!1)},Ie=e=>{e.removeEventListener("touchstart",Le,!1),e.removeEventListener("touchmove",Re,!1)};function Le(e,t,n,r){e.ox=r.targetTouches[0].pageX,e.oy=r.targetTouches[0].pageY,e.nx=e.ox,e.ny=e.oy,logger.info("touchStart defaults.ox",e.ox),-1!==t.indexOf("touchstart")&&n()}function Re(e,t,n,r,o){Object(c.j)(()=>{o.preventDefault(),e.nx=o.targetTouches[0].pageX,e.ny=o.targetTouches[0].pageY,-1!==t.indexOf("touchmove")&&n(),logger.info("touchMove defaults.nx",e.nx)},10,r)}const Ne=(e={})=>{const{username:t}=$getState().login,{appVersion:n,currentLocation:r,allowOthersGetPosition:o,allowShareMyNickname:i,adPicSrc:s}=$getState().common,{musicCollection:c,playByOrder:l,pauseWhenOver:u}=$getState().fileServer,{isSignedUp:d,lastSignUpTime:f,onlinePersonsNum:p}=$getState().sign,g=v({userId:$getState().login.userId,url:getRoute(),username:t,appVersion:n,currentLocation:r,allowOthersGetPosition:o,allowShareMyNickname:i,adPicSrc:s,musicCollectionLength:c.length,playByOrder:l,pauseWhenOver:u,isSignedUp:d,lastSignUpTime:f,onlinePersonsNum:p},e);return axios.post(a.a.userActivity,g).then(()=>{logger.info("logActivity success url",getRoute())}).catch(e=>{logger.error("logActivity err",e),alertDebug("logActivity err")})},Ce=(e="",t)=>{if(!e)return Promise.resolve();logger.info("userClick searchString",e);let n="";if(t)n=a.a.searchRecord.format({username:e,slice:t});else if(n=a.a.searchPosition.format({username:e,positiveUsername:$getState().login.username}),e===$getState().login.username||e===$getState().myInfo.setMobile){const e={positionText:$getState().common.currentLocation,status:"在线"};return Promise.resolve(e)}return axios.get(n).then(e=>(e.data.result&&e.data.result.signData&&logger.info("searchRecord  response.data",e.data.result.signData.length),Promise.resolve(e.data.result))).catch(e=>{Object(c.o)(e,`searchFunc url: ${n}`)})},De=(e,t)=>{t.setState({ulPadding:"0",ulDisplay:"none",searchString:e,autoSuggestList:[]});const n=[];e&&(t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){axios.get(a.a.signRecordTypeahead.format({query:e})).then(e=>{const{response:r}=e.data.result;if("SUCCESS"===e.data.status&&r.length)logger.info("signRecordTypeahead result.response",r),Array.isArray(r)&&r.forEach(e=>{n.push(e)}),t.setState({autoSuggestList:n},()=>{t.setState({ulPadding:"4px 8px",ulDisplay:"block"})});else if(!r.length)return void t.setState({autoSuggestList:n},()=>{t.setState({ulPadding:"0",ulDisplay:"none"})})}).catch(t=>(logger.error("SearchUserHistory getAutoSuggest error",t.stack||t.toString()),Object(c.o)(t,`SearchUserHistory signRecordTypeahead query: ${e}`)))},500))},$e=(()=>{var e=b(function*(e,t,n,r,o,i={}){const a=yield Oe(t);Ne({msg:"start to upgrade app"}),a?window.resolveLocalFileSystemURL(window.cordova.file.externalApplicationStorageDirectory,function(a){a.getFile(t,{create:!1,exclusive:!0},function(a){return new Promise(e=>Fe(a,n,null,e,!1,o)).then(s=>{logger.info("checkDownloadedOrNot md5IsEqual",s),!1===s?r(e,t,n):"cancel"===s?i.forceUpgrade&&i.exit():s&&o(a,"application/vnd.android.package-archive")})},function(e){logger.error("about checkDownloadedOrNot err",e)})}):r(e,t,n)});return function(t,n,r,o,i){return e.apply(this,arguments)}})(),Fe=(e,t,n,r,o,i)=>{window.md5chksum.file(e,function(a){logger.info("about page app package MD5SUM: "+a),a===t?($dispatch(Object(s.i)(!1)),$dispatch(Object(s.p)(!0)),cordova.plugins.notification.local.schedule({title:"下载完成",text:"点击安装",progressBar:!1}),Object(c.h)("提示","下载完成","立即安装",function(){n&&n.file(t=>{i(e,t.type)}),Ne({msg:"start to install app"}),r(!0)},()=>{r("cancel")})):(o&&(logger.error("about page checkAppMD5 md5sum !== MD5 md5sum, MD5",a,t),$dispatch(Object(s.i)(!1)),$dispatch(Object(s.p)(!0)),alertDialog("提示","安装包已损坏，请重新安装")),r(!1))},function(e){o&&(logger.error("about page checkAppMD5 fail Error-Message: ",e),$dispatch(Object(s.i)(!1)),$dispatch(Object(s.p)(!0)),alertDialog("提示","安装包已损坏，请重新安装"))})},Be=(e,t,n,r)=>{let o=JSON.parse(JSON.stringify(e));return t&&(o=o.slice(0,n),setTimeout(()=>r(!1),parseInt(1e3/60))),o=W(o,"filenameOrigin")},Ue=e=>{$dispatch(Object(s.y)(++e)),setTimeout(()=>{$dispatch(Object(s.y)(0))},12e4)},He=()=>{const e=window.location.href.split("?").length>1&&decodeURIComponent(window.location.href.split("?").pop());if(e){const t=(e=>{const t={};return e&&e.split("&").forEach(e=>{const n=e.split("=");t[n[0]]=n[1]}),t})(e);return logger.info("queryParams",t),t}return!1};let ze=(new Date).getTime();const We=(()=>{var e=b(function*(e,t,n,r,o,i,a,s){const{token:l}=$getState().login,{downloadingFileList:u,downloadedFileList:d}=$getState().fileServer;if(!l)return a.push("/login");if(isH5)return Object(c.t)({filenameOrigin:i,fileUrl:r,folder:"download",filename:e,uploadUsername:t,needSaveToDownloadBox:!0,fileSize:n,fromMusic:!1});if((new Date).getTime()-ze<300)return void(ze=(new Date).getTime());let f=!1;const p=i;if(i=K(i),o||u.some(function(t){return K(t.filenameOrigin)===i&&(f=!0,Object(c.h)("提示",`${e}正在下载`,"去查看",function(){a.push("/my_finished_files")}),!0)}),d.some(function(t){return!(K(t.filenameOrigin)!==i||t.status&&"downloaded"!==t.status)&&(f=!0,s?s(e,p):alert("文件已下载"),!0)}),!f){let a=function(){return Promise.resolve(!0)};return isCordova&&(a=c.d),a().then(function(a){if(!a)return alertDialog("请授予文件读写权限，否则不能下载文件","","知道了",c.s);o?alert(`重新下载${e}`):alert(`开始下载${e}`),Object(c.x)(e,"准备中",t,n,!0,r,i,!1,{}),Object(c.t)({filenameOrigin:i,fileUrl:r,folder:"download",filename:e,uploadUsername:t,needSaveToDownloadBox:!0,fileSize:n,fromMusic:!1})})}});return function(t,n,r,o,i,a,s,c){return e.apply(this,arguments)}})(),qe=e=>e?e.replace(/\<span class="hight\-light\-keyword"\>/g,"").replace(/\<\/span\>/g,""):"",Ve=(e,t,n,r)=>{localStorage.removeItem("lastPlaySongInfo"),localStorage.removeItem("lastPlaySongPageType"),localStorage.removeItem("lastPlaySongMusicDataList");const{soundPlaying:o}=$getState().fileServer,i=JSON.parse(JSON.stringify(t)),a=JSON.parse(JSON.stringify(r));i.splice(e,1),a.splice(e,1),i.length&&o?o&&te(e-1,i,n,a,null):ce()},Je=e=>"string"==typeof e?e.toLowerCase().includes("appdata")&&e.toLowerCase().includes("mixingfeng"):(logger.warn("isElectronLocalAddr",!1),!1)},function(e,t,n){e.exports=n(25)(9)},function(e,t,n){"use strict";n.d(t,"a",function(){return A}),n.d(t,"k",function(){return P}),n.d(t,"i",function(){return j}),n.d(t,"q",function(){return T}),n.d(t,"m",function(){return k}),n.d(t,"e",function(){return x}),n.d(t,"g",function(){return E}),n.d(t,"d",function(){return M}),n.d(t,"n",function(){return I}),n.d(t,"l",function(){return L}),n.d(t,"j",function(){return R}),n.d(t,"h",function(){return N}),n.d(t,"c",function(){return C}),n.d(t,"f",function(){return D}),n.d(t,"o",function(){return $}),n.d(t,"p",function(){return F}),n.d(t,"b",function(){return B});const r="myInfo/setNickname",o="myInfo/setMobile",i="myInfo/setSignature",a="myInfo/setSex",s="myInfo/setBirthday",c="myInfo/setHeadPic",l="myInfo/setAddress",u="myInfo/setSystemSetupDot",d="myInfo/setRole",f="myInfo/setMusicVip",p="myInfo/setHeadPicName",g="myInfo/replaceHeadPic",h="myInfo/setEmail",m="myInfo/setTempEmail",y="myInfo/setTempMobile",v="myInfo/carrierOperator";let w={};try{w=localStorage.getItem("userProfile")?JSON.parse(localStorage.getItem("userProfile")):{}}catch(e){w={}}const b=localStorage.getItem("role")||"",_=localStorage.getItem("musicVip")||"",S=localStorage.getItem("setHeadPicName")||"",O=()=>({setNickname:w.nickname,setMobile:w.mobile,setSignature:w.signature,setSex:w.sex,setBirthday:w.birthday,setHeadPic:w.user_pic,setAddress:w.address,setSystemSetupDot:!1,setRole:b,setMusicVip:_,setHeadPicName:S,replaceHeadPic:!1,setEmail:w.email,setTempEmail:"",setTempMobile:"",carrierOperator:""});function A(e=O(),t={}){switch(t.type){case r:return Object.assign({},e,{setNickname:t.data});case o:return localStorage.setItem("mobile",t.data||""),Object.assign({},e,{setMobile:t.data});case i:return Object.assign({},e,{setSignature:t.data});case a:return Object.assign({},e,{setSex:t.data});case s:return Object.assign({},e,{setBirthday:t.data});case c:return Object.assign({},e,{setHeadPic:t.data});case l:return Object.assign({},e,{setAddress:t.data});case u:return Object.assign({},e,{setSystemSetupDot:t.data});case d:return Object.assign({},e,{setRole:t.data});case f:return Object.assign({},e,{setMusicVip:t.data});case p:return localStorage.setItem("setHeadPicName",t.data||""),Object.assign({},e,{setHeadPicName:t.data});case g:return Object.assign({},e,{replaceHeadPic:t.data});case h:return localStorage.setItem("email",t.data||""),Object.assign({},e,{setEmail:t.data});case m:return Object.assign({},e,{setTempEmail:t.data});case y:return Object.assign({},e,{setTempMobile:t.data});case v:return Object.assign({},e,{carrierOperator:t.data});default:return e}}const P=e=>({type:r,data:e}),j=e=>({type:o,data:e}),T=e=>({type:i,data:e}),k=e=>({type:a,data:e}),x=e=>({type:s,data:e}),E=e=>({type:c,data:e}),M=e=>({type:l,data:e}),I=e=>({type:u,data:e}),L=e=>({type:d,data:e}),R=e=>({type:f,data:e}),N=e=>({type:p,data:e}),C=e=>({type:g,data:e}),D=e=>({type:h,data:e}),$=e=>({type:m,data:e}),F=e=>({type:y,data:e}),B=e=>({type:v,data:e})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});const r=window.config.debug?window.config.domain+":"+window.config.port:window.config.domainUrl,o={resetPassword:`${r}/reset_password`,loginVerify:`${r}/login_verify`,registerVerify:`${r}/register_verify`,lastSign:`${r}/last_sign`,goSign:`${r}/go_sign`,retrieveOthers:`${r}/retrieve_others`,appRelease:`${r}/apk/app_release.apk`,checkUpdate:`${r}/check_update?appVersion={appVersion}&notCheckOutOfDateVersion={notCheckOutOfDateVersion}`,tokenLogin:`${r}/token_login`,searchRecord:`${r}/search_user_profile?username={username}&slice={slice}`,checkLog:r+"/check_log",updateUserInfo:r+"/update_user_info",feedback:r+"/feedback",getList:r+"/get_list/?fileType={fileType}",uploadFile:r+"/Images",getLicence:r+"/get_licence",getPrivacy:r+"/get_privacy",getServiceList:r+"/get_service_list",getUserAgreement:r+"/get_user_agreement",getAdsConfig:r+"/get_ads_config",heartBeat:r+"/heart_beat",uploadPic:r+"/upload_pic",signRecordTypeahead:r+"/sign_record_typeahead?query={query}",getOnlinePersons:r+"/get_online_persons",replaceSocketLink:r+"/replace_socket_link",searchPosition:r+"/search_position?username={username}&positiveUsername={positiveUsername}",rpcCall:r+"/rpc_call",uploadDeviceInfo:r+"/device_info",getLoginRecord:r+"/get_login_record?username={username}&token={token}",thirdLogin:r+"/mini_program_login?code={code}&env={env}&fromApp={fromApp}",uploadRegistrationID:r+"/upload_registration_id",saveSong:r+"/save_song",delFile:r+"/del_file",checkFileMD5:r+"/check_file_md5",checkEmailValid:r+"/check_email_valid?value={value}&username={username}&email={email}&mobile={mobile}",checkMobileValid:r+"/check_mobile_valid?value={value}&username={username}&mobile={mobile}",forgetPassword:r+"/forget_password",getNetEaseCloudMusicLists:r+"/get_net_ease_cloud_music_lists?query={query}",getQQMusicLists:r+"/get_qq_music_lists?query={query}",getKuGouMusicLists:r+"/get_ku_gou_music_lists?query={query}",getKuWoMusicLists:r+"/get_ku_wo_music_lists?query={query}",getOnlineMusicLists:r+"/get_online_music_lists?query={query}",getNetEaseCloudMusicLinksByIds:r+"/get_net_ease_cloud_music_links__by_ids",getQQMusicLinksByIds:r+"/get_qq_music_links_by_ids",getKuGouMusicLinksByIds:r+"/get_ku_gou_music_links_by_ids",getKuWoMusicLinksByIds:r+"/get_ku_wo_music_links_by_ids",getAdPicture:r+"/get_ad_picture",getNetEaseCloudMvLink:r+"/get_net_ease_cloud_mv_link?id={id}&userId={userId}",getQQMvLink:r+"/get_qq_mv_link?id={id}&userId={userId}",userActivity:r+"/user_activity",jiGuangVerify:r+"/ji_guang_verify",getPositionFromH5:r+"/get_position_from_h5?location={location}",getMusicLyric:r+"/get_music_lyric?musicId={musicId}&original={original}"}},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"k",function(){return y}),n.d(t,"g",function(){return v}),n.d(t,"i",function(){return w}),n.d(t,"e",function(){return b}),n.d(t,"f",function(){return _}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return O}),n.d(t,"c",function(){return A}),n.d(t,"j",function(){return P}),n.d(t,"h",function(){return j});const r="login/username",o="login/password",i="login/token",a="login/isFromLoginPage",s="login/logOutFlag",c="login/hasForgetPassword",l="login/forgetPasswordToken",u="login/forgetPasswordTokenOrigin",d="login/userId",f="login/retryLoginTimes",p=localStorage.getItem("username")||"",g=localStorage.getItem("userId")||"",h=()=>({username:p,password:"",token:"",isFromLoginPage:!1,logOutFlag:!1,hasForgetPassword:!1,forgetPasswordToken:"",forgetPasswordTokenOrigin:"",userId:g,retryLoginTimes:0});function m(e=h(),t={}){switch(t.type){case r:return localStorage.setItem("username",t.data||""),Object.assign({},e,{username:t.data});case o:return Object.assign({},e,{password:t.data});case i:return localStorage.setItem("tk",t.data||""),Object.assign({},e,{token:t.data});case a:return Object.assign({},e,{isFromLoginPage:t.data});case s:return Object.assign({},e,{logOutFlag:t.data});case c:return Object.assign({},e,{hasForgetPassword:t.data});case l:return Object.assign({},e,{forgetPasswordToken:t.data});case u:return Object.assign({},e,{forgetPasswordTokenOrigin:t.data});case d:return localStorage.setItem("userId",t.data||""),Object.assign({},e,{userId:t.data});case f:return Object.assign({},e,{retryLoginTimes:t.data});default:return e}}const y=e=>({type:r,data:e}),v=e=>({type:o,data:e}),w=e=>({type:i,data:e}),b=e=>({type:a,data:e}),_=e=>({type:s,data:e}),S=e=>({type:c,data:e}),O=e=>({type:l,data:e}),A=e=>({type:u,data:e}),P=e=>({type:d,data:e}),j=e=>({type:f,data:e})},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(119));t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(49));t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(78));t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,r.default)(e,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(145)),o=a(n(149)),i=a(n(49));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"o",function(){return A}),n.d(t,"g",function(){return P}),n.d(t,"c",function(){return j}),n.d(t,"i",function(){return T}),n.d(t,"j",function(){return k}),n.d(t,"p",function(){return x}),n.d(t,"k",function(){return E}),n.d(t,"d",function(){return M}),n.d(t,"b",function(){return I}),n.d(t,"e",function(){return L}),n.d(t,"f",function(){return R}),n.d(t,"n",function(){return N}),n.d(t,"h",function(){return C}),n.d(t,"m",function(){return D}),n.d(t,"q",function(){return $}),n.d(t,"l",function(){return F});const r="sign/isSignedUp",o="sign/lastSignUpTime",i="sign/alreadySignUpPersons",a="sign/notSignUpPersons",s="sign/onlinePersonsNum",c="sign/signedFlag",l="sign/onlinePersonsName",u="sign/directShowSignPage",d="sign/adNumber",f="sign/fromResume",p="sign/justOpenApp",g="sign/showUpdateConfirm",h="sign/needRetryRequestWhenLaunch",m="sign/showDownloadAppTip",y="sign/timeForOpenApp",v="sign/showAdsTransition";let w=[],b=[];try{w=localStorage.getItem("alreadySignUpPersons")?JSON.parse(localStorage.getItem("alreadySignUpPersons")):[]}catch(e){w=[]}try{b=localStorage.getItem("notSignUpPersons")?JSON.parse(localStorage.getItem("notSignUpPersons")):[]}catch(e){b=[]}const _=localStorage.getItem("lastSignUpTime")||"",S=()=>({isSignedUp:!1,lastSignUpTime:_,alreadySignUpPersons:w,notSignUpPersons:b,onlinePersonsNum:0,signedFlag:"",onlinePersonsName:"",directShowSignPage:!1,adNumber:0,fromResume:!1,justOpenApp:!0,showUpdateConfirm:!1,needRetryRequestWhenLaunch:!0,showDownloadAppTip:!window.isDevModel,timeForOpenApp:0,showAdsTransition:!1});function O(e=S(),t={}){switch(t.type){case r:return Object.assign({},e,{isSignedUp:t.data});case o:return localStorage.setItem("lastSignUpTime",t.data||""),Object.assign({},e,{lastSignUpTime:t.data});case i:return localStorage.setItem("alreadySignUpPersons",JSON.stringify(t.data||[])),Object.assign({},e,{alreadySignUpPersons:t.data});case a:return localStorage.setItem("notSignUpPersons",JSON.stringify(t.data||[])),Object.assign({},e,{notSignUpPersons:t.data});case s:return Object.assign({},e,{onlinePersonsNum:t.data});case c:return Object.assign({},e,{signedFlag:t.data});case l:return Object.assign({},e,{onlinePersonsName:t.data});case u:return Object.assign({},e,{directShowSignPage:t.data});case d:return Object.assign({},e,{adNumber:t.data});case f:return Object.assign({},e,{fromResume:t.data});case p:return Object.assign({},e,{justOpenApp:t.data});case g:return Object.assign({},e,{showUpdateConfirm:t.data});case h:return Object.assign({},e,{needRetryRequestWhenLaunch:t.data});case m:return Object.assign({},e,{showDownloadAppTip:t.data});case y:return Object.assign({},e,{timeForOpenApp:t.data});case v:return Object.assign({},e,{showAdsTransition:t.data});default:return e}}const A=e=>({type:r,data:e}),P=e=>({type:o,data:e}),j=e=>({type:i,data:e}),T=e=>({type:a,data:e}),k=e=>({type:s,data:e}),x=e=>({type:c,data:e}),E=e=>({type:l,data:e}),M=e=>({type:u,data:e}),I=e=>({type:d,data:e}),L=e=>({type:f,data:e}),R=e=>({type:p,data:e}),N=e=>({type:g,data:e}),C=e=>({type:h,data:e}),D=e=>({type:m,data:e}),$=e=>({type:y,data:e}),F=e=>({type:v,data:e})},function(e,t,n){e.exports=n(25)(21)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(21)),o=c(n(24)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),a=c(n(180)),s=c(n(103));function c(e){return e&&e.__esModule?e:{default:e}}var l={duration:3,mask:!0},u=void 0,d="am-toast";function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.duration,c=arguments[3],f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.mask,p={info:"",success:"success",fail:"fail",offline:"dislike",loading:"loading"}[t];!function(e,t){var n;u&&(u.destroy(),u=null),a.default.newInstance({prefixCls:d,style:{},transitionName:"am-fade",className:(0,o.default)((n={},(0,r.default)(n,d+"-mask",e),(0,r.default)(n,d+"-nomask",!e),n))},function(e){return t&&t(e)})}(f,function(t){u=t,t.notice({duration:n,style:{},content:p?i.createElement("div",{className:d+"-text "+d+"-text-icon",role:"alert","aria-live":"assertive"},i.createElement(s.default,{type:p,size:"lg"}),i.createElement("div",{className:d+"-text-info"},e)):i.createElement("div",{className:d+"-text",role:"alert","aria-live":"assertive"},i.createElement("div",null,e)),closable:!0,onClose:function(){c&&c(),t.destroy(),t=null,u=null}})})}t.default={SHORT:3,LONG:8,show:function(e,t,n){return f(e,"info",t,function(){},n)},info:function(e,t,n,r){return f(e,"info",t,n,r)},success:function(e,t,n,r){return f(e,"success",t,n,r)},fail:function(e,t,n,r){return f(e,"fail",t,n,r)},offline:function(e,t,n,r){return f(e,"offline",t,n,r)},loading:function(e,t,n,r){return f(e,"loading",t,n,r)},hide:function(){u&&(u.destroy(),u=null)},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.duration,n=void 0===t?3:t,r=e.mask;l.duration=n,!1===r&&(l.mask=!1)}},e.exports=t.default},function(e,t,n){"use strict";var r=n(89),o=n(154),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(78));t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";let r;n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});const o=window.indexedDB.open("file",1);o.onerror=function(e){logger.error("file数据库打开报错")},o.onsuccess=function(e){r=o.result,logger.info("file数据库打开成功")},o.onupgradeneeded=function(e){(r=e.target.result).createObjectStore("file",{keyPath:"filenameOrigin"})};const i=e=>"[object Object]"!==Object.prototype.toString.call(e)?Promise.reject("error_data_type"):new Promise((t,n)=>{const o=r.transaction(["file"],"readwrite").objectStore("file").add(e);o.onsuccess=function(e){t("success"),logger.info("file 数据写入成功")},o.onerror=function(e){t(e),logger.warn("file 数据写入失败")}}),a=()=>{const e=[];return new Promise((t,n)=>{r.transaction("file").objectStore("file").openCursor().onsuccess=function(n){const r=n.target.result;r?(e.push(r.value),r.continue()):t(e)}})},s=e=>new Promise((t,n)=>{const o=r.transaction(["file"],"readwrite").objectStore("file").delete(e);o.onsuccess=function(e){const n=e.target.result;logger.info("file 数据移除成功",n),t(n||"success")},o.onerror=function(e){logger.error("file 数据移除失败"),n(e)}})},function(e,t,n){"use strict";let r;n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});const o=window.indexedDB.open("music",1);o.onerror=function(e){logger.error("music 数据库打开报错")},o.onsuccess=function(e){r=o.result,logger.info("music 数据库打开成功")},o.onupgradeneeded=function(e){(r=e.target.result).createObjectStore("music",{keyPath:"filenameOrigin"})};const i=e=>"[object Object]"!==Object.prototype.toString.call(e)?Promise.reject("error_data_type"):new Promise((t,n)=>{const o=r.transaction(["music"],"readwrite").objectStore("music").add(e);o.onsuccess=function(e){t("success"),logger.info("music 数据写入成功")},o.onerror=function(e){t(e),logger.warn("music 数据写入失败")}}),a=()=>{const e=[];return new Promise((t,n)=>{r.transaction("music").objectStore("music").openCursor().onsuccess=function(n){const r=n.target.result;r?(e.push(r.value),r.continue()):t(e)}})},s=e=>new Promise((t,n)=>{const o=r.transaction(["music"],"readwrite").objectStore("music").delete(e);o.onsuccess=function(e){const n=e.target.result;logger.info("music 数据移除成功",n),t(n||"success")},o.onerror=function(e){logger.error("music 数据移除失败"),n(e)}})},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=vendor},function(e,t,n){e.exports=n(153)},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(40)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(39),o=n(79),i=n(53),a=Object.defineProperty;t.f=n(29)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(57)("wks"),o=n(47),i=n(28).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(28),o=n(27),i=n(75),a=n(36),s=n(31),c=function(e,t,n){var l,u,d,f=e&c.F,p=e&c.G,g=e&c.S,h=e&c.P,m=e&c.B,y=e&c.W,v=p?o:o[t]||(o[t]={}),w=v.prototype,b=p?r:g?r[t]:(r[t]||{}).prototype;for(l in p&&(n=t),n)(u=!f&&b&&void 0!==b[l])&&s(v,l)||(d=u?b[l]:n[l],v[l]=p&&"function"!=typeof b[l]?n[l]:m&&u?i(d,r):y&&b[l]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):h&&"function"==typeof d?i(Function.call,d):d,h&&((v.virtual||(v.virtual={}))[l]=d,e&c.R&&w&&!w[l]&&a(w,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){"use strict";let r;n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});const o=window.indexedDB.open("recentMusic",1);o.onerror=function(e){logger.error("recentMusic 数据库打开报错")},o.onsuccess=function(e){r=o.result,logger.info("recentMusic 数据库打开成功")},o.onupgradeneeded=function(e){(r=e.target.result).createObjectStore("recentMusic",{keyPath:"filenameOrigin"})};const i=e=>"[object Object]"!==Object.prototype.toString.call(e)?Promise.reject("error_data_type"):new Promise((t,n)=>{const o=r.transaction(["recentMusic"],"readwrite").objectStore("recentMusic").add(e);o.onsuccess=function(e){t("success"),logger.info("recentMusic 数据写入成功")},o.onerror=function(e){t(e),logger.warn("recentMusic 数据写入失败")}}),a=()=>{const e=[];return new Promise((t,n)=>{r.transaction("recentMusic").objectStore("recentMusic").openCursor().onsuccess=function(n){const r=n.target.result;r?(e.push(r.value),r.continue()):t(e)}})},s=e=>new Promise((t,n)=>{const o=r.transaction(["recentMusic"],"readwrite").objectStore("recentMusic").delete(e);o.onsuccess=function(e){const n=e.target.result;logger.info("recentMusic 数据移除成功",n),t(n||"success")},o.onerror=function(e){logger.error("recentMusic 数据移除失败"),n(e)}})},function(e,t,n){var r=n(83),o=n(54);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(30),o=n(43);e.exports=n(29)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=n(25)(25)},function(e,t,n){var r=n(37);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){!function(t){let r=["debug","info","warn","error"],o=0,i=n(170),a=t._cordovaNative&&-1!==navigator.userAgent.toLowerCase().indexOf("android");function s(e){o++;let t="";try{const n=Object.prototype.toString.call(e);switch(n){case"[object Number]":case"[object String]":case"[object Undefined]":case"[object Null]":case"[object Boolean]":t=e;break;case"[object Object]":case"[object Array]":for(let t in e)try{e.hasOwnProperty&&e.hasOwnProperty(t)?e[t]=o>999?Object.prototype.toString.call(e[t]):s(e[t]):e[t]=Object.prototype.toString.call(e[t])}catch(r){e[t]=n}t=e;break;case"[object Function]":console.warn("we don't recommend to print function directly"),t=Function.prototype.toString.call(e);break;case"[object Error]":t=e.stack||e.toString();break;case"[object Symbol]":console.warn("we don't recommend to print Symbol directly"),t=e.toString();break;case"[object Set]":console.warn("we don't recommend to print Set directly"),t=[...e];break;case"[object Map]":console.warn("we don't recommend to print Map directly");const r={};for(let[t,n]of e)r[t]=n;t=r;break;default:t=Object.prototype.toString.call(e)}}catch(e){t={}}return t}function c(e){if(void 0===e||"[object Object]"===Object.prototype.toString.call(e))return t.userConfig=e||{},t.userConfig.folder="string"==typeof t.userConfig.folder?t.userConfig.folder:"cordova-logger",t.userConfig.column="string"==typeof t.userConfig.column?t.userConfig.column:"log",t.userConfig.filename="string"==typeof t.userConfig.filename?t.userConfig.filename:"logger.log",t.logger={userConfig:t.userConfig,queue:[],tempQueue:[]},r.forEach(e=>{t.logger[e]=((n="",...r)=>{const c=[n,...r];if("debug"===e)return console.log(`[${f()}] [DEBUG]`,n,...r),Promise.resolve(...c);if(o=0,console[e](`[${f()}] [${e.toUpperCase()}] `,n," [ext]",...r),a){const{folder:o,column:a,filename:c}=t.userConfig;n=JSON.stringify(n,function(e,t){return s(t)},4);let p=[];r.length&&(p=r.map(e=>(function(e){try{const t=i(e);return JSON.stringify(t,function(e,t){return s(t)},4)}catch(t){return Object.prototype.toString.call(e)}})(e))).length&&(p=`  [ext] ${p.join("")}`);const g=`${n}`+`${p}`+"\r\n",h=`[${f()}] [${e.toUpperCase()}] ${g}`;return t.logger.queue.length?t.logger.queue.push(h):(t.logger.queue.push(h),function e(n="",r,o,i){return new Promise(function(a){return t.requestFileSystem||t.LocalFileSystem?(t.logger.tempQueue.length&&(n=t.logger.tempQueue[0],t.logger.queue=[...t.logger.tempQueue,...t.logger.queue],t.logger.tempQueue=[]),t.requestFileSystem(t.LocalFileSystem.PERSISTENT,0,function(s){s.root.getDirectory(r,{create:!0},function(s){s.getDirectory(o,{create:!0},function(s){s.getFile(i,{create:!0,exclusive:!1},function(s){s.createWriter(async function(s){s.onwriteend=function(){if(a(n),t.logger.queue.shift(),t.logger.queue.length)return e(t.logger.queue.slice(0,1)[0],r,o,i)},s.onerror=function(n){if(console.error("cordova-logger: write file fail",n),a(n),t.logger.queue.shift(),t.logger.queue.length)return e(t.logger.queue.slice(0,1)[0],r,o,i)},s.seek(s.length),s.write(n)})},l)},u)},d)},d)):(t.logger.queue=[],t.logger.tempQueue.push(n),console.warn("^^^^^^^^cordova-logger: please install cordova-plugin-file first data",n),a(n))}).catch(n=>{if(console.error("cordova-logger createAndWriteFile pronmise err",n),t.logger.queue.shift(),t.logger.queue.length)return e(t.logger.queue.slice(0,1),r,o,i)})}(h,o,a,c))}return console.log(`[${f()}] [${e.toUpperCase()}]`,n,...r),Promise.resolve(...c)})}),t.logger;throw new Error("^^^^^^^^cordova-logger config must be an object")}function l(e){t.logger.queue=[],console.error("cordova-logger: file folder create fail!",e)}function u(e){t.logger.queue=[],console.error("cordova-logger: file system load error!",e)}function d(e){t.logger.queue=[],console.error("cordova-logger: file folder create fail!",e)}function u(e){t.logger.queue=[],console.error("cordova-logger: file system load fail!",e)}function f(){let e=(new Date).getFullYear(),t=(new Date).getMonth()+1,n=(new Date).getDate(),r=(new Date).getHours(),o=(new Date).getMinutes(),i=(new Date).getSeconds(),a=(new Date).getMilliseconds();return r<10&&(r="0"+r),o<10&&(o="0"+o),i<10&&(i="0"+i),a<10&&(a="00"+a),a<100&&(a="0"+a),`${e}-${t}-${n} ${r}:${o}:${i}.${a}`}c.prototype.checkFileWritePriority=function(){return t.permissions?new Promise(e=>{a?t.permissions.checkPermission(permissions.WRITE_EXTERNAL_STORAGE,function(t){t.hasPermission?e(!0):e(!1)}):e(!0)}):console.warn("^^^^^^^^cordova-logger: please install cordova-plugin-android-permissions first")},c.prototype.requestFileWritePriority=function(e,n,r){return t.requestFileSystem||t.LocalFileSystem?new Promise(o=>{a?t.requestFileSystem(t.LocalFileSystem.PERSISTENT,0,function(t){t.root.getDirectory(e,{create:!0},function(e){e.getDirectory(n,{create:!0},function(e){e.getFile(r,{create:!0,exclusive:!1},function(e){o()},function(e){o()})})})}):o()}):console.warn("^^^^^^^^cordova-logger: please install cordova-plugin-file first")},c.prototype.checkExternalFileExistOrNot=function(e){return t.requestFileSystem||t.LocalFileSystem?new Promise(n=>{t.resolveLocalFileSystemURL(t.cordova.file.externalApplicationStorageDirectory,function(t){t.getFile(e,{create:!1,exclusive:!0},function(e){n(!0)},function(e){n(!1)})})}):console.warn("^^^^^^^^cordova-logger: please install cordova-plugin-file first")},e.exports=c}(self)},function(e,t,n){"use strict";var r=n(12),o=n.n(r),i=n(21),a=n.n(i),s=n(14),c=n.n(s),l=n(15),u=n.n(l),d=n(13),f=n.n(d),p=n(16),g=n.n(p),h=n(0),m=n.n(h),y=n(8),v=n.n(y),w=n(87);function b(e){var t=[];return m.a.Children.forEach(e,function(e){t.push(e)}),t}function _(e,t){var n=null;return e&&e.forEach(function(e){n||e&&e.key===t&&(n=e)}),n}function S(e,t,n){var r=null;return e&&e.forEach(function(e){if(e&&e.key===t&&e.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=e}}),r}var O=n(18),A=n.n(O),P=n(49),j=n.n(P),T={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},k={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},x=[],E=[];function M(e,t,n){e.addEventListener(t,n,!1)}function I(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];for(var i in o)if(i in e){n.push(o[i]);break}}}"AnimationEvent"in window||(delete T.animationstart.animation,delete k.animationend.animation),"TransitionEvent"in window||(delete T.transitionstart.transition,delete k.transitionend.transition),t(T,x),t(k,E)}();var L={startEvents:x,addStartEventListener:function(e,t){0!==x.length?x.forEach(function(n){M(e,n,t)}):window.setTimeout(t,0)},removeStartEventListener:function(e,t){0!==x.length&&x.forEach(function(n){I(e,n,t)})},endEvents:E,addEndEventListener:function(e,t){0!==E.length?E.forEach(function(n){M(e,n,t)}):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==E.length&&E.forEach(function(n){I(e,n,t)})}},R=n(96),N=n.n(R),C=0!==L.endEvents.length,D=["Webkit","Moz","O","ms"],$=["-webkit-","-moz-","-o-","ms-",""];function F(e,t){for(var n=window.getComputedStyle(e,null),r="",o=0;o<$.length&&!(r=n.getPropertyValue($[o]+t));o++);return r}function B(e){if(C){var t=parseFloat(F(e,"transition-delay"))||0,n=parseFloat(F(e,"transition-duration"))||0,r=parseFloat(F(e,"animation-delay"))||0,o=parseFloat(F(e,"animation-duration"))||0,i=Math.max(n+t,o+r);e.rcEndAnimTimeout=setTimeout(function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()},1e3*i+200)}}function U(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}var H=function(e,t,n){var r="object"===(void 0===t?"undefined":j()(t)),o=r?t.name:t,i=r?t.active:t+"-active",a=n,s=void 0,c=void 0,l=N()(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(a=n.end,s=n.start,c=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),U(e),l.remove(o),l.remove(i),L.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,a&&a())},L.addEndEventListener(e,e.rcEndListener),s&&s(),l.add(o),e.rcAnimTimeout=setTimeout(function(){e.rcAnimTimeout=null,l.add(i),c&&setTimeout(c,0),B(e)},30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};H.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),U(e),L.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},L.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout(function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,B(e)},0)},H.setTransition=function(e,t,n){var r=t,o=n;void 0===n&&(o=r,r=""),r=r||"",D.forEach(function(t){e.style[t+"Transition"+r]=o})},H.isCssAnimationSupported=C;var z=H,W={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},q={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},V=function(e){function t(){return c()(this,t),f()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g()(t,e),u()(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){W.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){W.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){W.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,r=A.a.findDOMNode(this),o=this.props,i=o.transitionName,a="object"==typeof i;this.stop();var s=function(){n.stopper=null,t()};if((C||!o.animation[e])&&i&&o[q[e]]){var c=a?i[e]:i+"-"+e,l=c+"-active";a&&i[e+"Active"]&&(l=i[e+"Active"]),this.stopper=z(r,{name:c,active:l},s)}else this.stopper=o.animation[e](r,s)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(m.a.Component);V.propTypes={children:v.a.any,animation:v.a.any,transitionName:v.a.any};var J=V,G="rc_animate_"+Date.now();function Y(e){var t=e.children;return m.a.isValidElement(t)&&!t.key?m.a.cloneElement(t,{key:G}):t}function Q(){}var K=function(e){function t(e){c()(this,t);var n=f()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return X.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:b(Y(e))},n.childrenRefs={},n}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter(function(e){return!!e.props[t]})),n.forEach(function(t){t&&e.performAppear(t.key)})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.nextProps=e;var n=b(Y(e)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(e){t.stop(e)});var o=r.showProp,i=this.currentlyAnimatingKeys,s=r.exclusive?b(Y(r)):this.state.children,c=[];o?(s.forEach(function(e){var t=e&&_(n,e.key),r=void 0;(r=t&&t.props[o]||!e.props[o]?t:m.a.cloneElement(t||e,a()({},o,!0)))&&c.push(r)}),n.forEach(function(e){e&&_(s,e.key)||c.push(e)})):c=function(e,t){var n=[],r={},o=[];return e.forEach(function(e){e&&_(t,e.key)?o.length&&(r[e.key]=o,o=[]):o.push(e)}),t.forEach(function(e){e&&Object.prototype.hasOwnProperty.call(r,e.key)&&(n=n.concat(r[e.key])),n.push(e)}),n=n.concat(o)}(s,n),this.setState({children:c}),n.forEach(function(e){var n=e&&e.key;if(!e||!i[n]){var r=e&&_(s,n);if(o){var a=e.props[o];if(r)!S(s,n,o)&&a&&t.keysToEnter.push(n);else a&&t.keysToEnter.push(n)}else r||t.keysToEnter.push(n)}}),s.forEach(function(e){var r=e&&e.key;if(!e||!i[r]){var a=e&&_(n,r);if(o){var s=e.props[o];if(a)!S(n,r,o)&&s&&t.keysToLeave.push(r);else s&&t.keysToLeave.push(r)}else a||t.keysToLeave.push(r)}})}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?S(e,t,n):_(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,r=null;n&&(r=n.map(function(n){if(null===n||void 0===n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return m.a.createElement(J,{key:n.key,ref:function(t){e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)}));var i=t.component;if(i){var a=t;return"string"==typeof i&&(a=o()({className:t.className,style:t.style},t.componentProps)),m.a.createElement(i,a,r)}return r[0]||null}}]),t}(m.a.Component);K.isAnimate=!0,K.propTypes={className:v.a.string,style:v.a.object,component:v.a.any,componentProps:v.a.object,animation:v.a.object,transitionName:v.a.oneOfType([v.a.string,v.a.object]),transitionEnter:v.a.bool,transitionAppear:v.a.bool,exclusive:v.a.bool,transitionLeave:v.a.bool,onEnd:v.a.func,onEnter:v.a.func,onLeave:v.a.func,onAppear:v.a.func,showProp:v.a.string,children:v.a.node},K.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:Q,onEnter:Q,onLeave:Q,onAppear:Q};var X=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var r=e.props;if(delete e.currentlyAnimatingKeys[t],!r.exclusive||r===e.nextProps){var o=b(Y(r));e.isValidChildByKey(o,t)?"appear"===n?W.allowAppearCallback(r)&&(r.onAppear(t),r.onEnd(t,!0)):W.allowEnterCallback(r)&&(r.onEnter(t),r.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var r=b(Y(n));if(e.isValidChildByKey(r,t))e.performEnter(t);else{var o=function(){W.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};!function(e,t,n){var r=e.length===t.length;return r&&e.forEach(function(e,o){var i=t[o];e&&i&&(e&&!i||!e&&i?r=!1:e.key!==i.key?r=!1:n&&e.props[n]!==i.props[n]&&(r=!1))}),r}(e.state.children,r,n.showProp)?e.setState({children:r},o):o()}}}};t.a=Object(w.a)(K)},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){e.exports=n(25)(22)},function(e,t,n){var r=n(82),o=n(58);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(125)),o=a(n(135)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalComponent=void 0;var r=p(n(12)),o=p(n(21)),i=p(n(15)),a=p(n(14)),s=p(n(13)),c=p(n(16)),l=p(n(24)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),d=p(n(104)),f=p(n(101));function p(e){return e&&e.__esModule?e:{default:e}}var g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},h=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,i.default)(t,[{key:"renderFooterButton",value:function(e,t,n){var r={};if(e.style&&"string"==typeof(r=e.style)){r={cancel:{},default:{},destructive:{color:"red"}}[r]||{}}return u.createElement(f.default,{activeClassName:t+"-button-active",key:n},u.createElement("a",{className:t+"-button",role:"button",style:r,onClick:function(t){t.preventDefault(),e.onPress&&e.onPress()}},e.text||"Button"))}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.prefixCls,a=n.className,s=n.wrapClassName,c=n.transitionName,f=n.maskTransitionName,p=n.style,h=n.platform,m=n.footer,y=void 0===m?[]:m,v=n.operation,w=n.animated,b=n.transparent,_=n.popup,S=n.animationType,O=g(n,["prefixCls","className","wrapClassName","transitionName","maskTransitionName","style","platform","footer","operation","animated","transparent","popup","animationType"]),A=(0,l.default)(i+"-button-group-"+(2!==y.length||v?"v":"h"),i+"-button-group-"+(v?"operation":"normal")),P=y.length?u.createElement("div",{className:A,role:"group"},y.map(function(e,n){return t.renderFooterButton(e,i,n)})):null,j=void 0,T=void 0;w&&(j=T=b?"am-fade":"am-slide-up",_&&(j="slide-up"===S?"am-slide-up":"am-slide-down",T="am-fade"));var k=(0,l.default)(s,(0,o.default)({},i+"-wrap-popup",_)),x=(0,l.default)(a,(e={},(0,o.default)(e,i+"-transparent",b),(0,o.default)(e,i+"-popup",_),(0,o.default)(e,i+"-popup-"+S,_&&S),(0,o.default)(e,i+"-android","android"===h),e));return u.createElement(d.default,(0,r.default)({},O,{prefixCls:i,className:x,wrapClassName:k,transitionName:c||j,maskTransitionName:f||T,style:p,footer:P}))}}]),t}(t.ModalComponent=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),t}(u.Component));t.default=h,h.defaultProps={prefixCls:"am-modal",transparent:!1,popup:!1,animationType:"slide-down",animated:!0,style:{},onShow:function(){},footer:[],closable:!1,operation:!1,platform:"ios"}},function(e,t,n){var r=n(54);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(37);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(57)("keys"),o=n(47);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(27),o=n(28),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(46)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(39),o=n(129),i=n(58),a=n(56)("IE_PROTO"),s=function(){},c=function(){var e,t=n(80)("iframe"),r=i.length;for(t.style.display="none",n(130).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(30).f,o=n(31),i=n(32)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){t.f=n(32)},function(e,t,n){var r=n(28),o=n(27),i=n(46),a=n(62),s=n(30).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){"use strict";(function(t){var r=n(20),o=n(156),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(90):void 0!==t&&(e=n(90)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){s.headers[e]={}}),r.forEach(["post","put","patch"],function(e){s.headers[e]=r.merge(i)}),e.exports=s}).call(this,n(108))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector,r=e;for(;r;){if(n.call(r,t))return r;r=r.parentElement}return null},e.exports=t.default},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=class extends o.a.Component{render(){const{list:e,remoteAppVersion:t,appSize:n}=this.props;return o.a.createElement("div",{className:"update-body"},o.a.createElement("div",{className:"update-version"},"V",t),isCordova&&o.a.createElement("div",{className:"update-net-type"},window.getNetType()),o.a.createElement("div",{className:"app-update-content-container"},e.map((e,t)=>o.a.createElement("p",{className:`app-update-content ${/^new\-/.test(e)?"new-feature":""}`,key:t},e.replace("new-","")))),o.a.createElement("div",{className:"update-app-size"},"更新包大小：",n))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(177)),o=s(n(50)),i=s(n(178)),a=s(n(179));function s(e){return e&&e.__esModule?e:{default:e}}o.default.alert=r.default,o.default.prompt=a.default,o.default.operation=i.default,t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";n(112),n(113)},function(e,t,n){e.exports=n(25)(52)},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=(({text:e})=>o.a.createElement("div",{className:"loading-text animate-flicker"},e||"觅星峰"))},function(e,t,n){(function(n){var r;
/*!
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*!
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||p(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),o=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(o||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(var r=0;r<e.html5PoolSize;r++)try{var o=new Audio;o._unlocked=!0,e._releaseHtml5Audio(o)}catch(n){e.noAudio=!0}for(r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[r]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new o,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return i.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=null;if(i.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,r;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(r=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&i.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&l(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var c=s._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var l=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),u=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-l),d=1e3*u/Math.abs(s._rate),f=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var g=function(){s._paused=!1,s._seek=l,s._start=f,s._stop=p,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(l>=p)){var h=s._node;if(n._webAudio){var m=function(){n._playLock=!1,g(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;h.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===h.bufferSource.start?s._loop?h.bufferSource.noteGrainOn(0,l,86400):h.bufferSource.noteGrainOn(0,l,u):s._loop?h.bufferSource.start(0,l,86400):h.bufferSource.start(0,l,u),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===i.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var y=function(){h.currentTime=l,h.muted=s._muted||n._muted||i._muted||h.muted,h.volume=s._volume*i.volume(),h.playbackRate=s._rate;try{var r=h.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,g(),r.then(function(){n._playLock=!1,h._unlocked=!0,t||(n._emit("play",s._id),n._loadQueue())}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(n._playLock=!1,g(),n._emit("play",s._id),n._loadQueue()),h.playbackRate=s._rate,h.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),h.removeEventListener("ended",n._endTimers[s._id],!1)},h.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===h.src&&(h.src=n._src,h.load());var v=window&&window.ejecta||!h.readyState&&i._navigator.isCocoonJS;if(h.readyState>=3||v)y();else{n._playLock=!0;var w=function(){y(),h.removeEventListener(i._canPlayEvent,w,!1)};h.addEventListener(i._canPlayEvent,w,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]?r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)(n=r._soundById(t[a]))&&(n._volume=e,o[2]||r._stopFade(t[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=parseFloat(e),t=parseFloat(t),n=parseFloat(n),o.volume(e,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var c=o._soundById(a[s]);if(c){if(r||o._stopFade(a[s]),o._webAudio&&!c._muted){var l=i.ctx.currentTime,u=l+n/1e3;c._volume=e,c._node.gain.setValueAtTime(e,l),c._node.gain.linearRampToValueAtTime(t,u)}o._startFadeInterval(c,e,t,n,a[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,s=t,c=n-t,l=Math.abs(c/.01),u=Math.max(4,l>0?r/l:r),d=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var o=(Date.now()-d)/r;d=Date.now(),s+=c*o,s=Math.max(0,s),s=Math.min(1,s),s=Math.round(100*s)/100,a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))},u)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,r=arguments;if(0===r.length)return this._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=this._soundById(parseInt(r[0],10)))&&n._loop;e=r[0],this._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var o=this._getSoundIds(t),i=0;i<o.length;i++)(n=this._soundById(o[i]))&&(n._loop=e,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return this},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=r._soundById(t[a])){r.playing(t[a])&&(n._rateSeek=r.seek(t[a]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[a]),c=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[t[a]]&&n._paused||(r._clearTimer(t[a]),r._endTimers[t[a]]=setTimeout(r._ended.bind(r,n),c)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(t);if(o){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var a=n.playing(t)?i.ctx.currentTime-o._playStart:0,s=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(s+a*Math.abs(o._rate))}return o._node.currentTime}var c=n.playing(t);c&&n.pause(t,!0),o._seek=e,o._ended=!1,n._clearTimer(t),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var l=function(){n._emit("seek",t),c&&n.play(t,!0)};if(c&&!n._webAudio){var u=function(){n._playLock?setTimeout(u,0):l()};setTimeout(u,0)}else l()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return c&&o&&delete c[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this["_on"+e],o=0;if("number"==typeof t&&(n=t,t=null),t||n)for(o=0;o<r.length;o++){var i=n===r[o].id;if(t===r[o].fn&&i||!t&&i){r.splice(o,1);break}}else if(e)this["_on"+e]=[];else{var a=Object.keys(this);for(o=0;o<a.length;o++)0===a[o].indexOf("_on")&&Array.isArray(this[a[o]])&&(this[a[o]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this["_on"+e],o=r.length-1;o>=0;o--)r[o].id&&r[o].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,r[o].fn),0),r[o].once&&this.off(e,r[o].fn,r[o].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),i._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new s(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=c[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=i._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),this._node.gain.setValueAtTime(t,i.ctx.currentTime),this._node.paused=!0,this._node.connect(i.masterGain)):i.noAudio||(this._node=i._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(i._canPlayEvent,this._loadFn,!1),this._node.src=e._src,this._node.preload="auto",this._node.volume=t*i.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(i._canPlayEvent,this._loadFn,!1)}};var c={},l=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);d(r.buffer,e)}else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.withCredentials=e._xhrWithCredentials,i.responseType="arraybuffer",i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},u(i)}},u=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(c[t._src]=e,f(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());(i._navigator&&i._navigator.standalone&&!r||i._navigator&&!i._navigator.standalone&&!r)&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=a,"undefined"!=typeof window?(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s):void 0!==n&&(n.HowlerGlobal=o,n.Howler=i,n.Howl=a,n.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,r="number"!=typeof r?a[3]:r,o="number"!=typeof o?a[4]:o,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(this._orientation=[e,t,n,r,o,i],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,r,o,i),this)},Howl.prototype.init=function(e){return function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(t,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof t)return i._pos;i._pos=[t,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof t)return c._pos;c._pos=[t,n,r],c._node&&(c._panner&&!c._panner.pan||e(c,"spatial"),void 0!==c._panner.positionX?(c._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(t,n,r)),i._emit("pos",c._id)}}return i},Howl.prototype.orientation=function(t,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(t,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof t)return i._orientation;i._orientation=[t,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var c=i._soundById(a[s]);if(c){if("number"!=typeof t)return c._orientation;c._orientation=[t,n,r],c._node&&(c._panner||(c._pos||(c._pos=i._pos||[0,0,-.5]),e(c,"spatial")),void 0!==c._panner.orientationX?(c._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(t,n,r)),i._emit("orientation",c._id)}}return i},Howl.prototype.pannerAttr=function(){var t,n,r,o=arguments;if(!this._webAudio)return this;if(0===o.length)return this._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(r=this._soundById(parseInt(o[0],10)))?r._pannerAttr:this._pannerAttr;t=o[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:this._panningModel})}else 2===o.length&&(t=o[0],n=parseInt(o[1],10));for(var i=this._getSoundIds(n),a=0;a<i.length;a++)if(r=this._soundById(i[a])){var s=r._pannerAttr;s={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:s.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:s.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:s.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:s.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:s.panningModel};var c=r._panner;c?(c.coneInnerAngle=s.coneInnerAngle,c.coneOuterAngle=s.coneOuterAngle,c.coneOuterGain=s.coneOuterGain,c.distanceModel=s.distanceModel,c.maxDistance=s.maxDistance,c.refDistance=s.refDistance,c.rolloffFactor=s.rolloffFactor,c.panningModel=s.panningModel):(r._pos||(r._pos=this._pos||[0,0,-.5]),e(r,"spatial"))}return this},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var e=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(44))},function(e,t,n){"use strict";n(68),n(102),n(115)},function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return h}),n.d(t,"b",function(){return m});n(72);var r=n(19),o=n.n(r),i=n(10),a=n(6),s=n(9),c=n(4),l=n(11),u=n(7);const d=(e,t,n)=>{const{username:r,token:l}=$getState().login,{setMobile:u}=$getState().myInfo;if(!l)return o.a.fail("请先登录",c.a.toastTime);"sex"===e?t=t.join():"birthday"===e?t=t.format("yyyy-MM-dd"):"address"===e&&(t=t[2]);const d=Object.assign({},{username:r||u,token:l,userInfo:{[e]:t}});n.startToSubmit||(n.startToSubmit=!0,axios.post(i.a.updateUserInfo,d).then(r=>{n.startToSubmit=!1,"modify_success"===r.data.result.response?(o.a.success("保存成功",c.a.toastTime),"sex"===e?$dispatch(Object(s.m)(t)):"birthday"===e?$dispatch(Object(s.e)(t)):"address"===e&&$dispatch(Object(s.d)(t))):o.a.fail("设置失败",c.a.toastTime)}).catch(e=>(n.startToSubmit=!1,Object(a.o)(e,`saveUserInfoFunc updateUserInfo data: ${JSON.stringify(d)}`))))},f=e=>{isCordova&&navigator.camera.getPicture(p,function(e){logger.error("取消了上传头像",e)},{quality:60,destinationType:navigator.camera.DestinationType.NATIVE_URI,sourceType:e?navigator.camera.PictureSourceType.SAVEDPHOTOALBUM:navigator.camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:window.Camera.EncodingType.JPEG,targetWidth:800,targetHeight:600,saveToPhotoAlbum:!0})},p=e=>{const{username:t}=$getState().login,{setMobile:n}=$getState().myInfo;logger.info("onPhotoURISuccess",e);const r=new window.FileUploadOptions;r.chunkedMode=!1,r.fileKey="file",r.fileName=t||n,r.mimeType="image/jpeg",r.httpMethod="POST";(new window.FileTransfer).upload(e,encodeURI(i.a.uploadPic),function(e){logger.info("onPhotoURISuccess.response",JSON.parse(e.response));const r=JSON.parse(e.response).result;return"more_than_10mb"===r.response?o.a.fail("图片大小不得超过10MB",c.a.toastTime):"illegal_filename"===r.response?o.a.fail("文件名不得含有%或#",c.a.toastTime):"illegal_filetype"===r.response?o.a.fail("图片不得上传非jpeg或png以外的格式",c.a.toastTime):($dispatch(Object(s.g)(r.newFilePath)),$dispatch(Object(s.c)(!0)),$dispatch(Object(l.i)(r.token)),m(r.newFilePath,t||n,"onPhotoURISuccess"),o.a.success("上传成功",c.a.toastTime),void goRoute(null,"/main/myInfo"))},function(e){o.a.fail("上传失败",c.a.toastTime),logger.error("An error has occurred: Code = "+e.code),logger.error("upload error source "+e.source),logger.error("upload error target "+e.target)},r)},g=(e,t)=>{const{username:n,token:r}=$getState().login,{setRole:o,setMobile:s}=$getState().myInfo;if(!r)return goRoute(null,"/login");if(!t)return;const c=Object.assign({username:n||s,token:r,command:t,role:o});return logger.info("searchShellCommand data",c),e.setState({isSearching:!0}),axios.post(i.a.rpcCall,c).then(t=>{switch(t.data.result.response){case"no_username_or_token":alert("请先登录");break;case"no_command":alert("请输入命令");break;case"403_forbidden":alert("只能输入指定的命令");break;default:e.setState({shellResponse:t.data.result.response,isSearching:!1})}}).catch(t=>(e.setState({isSearching:!0}),logger.error("err",t),Object(a.o)(t,`rpcCall data: ${c}`))).finally(()=>{e.setState({isSearching:!1})})},h=(e,t,n)=>(e&&(/^http/.test(e)?(logger.info("/^http/.test(setHeadPic) userProfile",!0),t=e):t=isCordova?"Android"===window.device.platform?"/storage/emulated/0/miXingFeng/avatar/"+n:window.serverHost+"/"+e:isElectron?Object(u.z)(e)?e:window.serverHost+"/"+e:serverHost+"/"+e),t),m=(e,t,n="")=>{const r=`${t}.${e.split(".")[e.split(".").length-1]}`;logger.info(`${n} setHeadPicName`,r),$dispatch(Object(s.h)(r));const o=serverHost+"/"+e;return Object(a.d)().then(e=>{if(!e)return alertDialog("请授予文件读写权限，否则不能下载头像","","知道了",a.s);Object(a.t)({filenameOrigin:r,fileUrl:o,folder:"avatar"})})}},function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return y});var r=n(26),o=n.n(r),i=n(10),a=n(6),s=n(11),c=n(9),l=n(4),u=n(7),d=n(3),f=n(73),p=n(1);const g=(e,t,n)=>{if(!e)return void alert("用户名不能为空");if(!t)return void alert("密码不能为空");e=e.trim(),t=t.trim();let{retryLoginTimes:r}=$getState().login,c=!0;if(r>=7)return c=!1,7===r&&setTimeout(()=>{$dispatch(Object(s.h)(0))},3e5),Object(a.h)("提示","密码输入的错误次数过多，建议找回密码或稍后再试","去找回",()=>goRoute(n,"/forget_password"));if(!c)return;n.setState({loginStatus:"登录中..."});const u=Object.assign({},{username:e},{pwd:t});window.toast.loading("加载中...",l.a.toastLoadingTime,()=>{}),o.a.post(i.a.loginVerify,u).then((()=>{var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,i){try{var a=t[o](i),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}(function*(e){if(n.setState({loginStatus:"登录"}),window.toast.hide(),"error_username"===e.data.result.response||"error_password"===e.data.result.response)return 5===++r?alert("密码已输错5次，还有3次机会"):6===r?alert("密码已输错6次，还有2次机会"):7===r?alert("密码已输错7次，还有1次机会"):r<5&&alert("用户名或密码错误"),void $dispatch(Object(s.h)(r));if("empty_username"!==e.data.result.response)if(e.data.result.token){$dispatch(Object(s.h)(0));const t=e.data.result;$dispatch(Object(s.e)(!0)),h(t)}else alertDebug("unknown error"),logger.error("loginApp loginVerify response",e.data);else alert("用户名不能为空")});return function(t){return e.apply(this,arguments)}})()).catch(e=>{logger.error("login  catch",e),n.setState({loginStatus:"登录"}),window.toast.hide(),Object(a.o)(e,`loginVerify data: ${u}`)})},h=e=>{const t=e.userProfile||{},n=e.favoriteSongs||[],r=!1!==t.shareNickname,l=e.username||t.mobile,u=t.user_pic?t.user_pic.split(".").pop():"",g=window.appDirectory?appDirectory+"avatar\\"+l+"."+u:"";localStorage.setItem("userProfile",JSON.stringify(t)),localStorage.setItem("favoriteSongs",JSON.stringify(n.slice(0,50))),localStorage.setItem("role",e.role||""),localStorage.setItem("musicVip",e.musicVip||""),$dispatch(Object(s.k)(e.username||"")),$dispatch(Object(s.g)(e.password)),$dispatch(Object(s.i)(e.token)),$dispatch(Object(c.k)(t.nickname)),$dispatch(Object(c.i)(t.mobile)),$dispatch(Object(c.q)(t.signature)),$dispatch(Object(c.m)(t.sex)),$dispatch(Object(c.e)(t.birthday)),isElectron&&fs.existsSync(g)?(logger.info("dealtWithLogin headPicAddr",g),$dispatch(Object(c.g)(g))):$dispatch(Object(c.g)(t.user_pic)),$dispatch(Object(c.d)(t.address)),$dispatch(Object(d.f)(r)),$dispatch(Object(c.f)(t.email)),$dispatch(Object(c.b)(t.mobileCarrierOperator)),$dispatch(Object(p.I)(n)),$getState().login.logOutFlag&&$dispatch(Object(s.f)(!1)),$dispatch(Object(c.l)(e.role)),$dispatch(Object(c.j)(e.musicVip)),t.user_pic&&!isH5&&Object(f.b)(t.user_pic,l,"loginApp"),window.eventEmit.$emit("hasLogin"),n.forEach(e=>{delete e.getNewestPath}),document.addEventListener("deviceready",function(){$dispatch(Object(d.o)(window.device)),logger.info("device",window.device);const t={deviceInfo:window.device,token:e.token};o.a.post(i.a.uploadDeviceInfo,t).then(()=>{logger.info("updateDeviceInfo success")}).catch(e=>{logger.error("loginApp uploadDeviceInfo",e)})},!1);const h=localStorage.getItem("oldUserId")||"",m=e.username||e.mobile;if($dispatch(Object(s.j)(m)),!e.autoLogin){const e={original:h,newOne:m};h!==m&&h&&Object(a.r)(e,"login success")}"/main/sign"!==getRoute()&&goRoute(null,"/main/sign")},m=(e,t="",n="",r="")=>{if(t=t.replace(/\s/g,""),n=n.replace(/\s/g,""),r=r.replace(/\s/g,""),!t)return void alert("用户名不能为空");if(!/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/.test(t))return logger.info("用户名只能由字母,数字或中文组成",t),alertDialog("用户名只能由字母，数字或中文组成");if(/^[0-9]/i.test(t))return logger.info("用户名首字母不能是数字",t),alertDialog("用户名首字母不能是数字");if(t.length>32)return void alertDialog("用户名长度不可超过32位");if(!n)return void alertDialog("密码不能为空");if(!1===Object(u.n)(n))return logger.info("密码至少包含大小写字母和数字中的两种且长度在6-16位之间",n),void alertDialog("密码至少包含大小写字母和数字中的两种且长度在6-16位之间");if(n!==r)return logger.info("两次输入的密码不一致，请重新输入 pwdValue",n),logger.info("两次输入的密码不一致，请重新输入 pwdValueAgain",r),void alertDialog("两次输入的密码不一致，请重新输入");const{setTempMobile:c,setMobile:d}=$getState().myInfo,f={username:t,pwd:n,mobile:d||c};window.toast.loading("加载中...",l.a.toastLoadingTime,()=>{}),o.a.post(i.a.registerVerify,f).then(r=>{window.toast.hide(),logger.info("register  response",r.data),"illegal_username"!==r.data.result.response?"first_letter_number"!==r.data.result.response?"illegal_password"!==r.data.result.response?"username_exist"!==r.data.result.response?"mobile_merge_error"!==r.data.result.response?"modify_success"===r.data.result.response?(alert("注册成功"),$dispatch(Object(s.k)(t)),$dispatch(Object(s.g)(n)),goRoute(e,"/login")):"register_fail"===r.data.result.response?alert("注册失败"):(logger.error("registerUsername response.data.result",r.data.result),alert("注册失败")):alertDialog("用户名已存在但密码不正确,请更换用户名或输入正确的密码"):alert("用户名已存在, 请尝试其他用户名"):alert("密码至少包含大小写字母和数字中的两种且长度在6-16位之间"):alert("用户名首字母不能是数字"):alert("用户名只能由字母,数字或中文组成")}).catch(e=>{window.toast.hide(),Object(a.o)(e,`registerUsername data: ${f}`)})},y=(e,t,n)=>{const{forgetPasswordToken:r,forgetPasswordTokenOrigin:c}=$getState().login,d=r||$getState().login.token;let f={};if(d){if(!t||!n)return alert("请填写密码");if(!1!==Object(u.n)(n)){if(t!==n)return alert("两次密码不一致");{t=t.trim();const e="email"===c?"email":"mobile"===c?"mobile":"systemSetup";if(!e)return alert("未知来源");f=Object.assign({},{newPwd:t,token:d,origin:e})}window.toast.loading("加载中...",l.a.toastLoadingTime,()=>{}),o.a.post(i.a.resetPassword,f).then(t=>{window.toast.hide(),logger.info("reset password response",t.data),"lack_field"!==t.data.result?"username_not_exist"===t.data.result.response?alert("用户名不存在"):"wrong_password"===t.data.result.response?alert("原密码错误"):"reset_fail"===t.data.result.response?alert("重置失败"):"token_expired"===t.data.result.response?alert("身份已过期，请重新登录"):"reset_success"===t.data.result.result?(alert("重置成功"),r?($dispatch(Object(s.b)("")),$dispatch(Object(s.c)("")),$dispatch(Object(s.g)("")),goRoute(e,"/login")):Object(u.B)(e)):(alertDebug(t.data.response),logger.error("resetPasswordFunc response.data.response",t.data.response)):alert("缺少字段")}).catch(e=>{window.toast.hide(),Object(a.o)(e,`resetPassword data: ${f}`)})}else alert("密码至少包含大小写字母和数字中的两种且长度在6-16位之间")}else alertDialog("没有token")}},function(e,t,n){var r=n(118);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(48),o=n(43),i=n(35),a=n(53),s=n(31),c=n(79),l=Object.getOwnPropertyDescriptor;t.f=n(29)?l:function(e,t){if(e=i(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(116),__esModule:!0}},function(e,t,n){e.exports=!n(29)&&!n(40)(function(){return 7!=Object.defineProperty(n(80)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(37),o=n(28).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){var r=n(31),o=n(35),i=n(123)(!1),a=n(56)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var r=n(76);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var r=n(46),o=n(33),i=n(85),a=n(36),s=n(52),c=n(128),l=n(61),u=n(107),d=n(32)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,g,h,m,y){c(n,t,g);var v,w,b,_=function(e){if(!f&&e in P)return P[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",O="values"==h,A=!1,P=e.prototype,j=P[d]||P["@@iterator"]||h&&P[h],T=j||_(h),k=h?O?_("entries"):T:void 0,x="Array"==t&&P.entries||j;if(x&&(b=u(x.call(new e)))!==Object.prototype&&b.next&&(l(b,S,!0),r||"function"==typeof b[d]||a(b,d,p)),O&&j&&"values"!==j.name&&(A=!0,T=function(){return j.call(this)}),r&&!y||!f&&!A&&P[d]||a(P,d,T),s[t]=T,s[S]=p,h)if(v={values:O?T:_("values"),keys:m?T:_("keys"),entries:k},y)for(w in v)w in P||i(P,w,v[w]);else o(o.P+o.F*(f||A),t,v);return v}},function(e,t,n){e.exports=n(36)},function(e,t,n){var r=n(82),o=n(58).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");return"function"!=typeof t.componentWillReceiveProps?e:o.a.Profiler?(t.UNSAFE_componentWillReceiveProps=t.componentWillReceiveProps,delete t.componentWillReceiveProps,e):e}},function(e,t){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(20),o=n(157),i=n(159),a=n(160),s=n(161),c=n(91);e.exports=function(e){return new Promise(function(t,l){var u=e.data,d=e.headers;r.isFormData(u)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",g=e.auth.password||"";d.Authorization="Basic "+btoa(p+":"+g)}if(f.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f};o(t,l,r),f=null}},f.onerror=function(){l(c("Network Error",e,null,f)),f=null},f.ontimeout=function(){l(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var h=n(162),m=(e.withCredentials||s(e.url))&&e.xsrfCookieName?h.read(e.xsrfCookieName):void 0;m&&(d[e.xsrfHeaderName]=m)}if("setRequestHeader"in f&&r.forEach(d,function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),l(e),f=null)}),void 0===u&&(u=null),f.send(u)})}},function(e,t,n){"use strict";var r=n(158);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),c=n(8),l=[],u=[];function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e,e}).catch(function(e){throw n.loading=!1,n.error=e,e}),n}function f(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach(function(r){var o=d(e[r]);o.loading?t.loading=!0:(t.loaded[r]=o.loaded,t.error=o.error),n.push(o.promise),o.promise.then(function(e){t.loaded[r]=e}).catch(function(e){t.error=e})})}catch(e){t.error=e}return t.promise=Promise.all(n).then(function(e){return t.loading=!1,e}).catch(function(e){throw t.loading=!1,e}),t}function p(e,t){return s.createElement(function(e){return e&&e.__esModule?e.default:e}(e),t)}function g(e,t){var d,f;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var g=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:p,webpack:null,modules:null},t),h=null;function m(){return h||(h=e(g.loader)),h.promise}return l.push(m),"function"==typeof g.webpack&&u.push(function(){if(function(e){return"object"===r(n.m)&&e().every(function(e){return void 0!==e&&void 0!==n.m[e]})}(g.webpack))return m()}),f=d=function(t){function n(r){o(this,n);var a=i(this,t.call(this,r));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),h=e(g.loader),a._loadModule()},m(),a.state={error:h.error,pastDelay:!1,timedOut:!1,loading:h.loading,loaded:h.loaded},a}return a(n,t),n.preload=function(){return m()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(g.modules)&&g.modules.forEach(function(t){e.context.loadable.report(t)}),h.loading){"number"==typeof g.delay&&(0===g.delay?this.setState({pastDelay:!0}):this._delay=setTimeout(function(){e.setState({pastDelay:!0})},g.delay)),"number"==typeof g.timeout&&(this._timeout=setTimeout(function(){e.setState({timedOut:!0})},g.timeout));var t=function(){e._mounted&&(e.setState({error:h.error,loaded:h.loaded,loading:h.loading}),e._clearTimeouts())};h.promise.then(function(){t()}).catch(function(e){t()})}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(g.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?g.render(this.state.loaded,this.props):null},n}(s.Component),d.contextTypes={loadable:c.shape({report:c.func.isRequired})},f}function h(e){return g(d,e)}h.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return g(f,e)};var m=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return s.Children.only(this.props.children)},t}(s.Component);function y(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then(function(){if(e.length)return y(e)})}m.propTypes={report:c.func.isRequired},m.childContextTypes={loadable:c.shape({report:c.func.isRequired}).isRequired},h.Capture=m,h.preloadAll=function(){return new Promise(function(e,t){y(l).then(e,t)})},h.preloadReady=function(){return new Promise(function(e,t){y(u).then(e,e)})},e.exports=h},,function(e,t,n){try{var r=n(88)}catch(e){r=n(88)}var o=/\s+/,i=Object.prototype.toString;function a(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}e.exports=function(e){return new a(e)},a.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~r(t,e)||t.push(e),this.el.className=t.join(" "),this},a.prototype.remove=function(e){if("[object RegExp]"==i.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},a.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},a.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},a.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===e[0]&&e.shift(),e},a.prototype.has=a.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}},function(e,t,n){e.exports=n(25)(56)},function(e,t,n){e.exports=n(25)(55)},function(e,t,n){(function(e){!function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function c(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function l(e){var t=void 0===e?"undefined":S(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(e,t,n,r,d,f,p){d=d||[],p=p||[];var g=d.slice(0);if(void 0!==f){if(r){if("function"==typeof r&&r(g,f))return;if("object"===(void 0===r?"undefined":S(r))){if(r.prefilter&&r.prefilter(g,f))return;if(r.normalize){var h=r.normalize(g,f,e,t);h&&(e=h[0],t=h[1])}}}g.push(f)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var m=void 0===e?"undefined":S(e),y=void 0===t?"undefined":S(t),v="undefined"!==m||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(f),w="undefined"!==y||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(f);if(!v&&w)n(new i(g,t));else if(!w&&v)n(new a(g,e));else if(l(e)!==l(t))n(new o(g,e,t));else if("date"===l(e)&&e-t!=0)n(new o(g,e,t));else if("object"===m&&null!==e&&null!==t)if(p.filter(function(t){return t.lhs===e}).length)e!==t&&n(new o(g,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new s(g,b,new a(void 0,e[b]))):u(e[b],t[b],n,r,g,b,p);for(;b<t.length;)n(new s(g,b,new i(void 0,t[b++])))}else{var _=Object.keys(e),O=Object.keys(t);_.forEach(function(o,i){var a=O.indexOf(o);a>=0?(u(e[o],t[o],n,r,g,o,p),O=c(O,a)):u(e[o],void 0,n,r,g,o,p)}),O.forEach(function(e){u(void 0,t[e],n,r,g,e,p)})}p.length=p.length-1}else e!==t&&("number"===m&&isNaN(e)&&isNaN(t)||n(new o(g,e,t)))}function d(e,t,n,r){return r=r||[],u(e,t,function(e){e&&r.push(e)},n),r.length?r:void 0}function f(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,i=n.path?n.path.length-1:0;++o<i;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":delete i[r.path[o]];break;case"E":case"N":i[r.path[o]]=r.rhs}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":t=c(t,n);break;case"E":case"N":t[n]=r.rhs}return t}(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function p(e,t,n,r){var o=d(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}o?o.forEach(function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"→",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+i+"]",a];default:return[]}}(e);n.log.apply(n,["%c "+P[t].text,function(e){return"color: "+P[e].color+"; font-weight: bold"}(t)].concat(O(r)))}):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function g(e,t,n,r){switch(void 0===e?"undefined":S(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,O(n)):e[r];case"function":return e(t);default:return e}}function h(e,t){var n=t.logger,r=t.actionTransformer,o=t.titleFormatter,i=void 0===o?function(e){var t=e.timestamp,n=e.duration;return function(e,r,o){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+r),n&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}(t):o,a=t.collapsed,s=t.colors,c=t.level,l=t.diff,u=void 0===t.titleFormatter;e.forEach(function(o,d){var f=o.started,h=o.startedTime,m=o.action,y=o.prevState,v=o.error,w=o.took,_=o.nextState,S=e[d+1];S&&(_=S.prevState,w=S.started-f);var O=r(m),A="function"==typeof a?a(function(){return _},m,o):a,P=b(h),j=s.title?"color: "+s.title(O)+";":"",T=["color: gray; font-weight: lighter;"];T.push(j),t.timestamp&&T.push("color: gray; font-weight: lighter;"),t.duration&&T.push("color: gray; font-weight: lighter;");var k=i(O,P,w);try{A?s.title&&u?n.groupCollapsed.apply(n,["%c "+k].concat(T)):n.groupCollapsed(k):s.title&&u?n.group.apply(n,["%c "+k].concat(T)):n.group(k)}catch(e){n.log(k)}var x=g(c,O,[y],"prevState"),E=g(c,O,[O],"action"),M=g(c,O,[v,y],"error"),I=g(c,O,[_],"nextState");if(x)if(s.prevState){var L="color: "+s.prevState(y)+"; font-weight: bold";n[x]("%c prev state",L,y)}else n[x]("prev state",y);if(E)if(s.action){var R="color: "+s.action(O)+"; font-weight: bold";n[E]("%c action    ",R,O)}else n[E]("action    ",O);if(v&&M)if(s.error){var N="color: "+s.error(v,y)+"; font-weight: bold;";n[M]("%c error     ",N,v)}else n[M]("error     ",v);if(I)if(s.nextState){var C="color: "+s.nextState(_)+"; font-weight: bold";n[I]("%c next state",C,_)}else n[I]("next state",_);l&&p(y,_,n,A);try{n.groupEnd()}catch(e){n.log("—— log end ——")}})}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},j,e),n=t.logger,r=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var c=[];return function(e){var n=e.getState;return function(e){return function(l){if("function"==typeof i&&!i(n,l))return e(l);var u={};c.push(u),u.started=_.now(),u.startedTime=new Date,u.prevState=r(n()),u.action=l;var d=void 0;if(a)try{d=e(l)}catch(e){u.error=o(e)}else d=e(l);u.took=_.now()-u.started,u.nextState=r(n());var f=t.diff&&"function"==typeof s?s(n,l):t.diff;if(h(c,Object.assign({},t,{diff:f})),c.length=0,u.error)throw u.error;return d}}}}var y,v,w=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},b=function(e){return w(e.getHours(),2)+":"+w(e.getMinutes(),2)+":"+w(e.getSeconds(),2)+"."+w(e.getMilliseconds(),3)},_="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},A=[];y="object"===(void 0===e?"undefined":S(e))&&e?e:"undefined"!=typeof window?window:{},(v=y.DeepDiff)&&A.push(function(){void 0!==v&&y.DeepDiff===d&&(y.DeepDiff=v,v=void 0)}),n(o,r),n(i,r),n(a,r),n(s,r),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:u,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&u(e,t,function(r){n&&!n(e,t,r)||f(e,t,r)})},enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,o,i=e;for(o=n.path.length-1,r=0;r<o;r++)void 0===i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":case"E":i[r.path[o]]=r.lhs;break;case"N":delete i[r.path[o]]}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":case"E":t[n]=r.lhs;break;case"N":t=c(t,n)}return t}(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==v},enumerable:!0},noConflict:{value:function(){return A&&(A.forEach(function(e){e()}),A=null),d},enumerable:!0}});var P={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},j={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?m()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=j,t.createLogger=m,t.logger=T,t.default=T,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(44))},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];n+=(r&o|~r&i)+t[0]-680876936|0,i+=((n=(n<<7|n>>>25)+r|0)&r|~n&o)+t[1]-389564586|0,o+=((i=(i<<12|i>>>20)+n|0)&n|~i&r)+t[2]+606105819|0,r+=((o=(o<<17|o>>>15)+i|0)&i|~o&n)+t[3]-1044525330|0,n+=((r=(r<<22|r>>>10)+o|0)&o|~r&i)+t[4]-176418897|0,i+=((n=(n<<7|n>>>25)+r|0)&r|~n&o)+t[5]+1200080426|0,o+=((i=(i<<12|i>>>20)+n|0)&n|~i&r)+t[6]-1473231341|0,r+=((o=(o<<17|o>>>15)+i|0)&i|~o&n)+t[7]-45705983|0,n+=((r=(r<<22|r>>>10)+o|0)&o|~r&i)+t[8]+1770035416|0,i+=((n=(n<<7|n>>>25)+r|0)&r|~n&o)+t[9]-1958414417|0,o+=((i=(i<<12|i>>>20)+n|0)&n|~i&r)+t[10]-42063|0,r+=((o=(o<<17|o>>>15)+i|0)&i|~o&n)+t[11]-1990404162|0,n+=((r=(r<<22|r>>>10)+o|0)&o|~r&i)+t[12]+1804603682|0,i+=((n=(n<<7|n>>>25)+r|0)&r|~n&o)+t[13]-40341101|0,o+=((i=(i<<12|i>>>20)+n|0)&n|~i&r)+t[14]-1502002290|0,r+=((o=(o<<17|o>>>15)+i|0)&i|~o&n)+t[15]+1236535329|0,n+=((r=(r<<22|r>>>10)+o|0)&i|o&~i)+t[1]-165796510|0,i+=((n=(n<<5|n>>>27)+r|0)&o|r&~o)+t[6]-1069501632|0,o+=((i=(i<<9|i>>>23)+n|0)&r|n&~r)+t[11]+643717713|0,r+=((o=(o<<14|o>>>18)+i|0)&n|i&~n)+t[0]-373897302|0,n+=((r=(r<<20|r>>>12)+o|0)&i|o&~i)+t[5]-701558691|0,i+=((n=(n<<5|n>>>27)+r|0)&o|r&~o)+t[10]+38016083|0,o+=((i=(i<<9|i>>>23)+n|0)&r|n&~r)+t[15]-660478335|0,r+=((o=(o<<14|o>>>18)+i|0)&n|i&~n)+t[4]-405537848|0,n+=((r=(r<<20|r>>>12)+o|0)&i|o&~i)+t[9]+568446438|0,i+=((n=(n<<5|n>>>27)+r|0)&o|r&~o)+t[14]-1019803690|0,o+=((i=(i<<9|i>>>23)+n|0)&r|n&~r)+t[3]-187363961|0,r+=((o=(o<<14|o>>>18)+i|0)&n|i&~n)+t[8]+1163531501|0,n+=((r=(r<<20|r>>>12)+o|0)&i|o&~i)+t[13]-1444681467|0,i+=((n=(n<<5|n>>>27)+r|0)&o|r&~o)+t[2]-51403784|0,o+=((i=(i<<9|i>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0,r+=((o=(o<<14|o>>>18)+i|0)&n|i&~n)+t[12]-1926607734|0,n+=((r=(r<<20|r>>>12)+o|0)^o^i)+t[5]-378558|0,i+=((n=(n<<4|n>>>28)+r|0)^r^o)+t[8]-2022574463|0,o+=((i=(i<<11|i>>>21)+n|0)^n^r)+t[11]+1839030562|0,r+=((o=(o<<16|o>>>16)+i|0)^i^n)+t[14]-35309556|0,n+=((r=(r<<23|r>>>9)+o|0)^o^i)+t[1]-1530992060|0,i+=((n=(n<<4|n>>>28)+r|0)^r^o)+t[4]+1272893353|0,o+=((i=(i<<11|i>>>21)+n|0)^n^r)+t[7]-155497632|0,r+=((o=(o<<16|o>>>16)+i|0)^i^n)+t[10]-1094730640|0,n+=((r=(r<<23|r>>>9)+o|0)^o^i)+t[13]+681279174|0,i+=((n=(n<<4|n>>>28)+r|0)^r^o)+t[0]-358537222|0,o+=((i=(i<<11|i>>>21)+n|0)^n^r)+t[3]-722521979|0,r+=((o=(o<<16|o>>>16)+i|0)^i^n)+t[6]+76029189|0,n+=((r=(r<<23|r>>>9)+o|0)^o^i)+t[9]-640364487|0,i+=((n=(n<<4|n>>>28)+r|0)^r^o)+t[12]-421815835|0,o+=((i=(i<<11|i>>>21)+n|0)^n^r)+t[15]+530742520|0,r+=((o=(o<<16|o>>>16)+i|0)^i^n)+t[2]-995338651|0,n+=(o^((r=(r<<23|r>>>9)+o|0)|~i))+t[0]-198630844|0,i+=(r^((n=(n<<6|n>>>26)+r|0)|~o))+t[7]+1126891415|0,o+=(n^((i=(i<<10|i>>>22)+n|0)|~r))+t[14]-1416354905|0,r+=(i^((o=(o<<15|o>>>17)+i|0)|~n))+t[5]-57434055|0,n+=(o^((r=(r<<21|r>>>11)+o|0)|~i))+t[12]+1700485571|0,i+=(r^((n=(n<<6|n>>>26)+r|0)|~o))+t[3]-1894986606|0,o+=(n^((i=(i<<10|i>>>22)+n|0)|~r))+t[10]-1051523|0,r+=(i^((o=(o<<15|o>>>17)+i|0)|~n))+t[1]-2054922799|0,n+=(o^((r=(r<<21|r>>>11)+o|0)|~i))+t[8]+1873313359|0,i+=(r^((n=(n<<6|n>>>26)+r|0)|~o))+t[15]-30611744|0,o+=(n^((i=(i<<10|i>>>22)+n|0)|~r))+t[6]-1560198380|0,r+=(i^((o=(o<<15|o>>>17)+i|0)|~n))+t[13]+1309151649|0,n+=(o^((r=(r<<21|r>>>11)+o|0)|~i))+t[4]-145523070|0,i+=(r^((n=(n<<6|n>>>26)+r|0)|~o))+t[11]-1120210379|0,o+=(n^((i=(i<<10|i>>>22)+n|0)|~r))+t[2]+718787259|0,r=((r+=(i^((o=(o<<15|o>>>17)+i|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function o(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var t,o,i,a,s,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,r(e.substring(t-64,t)));for(e=e.substring(t-64),o=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(u,i),t=0;t<16;t+=1)i[t]=0;return a=(a=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=s,i[15]=c,n(u,i),u}function a(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return s(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var o,i,a,s,c=this.byteLength,l=t(n,c),u=c;return r!==e&&(u=t(r,c)),l>u?new ArrayBuffer(0):(o=u-l,i=new ArrayBuffer(o),a=new Uint8Array(i),s=new Uint8Array(this,l,o),a.set(s),i)}}(),u.prototype.append=function(e){return this.appendBinary(c(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,o=this._buff.length;for(t=64;t<=o;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=s(this._hash),e&&(n=l(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var r,o,i,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=o,e[15]=i,n(this._hash,e)},u.hash=function(e,t){return u.hashBinary(c(e),t)},u.hashBinary=function(e,t){var n=s(i(e));return t?l(n):n},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,r=function(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}(this._buff.buffer,e,!0),i=r.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)n(this._hash,o(r.subarray(t-64,t)));return this._buff=t-64<i?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=s(this._hash),e&&(n=l(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e=u.prototype.getState.call(this);return e.buff=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}(e.buff),e},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:o}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var r=s(function(e){var t,r,i,a,s,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,o(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),r=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(u,i),t=0;t<16;t+=1)i[t]=0;return a=(a=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=s,i[15]=c,n(u,i),u}(new Uint8Array(e)));return t?l(r):r},u}()},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return v});var r=n(12),o=n.n(r),i=n(14),a=n.n(i),s=n(15),c=n.n(s),l=n(13),u=n.n(l),d=n(16),f=n.n(d),p=n(0),g=n.n(p),h=n(24),m=n.n(h),y=function(e){function t(){a()(this,t);var e=u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={active:!1},e.onTouchStart=function(t){e.triggerEvent("TouchStart",!0,t)},e.onTouchMove=function(t){e.triggerEvent("TouchMove",!1,t)},e.onTouchEnd=function(t){e.triggerEvent("TouchEnd",!1,t)},e.onTouchCancel=function(t){e.triggerEvent("TouchCancel",!1,t)},e.onMouseDown=function(t){e.triggerEvent("MouseDown",!0,t)},e.onMouseUp=function(t){e.triggerEvent("MouseUp",!1,t)},e.onMouseLeave=function(t){e.triggerEvent("MouseLeave",!1,t)},e}return f()(t,e),c()(t,[{key:"componentDidUpdate",value:function(){this.props.disabled&&this.state.active&&this.setState({active:!1})}},{key:"triggerEvent",value:function(e,t,n){var r="on"+e,o=this.props.children;o.props[r]&&o.props[r](n),t!==this.state.active&&this.setState({active:t})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.disabled,r=e.activeClassName,i=e.activeStyle,a=n?void 0:{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave},s=g.a.Children.only(t);if(!n&&this.state.active){var c=s.props,l=c.style,u=c.className;return!1!==i&&(i&&(l=o()({},l,i)),u=m()(u,r)),g.a.cloneElement(s,o()({className:u,style:l},a))}return g.a.cloneElement(s,a)}}]),t}(g.a.Component),v=y;y.defaultProps={disabled:!1}},function(e,t,n){"use strict";n(114)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(12)),o=d(n(14)),i=d(n(15)),a=d(n(13)),s=d(n(16)),c=d(n(24)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),u=d(n(152));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},p=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){(0,u.default)()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.className,o=e.size,i=f(e,["type","className","size"]),a=(0,c.default)(n,"am-icon","am-icon-"+t,"am-icon-"+o);return l.createElement("svg",(0,r.default)({className:a},i),l.createElement("use",{xlinkHref:"#"+t}))}}]),t}(l.Component);t.default=p,p.defaultProps={size:"md"},e.exports=t.default},function(e,t,n){"use strict";n.r(t);var r=n(12),o=n.n(r),i=n(14),a=n.n(i),s=n(15),c=n.n(s),l=n(13),u=n.n(l),d=n(16),f=n.n(d),p=n(0),g=n.n(p),h=n(18),m=n.n(h),y=n(42),v=function(e){function t(){return a()(this,t),u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f()(t,e),c()(t,[{key:"shouldComponentUpdate",value:function(e){return!!e.hiddenClassName||!!e.visible}},{key:"render",value:function(){var e=this.props.className;this.props.hiddenClassName&&!this.props.visible&&(e+=" "+this.props.hiddenClassName);var t=o()({},this.props);return delete t.hiddenClassName,delete t.visible,t.className=e,g.a.createElement("div",o()({},t))}}]),t}(g.a.Component);function w(){}var b=function(e){function t(){a()(this,t);var e=u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.getDialogElement=function(){var t=e.props,n=t.closable,r=t.prefixCls,o=void 0;t.footer&&(o=g.a.createElement("div",{className:r+"-footer",ref:function(t){return e.footerRef=t}},t.footer));var i=void 0;t.title&&(i=g.a.createElement("div",{className:r+"-header",ref:function(t){return e.headerRef=t}},g.a.createElement("div",{className:r+"-title"},t.title)));var a=void 0;n&&(a=g.a.createElement("button",{onClick:e.close,"aria-label":"Close",className:r+"-close"},g.a.createElement("span",{className:r+"-close-x"})));var s=e.getTransitionName(),c=g.a.createElement(v,{key:"dialog-element",role:"document",ref:function(t){return e.dialogRef=t},style:t.style||{},className:r+" "+(t.className||""),visible:t.visible},g.a.createElement("div",{className:r+"-content"},a,i,g.a.createElement("div",{className:r+"-body",style:t.bodyStyle,ref:function(t){return e.bodyRef=t}},t.children),o));return g.a.createElement(y.a,{key:"dialog",showProp:"visible",onAppear:e.onAnimateAppear,onLeave:e.onAnimateLeave,transitionName:s,component:"",transitionAppear:!0},c)},e.onAnimateAppear=function(){document.body.style.overflow="hidden"},e.onAnimateLeave=function(){document.body.style.overflow="",e.wrapRef&&(e.wrapRef.style.display="none"),e.props.onAnimateLeave&&e.props.onAnimateLeave(),e.props.afterClose&&e.props.afterClose()},e.close=function(t){e.props.onClose&&e.props.onClose(t)},e.onMaskClick=function(t){t.target===t.currentTarget&&e.close(t)},e}return f()(t,e),c()(t,[{key:"componentWillUnmount",value:function(){document.body.style.overflow="",this.wrapRef&&(this.wrapRef.style.display="none")}},{key:"getZIndexStyle",value:function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e}},{key:"getWrapStyle",value:function(){var e=this.props.wrapStyle||{};return o()({},this.getZIndexStyle(),e)}},{key:"getMaskStyle",value:function(){var e=this.props.maskStyle||{};return o()({},this.getZIndexStyle(),e)}},{key:"getMaskTransitionName",value:function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t}},{key:"getTransitionName",value:function(){var e=this.props,t=e.transitionName,n=e.animation;return!t&&n&&(t=e.prefixCls+"-"+n),t}},{key:"getMaskElement",value:function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=g.a.createElement(v,o()({style:this.getMaskStyle(),key:"mask-element",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible},e.maskProps)),n&&(t=g.a.createElement(y.a,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.maskClosable,i=this.getWrapStyle();return t.visible&&(i.display=null),g.a.createElement("div",null,this.getMaskElement(),g.a.createElement("div",o()({className:n+"-wrap "+(t.wrapClassName||""),ref:function(t){return e.wrapRef=t},onClick:r?this.onMaskClick:void 0,role:"dialog","aria-labelledby":t.title,style:i},t.wrapProps),this.getDialogElement()))}}]),t}(g.a.Component),_=b;b.defaultProps={afterClose:w,className:"",mask:!0,visible:!1,closable:!0,maskClosable:!0,prefixCls:"rmc-dialog",onClose:w};var S=!!m.a.createPortal,O=!("undefined"==typeof window||!window.document||!window.document.createElement),A=function(e){function t(){a()(this,t);var e=u()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.saveRef=function(t){S&&(e._component=t)},e.getComponent=function(t){var n=o()({},e.props);return["visible","onAnimateLeave"].forEach(function(e){n.hasOwnProperty(e)&&delete n[e]}),g.a.createElement(_,o()({},n,{visible:t,onAnimateLeave:e.removeContainer,ref:e.saveRef}))},e.removeContainer=function(){e.container&&(S||m.a.unmountComponentAtNode(e.container),e.container.parentNode.removeChild(e.container),e.container=null)},e.getContainer=function(){if(!e.container){var t=document.createElement("div"),n=e.props.prefixCls+"-container-"+(new Date).getTime();t.setAttribute("id",n),document.body.appendChild(t),e.container=t}return e.container},e}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.visible&&this.componentDidUpdate()}},{key:"shouldComponentUpdate",value:function(e){var t=e.visible;return!(!this.props.visible&&!t)}},{key:"componentWillUnmount",value:function(){this.props.visible?S?this.removeContainer():this.renderDialog(!1):this.removeContainer()}},{key:"componentDidUpdate",value:function(){S||this.renderDialog(this.props.visible)}},{key:"renderDialog",value:function(e){m.a.unstable_renderSubtreeIntoContainer(this,this.getComponent(e),this.getContainer())}},{key:"render",value:function(){if(!O)return null;var e=this.props.visible;return S&&(e||this._component)?m.a.createPortal(this.getComponent(e),this.getContainer()):null}}]),t}(g.a.Component);t.default=A;A.defaultProps={visible:!1,prefixCls:"rmc-dialog",onClose:function(){}}},function(e,t,n){var r=n(55),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(127)(!0);n(84)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(31),o=n(51),i=n(56)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||u||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var r=n(10),o=n(3);let i,a=null;const s=function(){window.JPush.getRegistrationID(c)},c=function(e){try{if(0===(a=e).length)window.setTimeout(s,1e3);else{logger.info("JPushPlugin:registrationID is "+e);const{token:t}=$getState().login;window.JPush.setTags("miXingFengApp"),window.JPush.setAlias(e),t?u():window.eventEmit.$once("hasLogin",u),"no"===localStorage.getItem("notification")&&(d(),$dispatch(Object(o.v)(!1)))}}catch(e){logger.error("onGetRegistrationID",e)}},l=function(){try{window.JPush.init(),window.JPush.setDebugMode(!0),window.setTimeout(s,1e3),"Android"!==window.device.platform&&window.JPush.setApplicationIconBadgeNumber(0)}catch(e){logger.error("initiateUI",e)}};function u(){const e=$getState().login.username,t=$getState().myInfo.setMobile;if(logger.info('localStorage.getItem("registrationID")',localStorage.getItem("registrationID")),a!==localStorage.getItem("registrationID")){const n={registrationID:a,username:e||t};logger.info("uploadRegistrationID",n),axios.post(r.a.uploadRegistrationID,n).then(()=>{localStorage.setItem("registrationID",a)}).catch(e=>{logger.error("uploadRegistrationID",e)})}}document.addEventListener("deviceready",function(){document.addEventListener("jpush.receiveRegistrationId",function(e){logger.info("receiveRegistrationId:"+JSON.stringify(e))},!1),l()},!1),document.addEventListener("jpush.openNotification",function(e){try{let t;t="Android"===window.device.platform?e.alert:e.aps.alert,logger.info("open Notification:"+t,"receivedMessage: "+i),"file"===i?goRoute(null,"/main/file"):"music"===i&&goRoute(null,"/main/music")}catch(e){logger.error("JPushPlugin:onOpenNotification"+e)}},!1),document.addEventListener("jpush.receiveNotification",function(e){try{let t;t="Android"===window.device.platform?e.alert:e.aps.alert,logger.info("onReceiveNotification alertContent",t)}catch(e){logger.error("onReceiveNotification",e)}},!1),document.addEventListener("jpush.receiveMessage",function(e){try{let t;t="Android"===window.device.platform?e.message:e.content,logger.info("onReceiveMessage",t),i=t}catch(e){logger.error("JPushPlugin:onReceiveMessage--\x3e"+e)}},!1);const d=()=>{logger.info("stopPush"),window.JPush.stopPush()},f=()=>{logger.info("resumePush"),window.JPush.resumePush()}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(3),o=n(17),i=n(7),a=n(1);document.addEventListener("deviceready",function(){cordova.plugins.backgroundMode.enable(),cordova.plugins.backgroundMode.on("activate",function(){cordova.plugins.backgroundMode.disableWebViewOptimizations()}),window.permissions=cordova.plugins.permissions,window.open=cordova.InAppBrowser.open,cordova.plugins.notification.local.on("click",c),window.HeadsetDetection&&window.HeadsetDetection.registerRemoteEvents(function(e){switch(logger.info("HeadsetDetection status",e),e){case"headsetAdded":logger.info("Headset was added");break;case"headsetRemoved":{logger.info("Headset was removed");const{soundPlaying:e,soundInstance:t,soundInstanceId:n}=$getState().fileServer;e&&(t.pause(n),$dispatch(Object(a.gb)(!1)));break}}}),cordova.getAppVersion.getVersionNumber().then(function(e){$dispatch(Object(r.j)(e))}),document.addEventListener("pause",()=>{$dispatch(Object(r.k)(Date.now())),$dispatch(Object(r.w)(getRoute())),logger.info("pause backToDesktop",(new Date).format("yyyy-MM-dd hh:mm:ss"));const e=$getState().fileServer.soundPlaying;logger.info("pause soundPlaying",e),s(!e),$dispatch(Object(r.i)(!1)),$dispatch(Object(r.u)(e));let t=0;"/main/music"===getRoute()?t=document.querySelector(".music-list-container").scrollTop:"/saved_songs"===getRoute()?t=document.querySelector(".saved-song-content").scrollTop:"/recent_music_played"===getRoute()&&(t=document.querySelector(".recent-play-content").scrollTop),window.musicContainerSelectorPosition=t}),document.addEventListener("resume",()=>{try{const{backToDesktopTime:e,alwaysShowAdsPage:t}=$getState().common;if(logger.info("resume backToApp",e,(new Date).format("yyyy-MM-dd hh:mm:ss")),setTimeout(()=>Object(i.J)("resume reconnect check"),200),window.permissions.checkPermission(window.permissions.ACCESS_FINE_LOCATION,function(e){e.hasPermission&&"no"===localStorage.getItem("usePosition")&&$dispatch(Object(r.d)(!0))}),logger.info("Date.now() - backToDesktopTime 1800000",Date.now()-e),e&&Date.now()-e>3e5&&t){const t=localStorage.getItem("adsName"),n=localStorage.getItem("isWiFiNetwork");if(!t&&!n){const e=parseInt(7*Math.random());$dispatch(Object(o.b)(e)),$dispatch(Object(r.b)(`./ads/ad${e}.png`))}$dispatch(Object(r.k)(0)),$dispatch(Object(r.c)(3)),logger.info("time(minutes)",parseInt((Date.now()-e)/6e4),"going to ads page"),$dispatch(Object(o.d)(!1)),$dispatch(Object(r.q)(!0)),$dispatch(Object(o.e)(!0)),logger.info("resume window['musicContainerSelectorPosition']",window.musicContainerSelectorPosition),window.musicContainerSelectorPosition&&setTimeout(()=>{try{"/main/music"===getRoute()?document.querySelector(".music-list-container").scrollTo(0,window.musicContainerSelectorPosition):"/saved_songs"===getRoute()?document.querySelector(".saved-song-content").scrollTo(0,window.musicContainerSelectorPosition):"/recent_music_played"===getRoute()?document.querySelector(".recent-play-content").scrollTo(0,window.musicContainerSelectorPosition):logger.warn("resume musicContainerSelectorPosition no router matched",getRoute())}catch(e){logger.error("resume musicContainerSelectorPosition error",e)}window.musicContainerSelectorPosition=0},2500),goRoute(null,"/")}else e&&(logger.info("resume backToDesktopTime",e),$dispatch(Object(r.k)(0)),$dispatch(Object(r.w)("")))}catch(e){logger.error("resume catch err",e)}})},!1);const s=e=>{logger.info("setSilentDefaults",e),cordova.plugins.backgroundMode.setDefaults({silent:e})},c=()=>{const{hasDownloadedPackage:e,appSize:t}=$getState().common;if(logger.info("installPackage hasDownloadedPackage",e),!e)return logger.info("downloading, can't install"),void cordova.plugins.notification.local.schedule({title:"正在更新",text:`安装包大小:${t}，请稍后`});logger.info("cordova.plugins.fileOpener2.open  installPackage"),cordova.plugins.fileOpener2.open("cdvfile://localhost/sdcard/Android/data/com.szhou.mixingfeng/miXingFeng.apk","application/vnd.android.package-archive",{error:function(e){logger.error("installPackage  Error status: "+e.status+" - Error message: "+e.message)},success:function(){logger.info("installPackage  file opened successfully")}})}},function(e,t,n){n(181),e.exports=n(95)},,,,,function(e,t,n){n(117);var r=n(27).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(33);r(r.S+r.F*!n(29),"Object",{defineProperty:n(30).f})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports={default:n(120),__esModule:!0}},function(e,t,n){n(121),e.exports=n(27).Object.assign},function(e,t,n){var r=n(33);r(r.S+r.F,"Object",{assign:n(122)})},function(e,t,n){"use strict";var r=n(29),o=n(45),i=n(59),a=n(48),s=n(51),c=n(83),l=Object.assign;e.exports=!l||n(40)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=s(e),l=arguments.length,u=1,d=i.f,f=a.f;l>u;)for(var p,g=c(arguments[u++]),h=d?o(g).concat(d(g)):o(g),m=h.length,y=0;m>y;)p=h[y++],r&&!f.call(g,p)||(n[p]=g[p]);return n}:l},function(e,t,n){var r=n(35),o=n(105),i=n(124);e.exports=function(e){return function(t,n,a){var s,c=r(t),l=o(c.length),u=i(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(55),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){e.exports={default:n(126),__esModule:!0}},function(e,t,n){n(106),n(131),e.exports=n(62).f("iterator")},function(e,t,n){var r=n(55),o=n(54);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(60),o=n(43),i=n(61),a={};n(36)(a,n(32)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(30),o=n(39),i=n(45);e.exports=n(29)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(28).document;e.exports=r&&r.documentElement},function(e,t,n){n(132);for(var r=n(28),o=n(36),i=n(52),a=n(32)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=r[l],d=u&&u.prototype;d&&!d[a]&&o(d,a,l),i[l]=i.Array}},function(e,t,n){"use strict";var r=n(133),o=n(134),i=n(52),a=n(35);e.exports=n(84)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(136),__esModule:!0}},function(e,t,n){n(137),n(142),n(143),n(144),e.exports=n(27).Symbol},function(e,t,n){"use strict";var r=n(28),o=n(31),i=n(29),a=n(33),s=n(85),c=n(138).KEY,l=n(40),u=n(57),d=n(61),f=n(47),p=n(32),g=n(62),h=n(63),m=n(139),y=n(140),v=n(39),w=n(37),b=n(51),_=n(35),S=n(53),O=n(43),A=n(60),P=n(141),j=n(77),T=n(59),k=n(30),x=n(45),E=j.f,M=k.f,I=P.f,L=r.Symbol,R=r.JSON,N=R&&R.stringify,C=p("_hidden"),D=p("toPrimitive"),$={}.propertyIsEnumerable,F=u("symbol-registry"),B=u("symbols"),U=u("op-symbols"),H=Object.prototype,z="function"==typeof L&&!!T.f,W=r.QObject,q=!W||!W.prototype||!W.prototype.findChild,V=i&&l(function(){return 7!=A(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=E(H,t);r&&delete H[t],M(e,t,n),r&&e!==H&&M(H,t,r)}:M,J=function(e){var t=B[e]=A(L.prototype);return t._k=e,t},G=z&&"symbol"==typeof L.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof L},Y=function(e,t,n){return e===H&&Y(U,t,n),v(e),t=S(t,!0),v(n),o(B,t)?(n.enumerable?(o(e,C)&&e[C][t]&&(e[C][t]=!1),n=A(n,{enumerable:O(0,!1)})):(o(e,C)||M(e,C,O(1,{})),e[C][t]=!0),V(e,t,n)):M(e,t,n)},Q=function(e,t){v(e);for(var n,r=m(t=_(t)),o=0,i=r.length;i>o;)Y(e,n=r[o++],t[n]);return e},K=function(e){var t=$.call(this,e=S(e,!0));return!(this===H&&o(B,e)&&!o(U,e))&&(!(t||!o(this,e)||!o(B,e)||o(this,C)&&this[C][e])||t)},X=function(e,t){if(e=_(e),t=S(t,!0),e!==H||!o(B,t)||o(U,t)){var n=E(e,t);return!n||!o(B,t)||o(e,C)&&e[C][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=I(_(e)),r=[],i=0;n.length>i;)o(B,t=n[i++])||t==C||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=I(n?U:_(e)),i=[],a=0;r.length>a;)!o(B,t=r[a++])||n&&!o(H,t)||i.push(B[t]);return i};z||(s((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(U,n),o(this,C)&&o(this[C],e)&&(this[C][e]=!1),V(this,e,O(1,n))};return i&&q&&V(H,e,{configurable:!0,set:t}),J(e)}).prototype,"toString",function(){return this._k}),j.f=X,k.f=Y,n(86).f=P.f=Z,n(48).f=K,T.f=ee,i&&!n(46)&&s(H,"propertyIsEnumerable",K,!0),g.f=function(e){return J(p(e))}),a(a.G+a.W+a.F*!z,{Symbol:L});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=x(p.store),oe=0;re.length>oe;)h(re[oe++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=L(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!z,"Object",{create:function(e,t){return void 0===t?A(e):Q(A(e),t)},defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ie=l(function(){T.f(1)});a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return T.f(b(e))}}),R&&a(a.S+a.F*(!z||l(function(){var e=L();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(w(t)||void 0!==e)&&!G(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,N.apply(R,r)}}),L.prototype[D]||n(36)(L.prototype,D,L.prototype.valueOf),d(L,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(47)("meta"),o=n(37),i=n(31),a=n(30).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(40)(function(){return c(Object.preventExtensions({}))}),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!i(e,r)&&u(e),e}}},function(e,t,n){var r=n(45),o=n(59),i=n(48);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),c=i.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(76);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(35),o=n(86).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t){},function(e,t,n){n(63)("asyncIterator")},function(e,t,n){n(63)("observable")},function(e,t,n){e.exports={default:n(146),__esModule:!0}},function(e,t,n){n(147),e.exports=n(27).Object.setPrototypeOf},function(e,t,n){var r=n(33);r(r.S,"Object",{setPrototypeOf:n(148).set})},function(e,t,n){var r=n(37),o=n(39),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(75)(Function.call,n(77).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){e.exports={default:n(150),__esModule:!0}},function(e,t,n){n(151);var r=n(27).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(33);r(r.S,"Object",{create:n(60)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={check:'<svg viewBox="0 0 44 44"><path fill-rule="evenodd" d="M34.538 8L38 11.518 17.808 32 8 22.033l3.462-3.518 6.346 6.45z"/></svg>',"check-circle":'<svg viewBox="0 0 48 48"><path d="M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zM13.1 23.2l-2.2 2.1 10 9.9L38.1 15l-2.2-2-15.2 17.8-7.6-7.6z" fill-rule="evenodd"/></svg>',"check-circle-o":'<svg viewBox="0 0 48 48"><g fill-rule="evenodd"><path d="M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zm0-3c11.598 0 21-9.402 21-21S35.598 3 24 3 3 12.402 3 24s9.402 21 21 21z"/><path d="M12.2 23.2L10 25.3l10 9.9L37.2 15 35 13 19.8 30.8z"/></g></svg>',cross:'<svg viewBox="0 0 44 44"><path fill-rule="evenodd" d="M24.008 21.852l8.97-8.968L31.092 11l-8.97 8.968L13.157 11l-1.884 1.884 8.968 8.968-9.24 9.24 1.884 1.885 9.24-9.24 9.24 9.24 1.885-1.884-9.24-9.24z"/></svg>',"cross-circle":'<svg viewBox="0 0 48 48"><g fill-rule="evenodd"><path d="M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zm0-3c11.598 0 21-9.402 21-21S35.598 3 24 3 3 12.402 3 24s9.402 21 21 21z"/><path d="M24.34 22.22l-7.775-7.775a1.5 1.5 0 1 0-2.12 2.12l7.773 7.775-7.774 7.775a1.5 1.5 0 1 0 2.12 2.12l7.775-7.773 7.774 7.774a1.5 1.5 0 1 0 2.12-2.12L26.46 24.34l7.774-7.774a1.5 1.5 0 1 0-2.12-2.12l-7.776 7.773z"/></g></svg>',"cross-circle-o":'<svg viewBox="0 0 48 48"><path d="M24 48c13.255 0 24-10.745 24-24S37.255 0 24 0 0 10.745 0 24s10.745 24 24 24zm.353-25.77l-7.593-7.593c-.797-.8-1.538-.822-2.263-.207-.724.614-.56 1.617-.124 2.067l7.852 7.847-7.72 7.723c-.727.728-.56 1.646-.066 2.177.493.532 1.553.683 2.31-.174l7.588-7.584 7.644 7.623c.796.798 1.608.724 2.21.145.605-.58.72-1.442-.074-2.24l-7.657-7.67 7.545-7.52c.81-.697.9-1.76.297-2.34-.92-.885-1.85-.338-2.264.078l-7.685 7.667z" fill-rule="evenodd"/></svg>',left:'<svg viewBox="0 0 44 44"><defs><path id="a" d="M-129-845h24v24h-24z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><g clip-path="url(#b)"><defs><path id="c" d="M-903-949H947V996H-903z"/></defs></g><path d="M16.247 21.4L28.48 9.165l2.12 2.12-10.117 10.12L30.6 31.524l-2.12 2.12-12.233-12.232.007-.006z"/></svg>',right:'<svg viewBox="0 0 44 44"><defs><path id="a" d="M-129-845h24v24h-24z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><g clip-path="url(#b)"><defs><path id="c" d="M-903-949H947V996H-903z"/></defs></g><path d="M30.6 21.4L18.37 9.165l-2.12 2.12 10.117 10.12-10.118 10.118 2.12 2.12 12.234-12.232-.005-.006z"/></svg>',down:'<svg viewBox="0 0 44 44"><path d="M22.355 28.237l-11.483-10.9c-.607-.576-1.714-.396-2.48.41l.674-.71c-.763.802-.73 2.07-.282 2.496l11.37 10.793-.04.04 2.088 2.195L23.3 31.52l12.308-11.682c.447-.425.48-1.694-.282-2.496l.674.71c-.766-.806-1.873-.986-2.48-.41L22.355 28.237z" fill-rule="evenodd"/></svg>',up:'<svg viewBox="0 0 44 44"><path fill="none" d="M-1-1h46v46H-1z"/><defs><path id="a" d="M-129-845h24v24h-24z"/></defs><clipPath id="b"><use xlink:href="#a"/></clipPath><g clip-path="url(#b)"><defs><path id="c" d="M-903-949H947V996H-903z"/></defs></g><path d="M23.417 14.23L11.184 26.46l2.12 2.12 10.12-10.117 10.118 10.118 2.12-2.12L23.43 14.228l-.006.005z"/></svg>',loading:'<svg viewBox="0 -2 59.75 60.25"><path fill="#ccc" d="M29.69-.527C14.044-.527 1.36 12.158 1.36 27.806S14.043 56.14 29.69 56.14c15.65 0 28.334-12.686 28.334-28.334S45.34-.527 29.69-.527zm.185 53.75c-14.037 0-25.417-11.38-25.417-25.417S15.838 2.39 29.875 2.39s25.417 11.38 25.417 25.417-11.38 25.416-25.417 25.416z"/><path fill="none" stroke="#108ee9" stroke-width="3" stroke-linecap="round" stroke-miterlimit="10" d="M56.587 29.766c.37-7.438-1.658-14.7-6.393-19.552"/></svg>',search:'<svg viewBox="0 0 44 44"><path d="M32.98 29.255l8.915 8.293L39.603 40l-8.86-8.242a15.952 15.952 0 0 1-10.753 4.147C11.16 35.905 4 28.763 4 19.952 4 11.142 11.16 4 19.99 4s15.99 7.142 15.99 15.952c0 3.472-1.112 6.685-3 9.303zm.05-9.21c0 7.123-5.7 12.918-12.88 12.918-7.176 0-13.015-5.795-13.015-12.918 0-7.12 5.84-12.917 13.017-12.917 7.178 0 12.88 5.797 12.88 12.917z" fill-rule="evenodd"/></svg>',ellipsis:'<svg viewBox="0 0 44 44"><circle cx="21.888" cy="22" r="4.045"/><circle cx="5.913" cy="22" r="4.045"/><circle cx="37.863" cy="22" r="4.045"/></svg>',"ellipsis-circle":'<svg viewBox="0 0 44 44"><g fill-rule="evenodd"><path d="M22.13.11C10.05.11.255 9.902.255 21.983S10.05 43.86 22.13 43.86s21.875-9.795 21.875-21.876S34.21.11 22.13.11zm0 40.7c-10.396 0-18.825-8.43-18.825-18.826S11.735 3.16 22.13 3.16c10.396 0 18.825 8.428 18.825 18.824S32.525 40.81 22.13 40.81z"/><circle cx="21.888" cy="22.701" r="2.445"/><circle cx="12.23" cy="22.701" r="2.445"/><circle cx="31.546" cy="22.701" r="2.445"/></g></svg>',"exclamation-circle":'<svg viewBox="0 0 64 64"><path d="M59.58 40.89L41.193 9.11C39.135 5.382 35.723 3 31.387 3c-3.11 0-6.52 2.382-8.58 6.11L4.42 40.89c-2.788 4.635-3.126 8.81-1.225 12.22C5.015 56.208 7.572 58 13 58h36.773c5.428 0 9.21-1.792 11.03-4.89 1.9-3.41 1.565-7.583-1.224-12.22zm-2.452 11c-.635 1.694-3.802 2.443-7.354 2.443H13c-3.59 0-5.493-.75-6.13-2.444-1.71-2.41-1.374-5.263 0-8.557l18.387-31.777c2.116-3.168 4.394-4.89 6.13-4.89 2.96 0 5.238 1.722 7.354 4.89l18.387 31.777c1.374 3.294 1.713 6.146 0 8.556zm-25.74-33c-.405 0-1.227.835-1.227 2.443v15.89c0 1.608.823 2.444 1.227 2.444 1.628 0 2.452-.836 2.452-2.445v-15.89c0-1.607-.825-2.443-2.453-2.443zm0 23.22c-.405 0-1.227.79-1.227 1.223v2.445c0 .434.823 1.222 1.227 1.222 1.628 0 2.452-.788 2.452-1.222v-2.445c0-.434-.825-1.222-2.453-1.222z" fill-rule="evenodd"/></svg>',"info-circle":'<svg viewBox="0 0 44 44"><circle cx="13.828" cy="19.63" r="1.938"/><circle cx="21.767" cy="19.63" r="1.938"/><circle cx="29.767" cy="19.63" r="1.938"/><path d="M22.102 4.16c-9.918 0-17.958 7.147-17.958 15.962 0 4.935 2.522 9.345 6.48 12.273v5.667l.04.012a2.627 2.627 0 1 0 4.5 1.455h.002l5.026-3.54c.628.06 1.265.094 1.91.094 9.92 0 17.96-7.146 17.96-15.96C40.06 11.306 32.02 4.16 22.1 4.16zm-.04 29.902c-.902 0-1.78-.08-2.642-.207l-5.882 4.234c-.024.024-.055.04-.083.06l-.008.005a.51.51 0 0 1-.284.095.525.525 0 0 1-.525-.525l.005-6.375c-3.91-2.516-6.456-6.544-6.456-11.1 0-7.628 7.107-13.812 15.875-13.812s15.875 6.184 15.875 13.812-7.107 13.812-15.875 13.812z"/></svg>',"question-circle":'<svg viewBox="0 0 44 44"><g fill-rule="evenodd"><path d="M21.186 3c-10.853 0-19.36 8.506-19.36 19.358C1.827 32.494 10.334 41 21.187 41c10.133 0 18.64-8.506 18.64-18.642C39.827 11.506 31.32 3 21.187 3m15.64 19c0 8.823-7.178 16-16 16s-16-7.177-16-16 7.178-16 16-16 16 7.177 16 16z"/><path d="M22.827 31.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m4-15.48c0 .957-.203 1.822-.61 2.593-.427.792-1.117 1.612-2.073 2.457-.867.734-1.453 1.435-1.754 2.096-.302.7-.453 1.693-.453 2.98a.828.828 0 0 1-.823.854.828.828 0 0 1-.584-.22.877.877 0 0 1-.24-.635c0-1.305.168-2.38.506-3.227.336-.883.93-1.682 1.78-2.4 1.01-.883 1.71-1.692 2.1-2.428.336-.645.503-1.38.503-2.21-.02-.935-.3-1.7-.85-2.288-.655-.717-1.62-1.075-2.897-1.075-1.506 0-2.596.535-3.27 1.6-.46.754-.688 1.645-.688 2.677a.92.92 0 0 1-.266.66.747.747 0 0 1-.56.25.73.73 0 0 1-.584-.194c-.16-.164-.24-.393-.24-.69 0-1.82.585-3.272 1.755-4.357C18.645 11.486 19.928 11 21.434 11h.293c1.452 0 2.638.414 3.56 1.24 1.028.903 1.54 2.163 1.54 3.78z"/></g></svg>',voice:'<svg viewBox="0 0 38 33"><g fill-rule="evenodd"><path d="M17.838 28.8c-.564-.468-1.192-.983-1.836-1.496-4.244-3.385-5.294-3.67-6.006-3.67-.014 0-.027.005-.04.005-.015 0-.028-.006-.042-.006H3.562c-.734 0-.903-.203-.903-.928v-12.62c0-.49.057-.8.66-.8H9.1c.694 0 1.76-.28 6.4-3.63.83-.596 1.638-1.196 2.337-1.722V28.8zM19.682.19c-.463-.22-1.014-.158-1.417.157-.02.016-1.983 1.552-4.152 3.125C10.34 6.21 9.243 6.664 9.02 6.737H3.676c-.027 0-.053.003-.08.004H1.183c-.608 0-1.1.487-1.1 1.086V25.14c0 .598.492 1.084 1.1 1.084h8.71c.22.08 1.257.55 4.605 3.24 1.947 1.562 3.694 3.088 3.712 3.103.25.22.568.333.89.333.186 0 .373-.038.55-.116.48-.213.79-.684.79-1.204V1.38c0-.506-.294-.968-.758-1.19z" mask="url(#mask-2)"/><path d="M31.42 16.475c0-3.363-1.854-6.297-4.606-7.876-.125-.067-.42-.193-.625-.193-.613 0-1.11.488-1.11 1.09 0 .404.22.764.55.952 2.13 1.19 3.566 3.44 3.566 6.024 0 2.627-1.486 4.913-3.677 6.087-.32.19-.53.54-.53.935 0 .602.495 1.09 1.106 1.09.26.002.568-.15.568-.15 2.835-1.556 4.754-4.538 4.754-7.96" mask="url(#mask-4)"/><path d="M30.14 3.057c-.205-.122-.41-.22-.658-.22-.608 0-1.1.485-1.1 1.084 0 .434.26.78.627.978 4.042 2.323 6.76 6.636 6.76 11.578 0 4.938-2.715 9.248-6.754 11.572-.354.19-.66.55-.66.993 0 .6.494 1.085 1.102 1.085.243 0 .438-.092.65-.213 4.692-2.695 7.848-7.7 7.848-13.435 0-5.723-3.142-10.718-7.817-13.418" mask="url(#mask-6)"/></g></svg>',plus:'<svg viewBox="0 0 30 30"><path d="M14 14H0v2h14v14h2V16h14v-2H16V0h-2v14z" fill-rule="evenodd"/></svg>',minus:'<svg viewBox="0 0 30 2"><path d="M0 0h30v2H0z" fill-rule="evenodd"/></svg>',dislike:'<svg viewBox="0 0 72 72"><g fill="none" fill-rule="evenodd"><path d="M36 72c19.882 0 36-16.118 36-36S55.882 0 36 0 0 16.118 0 36s16.118 36 36 36zm0-2c18.778 0 34-15.222 34-34S54.778 2 36 2 2 17.222 2 36s15.222 34 34 34z" fill="#FFF"/><path fill="#FFF" d="M47 22h2v6h-2zm-24 0h2v6h-2z"/><path d="M21 51s4.6-7 15-7 15 7 15 7" stroke="#FFF" stroke-width="2"/></g></svg>',fail:'<svg viewBox="0 0 72 72"><g fill="none" fill-rule="evenodd"><path d="M36 72c19.882 0 36-16.118 36-36S55.882 0 36 0 0 16.118 0 36s16.118 36 36 36zm0-2c18.778 0 34-15.222 34-34S54.778 2 36 2 2 17.222 2 36s15.222 34 34 34z" fill="#FFF"/><path d="M22 22l28.304 28.304m-28.304 0L50.304 22" stroke="#FFF" stroke-width="2"/></g></svg>',success:'<svg viewBox="0 0 72 72"><g fill="none" fill-rule="evenodd"><path d="M36 72c19.882 0 36-16.118 36-36S55.882 0 36 0 0 16.118 0 36s16.118 36 36 36zm0-2c18.778 0 34-15.222 34-34S54.778 2 36 2 2 17.222 2 36s15.222 34 34 34z" fill="#FFF"/><path stroke="#FFF" stroke-width="2" d="M19 34.54l11.545 11.923L52.815 24"/></g></svg>'};t.default=function(){if(document){var e=document.getElementById("__ANTD_MOBILE_SVG_SPRITE_NODE__"),t=document.body;e||t.insertAdjacentHTML("afterbegin",function(e){return'\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlns:xlink="http://www.w3.org/1999/xlink"\n    id="__ANTD_MOBILE_SVG_SPRITE_NODE__"\n    style="display:none;overflow:hidden;width:0;height:0"\n  >\n    <defs>\n      '+e+"\n    </defs>\n  </svg>\n"}(Object.keys(r).map(function(e){return"<symbol id="+e+r[e].split("svg")[1]+"symbol>"}).join("")))}},e.exports=t.default},function(e,t,n){"use strict";var r=n(20),o=n(89),i=n(155),a=n(64);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=s(a);c.Axios=i,c.create=function(e){return s(r.merge(a,e))},c.Cancel=n(93),c.CancelToken=n(168),c.isCancel=n(92),c.all=function(e){return Promise.all(e)},c.spread=n(169),e.exports=c,e.exports.default=c},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(64),o=n(20),i=n(163),a=n(164);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=s},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(91);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(20);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(20),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(20);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(20);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(20);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(20),o=n(165),i=n(92),a=n(64),s=n(166),c=n(167);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return l(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(93);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){(function(t,n){
/*!
 * @license deepcopy.js Copyright(c) 2013 sasa+1
 * https://github.com/sasaplus1/deepcopy.js
 * Released under the MIT license.
 *
 * type-detect
 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";var e="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};var r=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(t,n){t.exports=function(){var t="function"==typeof Promise,n="object"==typeof self?self:e,r="undefined"!=typeof Symbol,o="undefined"!=typeof Map,i="undefined"!=typeof Set,a="undefined"!=typeof WeakMap,s="undefined"!=typeof WeakSet,c="undefined"!=typeof DataView,l=r&&void 0!==Symbol.iterator,u=r&&void 0!==Symbol.toStringTag,d=i&&"function"==typeof Set.prototype.entries,f=o&&"function"==typeof Map.prototype.entries,p=d&&Object.getPrototypeOf((new Set).entries()),g=f&&Object.getPrototypeOf((new Map).entries()),h=l&&"function"==typeof Array.prototype[Symbol.iterator],m=h&&Object.getPrototypeOf([][Symbol.iterator]()),y=l&&"function"==typeof String.prototype[Symbol.iterator],v=y&&Object.getPrototypeOf(""[Symbol.iterator]()),w=8,b=-1;return function(e){var r=typeof e;if("object"!==r)return r;if(null===e)return"null";if(e===n)return"global";if(Array.isArray(e)&&(!1===u||!(Symbol.toStringTag in e)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&e===window.location)return"Location";if("object"==typeof window.document&&e===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&e===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&e===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&e instanceof window.HTMLElement){if("BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if("TD"===e.tagName)return"HTMLTableDataCellElement";if("TH"===e.tagName)return"HTMLTableHeaderCellElement"}}var l=u&&e[Symbol.toStringTag];if("string"==typeof l)return l;var d=Object.getPrototypeOf(e);return d===RegExp.prototype?"RegExp":d===Date.prototype?"Date":t&&d===Promise.prototype?"Promise":i&&d===Set.prototype?"Set":o&&d===Map.prototype?"Map":s&&d===WeakSet.prototype?"WeakSet":a&&d===WeakMap.prototype?"WeakMap":c&&d===DataView.prototype?"DataView":o&&d===g?"Map Iterator":i&&d===p?"Set Iterator":h&&d===m?"Array Iterator":y&&d===v?"String Iterator":null===d?"Object":Object.prototype.toString.call(e).slice(w,b)}}()});const o=void 0!==n,i=o&&void 0!==n.from,a=o?function(e){return n.isBuffer(e)}:function(){return!1},s=i?function(e){return n.from(e)}:o?function(e){return new n(e)}:function(e){return e};function c(e){return a(e)?"Buffer":r(e)}const l=new Set(["Arguments","Array","Map","Object","Set"]);function u(e,t,n=null){switch(n||c(e)){case"Arguments":case"Array":case"Object":return e[t];case"Map":return e.get(t);case"Set":return t}}function d(e){return l.has(e)}function f(e,t,n,r=null){switch(r||c(e)){case"Arguments":case"Array":case"Object":e[t]=n;break;case"Map":e.set(t,n);break;case"Set":e.add(n)}return e}const p="undefined"!=typeof globalThis&&null!==globalThis&&globalThis.Object===Object&&globalThis,g=void 0!==t&&null!==t&&t.Object===Object&&t,h="undefined"!=typeof self&&null!==self&&self.Object===Object&&self,m=p||g||h||Function("return this")();function y(e,t){return m[t].from(e)}function v(e){return e}function w(){return[]}var b=new Map([["ArrayBuffer",function(e){return e.slice(0)}],["Boolean",function(e){return new Boolean(e.valueOf())}],["Buffer",function(e){return s(e)}],["DataView",function(e){return new DataView(e.buffer)}],["Date",function(e){return new Date(e.getTime())}],["Number",function(e){return new Number(e)}],["RegExp",function(e){return new RegExp(e.source||"(?:)",e.flags)}],["String",function(e){return new String(e)}],["Float32Array",y],["Float64Array",y],["Int16Array",y],["Int32Array",y],["Int8Array",y],["Uint16Array",y],["Uint32Array",y],["Uint8Array",y],["Uint8ClampedArray",y],["Array Iterator",v],["Map Iterator",v],["Promise",v],["Set Iterator",v],["String Iterator",v],["function",v],["global",v],["WeakMap",v],["WeakSet",v],["boolean",v],["null",v],["number",v],["string",v],["symbol",v],["undefined",v],["Arguments",w],["Array",w],["Map",function(){return new Map}],["Object",function(){return{}}],["Set",function(){return new Set}]]);function _(e,t=null,n=function(){}){2===arguments.length&&"function"==typeof t&&(n=t,t=null);const r=t||c(e),o=b.get(r);if("Object"===r){const t=n(e,r);if(void 0!==t)return t}return o?o(e,r):e}function S(e,t,n,r,o){const i=c(e),a=_(e,i);if(!d(i))return a;let s;switch(i){case"Arguments":case"Array":s=Object.keys(e);break;case"Object":(s=Object.keys(e)).push(...Object.getOwnPropertySymbols(e));break;case"Map":case"Set":s=e.keys()}for(let a of s){const s=u(e,a,i);if(r.has(s))f(t,a,n.get(s),i);else{const e=c(s),l=_(s,e);d(e)&&(n.set(s,l),r.add(s)),f(t,a,S(s,l,n,r,o),i)}}return t}return function(e,t={}){"function"==typeof t&&(t={customizer:t});const{customizer:n}=t,r=c(e);if(!d(r))return S(e,null,null,null,n);const o=_(e,r,n);return S(e,o,new WeakMap([[e,o]]),new WeakSet([e]),n)}})}).call(this,n(44),n(171).Buffer)},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(172),o=n(173),i=n(174);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var d=!0,f=0;f<c;f++)if(l(e,i+f)!==l(t,f)){d=!1;break}if(d)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return H(B(t,e.length-n),e,n,r)}function b(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return b(e,t,n,r)}function S(e,t,n,r){return H(U(t),e,n,r)}function O(e,t,n,r){return H(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,l=e[o],u=null,d=l>239?4:l>223?3:l>191?2:1;if(o+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&l)<<6|63&i)>127&&(u=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(c=(15&l)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=j));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var i=o-r,a=n-t,s=Math.min(i,a),l=this.slice(r,o),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){i=l[d],a=u[d];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function E(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function C(e,t,n,r,i){return i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,i){return i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return C(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return C(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=c.isBuffer(e)?e:B(new c(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var $=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(44))},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),a=r[0],s=r[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(d(e,a,a+16383>s?s:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(u(r));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=l}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,l=8*i-o-1,u=(1<<l)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,g=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=g,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+p]=255&a,p+=g,a/=256,l-=8);e[n+p-g]|=128*h}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";n(68),n(176)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[{text:"确定"}],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ios",c=!1;if(!e&&!t)return{close:function(){}};var l=document.createElement("div");function u(){o.unmountComponentAtNode(l),l&&l.parentNode&&l.parentNode.removeChild(l)}document.body.appendChild(l);var d=n.map(function(e){var t=e.onPress||function(){};return e.onPress=function(){if(!c){var e=t();e&&e.then?e.then(function(){c=!0,u()}).catch(function(){}):(c=!0,u())}},e}),f="am-modal";return o.render(r.createElement(a.default,{visible:!0,transparent:!0,title:e,transitionName:"am-zoom",closable:!1,maskClosable:!1,footer:d,maskTransitionName:"am-fade",platform:s,wrapProps:{onTouchStart:function(e){/iPhone|iPod|iPad/i.test(navigator.userAgent)&&((0,i.default)(e.target,"."+f+"-footer")||e.preventDefault())}}},r.createElement("div",{className:f+"-alert-content"},t)),l),{close:u}};var r=c(n(0)),o=c(n(18)),i=s(n(65)),a=s(n(50));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{text:"确定"}],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ios",n=!1,s=document.createElement("div");function c(){o.unmountComponentAtNode(s),s&&s.parentNode&&s.parentNode.removeChild(s)}document.body.appendChild(s);var l=e.map(function(e){var t=e.onPress||function(){};return e.onPress=function(){if(!n){var e=t();e&&e.then?e.then(function(){n=!0,c()}).catch(function(){}):(n=!0,c())}},e});return o.render(r.createElement(a.default,{visible:!0,operation:!0,transparent:!0,prefixCls:"am-modal",transitionName:"am-zoom",closable:!1,maskClosable:!0,onClose:c,footer:l,maskTransitionName:"am-fade",className:"am-modal-operation",platform:t,wrapProps:{onTouchStart:function(e){/iPhone|iPod|iPad/i.test(navigator.userAgent)&&((0,i.default)(e.target,".am-modal-footer")||e.preventDefault())}}}),s),{close:c}};var r=c(n(0)),o=c(n(18)),i=s(n(65)),a=s(n(50));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["",""],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"ios",d=!1;if(c="string"==typeof c?c:"number"==typeof c?""+c:"",!n)return{close:function(){}};var f="am-modal",p={text:c};function g(e){var t=e.target,n=t.getAttribute("type");null!==n&&(p[n]=t.value)}function h(e){var t=e.currentTarget||e.target;t&&t.focus()}function m(){/MicroMessenger/.test(navigator.userAgent)&&(document.body.scrollTop=document.body.scrollTop)}var y=void 0,v=function(e){setTimeout(function(){e&&e.focus()},500)};switch(s){case"login-password":y=r.createElement("div",{className:f+"-input-container"},r.createElement("div",{className:f+"-input"},r.createElement("label",null,r.createElement("input",{type:"text",defaultValue:p.text,ref:function(e){return v(e)},onClick:h,onChange:g,placeholder:l[0],onBlur:m}))),r.createElement("div",{className:f+"-input"},r.createElement("label",null,r.createElement("input",{type:"password",defaultValue:p.password,onClick:h,onChange:g,placeholder:l[1],onBlur:m}))));break;case"secure-text":y=r.createElement("div",{className:f+"-input-container"},r.createElement("div",{className:f+"-input"},r.createElement("label",null,r.createElement("input",{type:"password",defaultValue:p.password,ref:function(e){return v(e)},onClick:h,onChange:g,placeholder:l[0],onBlur:m}))));break;case"default":default:y=r.createElement("div",{className:f+"-input-container"},r.createElement("div",{className:f+"-input"},r.createElement("label",null,r.createElement("input",{type:"text",defaultValue:p.text,ref:function(e){return v(e)},onClick:h,onChange:g,placeholder:l[0],onBlur:m}))))}var w=r.createElement("div",null,t,y),b=document.createElement("div");function _(){o.unmountComponentAtNode(b),b&&b.parentNode&&b.parentNode.removeChild(b)}function S(e){if("function"==typeof e){var t=p.text,n=void 0===t?"":t,r=p.password,o=void 0===r?"":r,i="login-password"===s?[n,o]:"secure-text"===s?[o]:[n];return e.apply(void 0,i)}}document.body.appendChild(b);var O=void 0;O="function"==typeof n?[{text:"取消",onPress:function(){}},{text:"确定",onPress:function(){S(n)}}]:n.map(function(e){return{text:e.text,onPress:function(){return S(e.onPress)}}});var A=O.map(function(e){var t=e.onPress||function(){};return e.onPress=function(){if(!d){var e=t();e&&e.then?e.then(function(){d=!0,_()}).catch(function(){}):(d=!0,_())}},e});return o.render(r.createElement(a.default,{visible:!0,transparent:!0,prefixCls:f,title:e,closable:!1,maskClosable:!1,transitionName:"am-zoom",footer:A,maskTransitionName:"am-fade",platform:u,wrapProps:{onTouchStart:function(e){/iPhone|iPod|iPad/i.test(navigator.userAgent)&&((0,i.default)(e.target,"."+f+"-content")||e.preventDefault())}}},r.createElement("div",{className:f+"-propmt-content"},w)),b),{close:_}};var r=c(n(0)),o=c(n(18)),i=s(n(65)),a=s(n(50));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}e.exports=t.default},function(e,t,n){"use strict";n.r(t);var r=n(81),o=n.n(r),i=n(21),a=n.n(i),s=n(12),c=n.n(s),l=n(14),u=n.n(l),d=n(15),f=n.n(d),p=n(13),g=n.n(p),h=n(16),m=n.n(h),y=n(0),v=n.n(y),w=n(8),b=n.n(w),_=n(18),S=n.n(_),O=n(42);var A=n(24),P=n.n(A),j=function(e){function t(){var e,n,r,o;u()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=g()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.close=function(){r.clearCloseTimer(),r.props.onClose()},r.startCloseTimer=function(){r.props.duration&&(r.closeTimer=setTimeout(function(){r.close()},1e3*r.props.duration))},r.clearCloseTimer=function(){r.closeTimer&&(clearTimeout(r.closeTimer),r.closeTimer=null)},o=n,g()(r,o)}return m()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls+"-notice",r=(e={},a()(e,""+n,1),a()(e,n+"-closable",t.closable),a()(e,t.className,!!t.className),e);return v.a.createElement("div",{className:P()(r),style:t.style},v.a.createElement("div",{className:n+"-content"},t.children),t.closable?v.a.createElement("a",{tabIndex:"0",onClick:this.close,className:n+"-close"},v.a.createElement("span",{className:n+"-close-x"})):null)}}]),t}(y.Component);j.propTypes={duration:b.a.number,onClose:b.a.func,children:b.a.any},j.defaultProps={onEnd:function(){},onClose:function(){},duration:1.5,style:{right:"50%"}};var T=j,k=0,x=Date.now();var E=function(e){function t(){var e,n,r,o;u()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=g()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={notices:[]},r.add=function(e){var t=e.key=e.key||"rcNotification_"+x+"_"+k++;r.setState(function(n){var r=n.notices;if(!r.filter(function(e){return e.key===t}).length)return{notices:r.concat(e)}})},r.remove=function(e){r.setState(function(t){return{notices:t.notices.filter(function(t){return t.key!==e})}})},o=n,g()(r,o)}return m()(t,e),f()(t,[{key:"getTransitionName",value:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t}},{key:"render",value:function(){var e,t=this,n=this.props,r=this.state.notices.map(function(e){var r=function(){var e=[].slice.call(arguments,0);return 1===e.length?e[0]:function(){for(var t=0;t<e.length;t++)e[t]&&e[t].apply&&e[t].apply(this,arguments)}}(t.remove.bind(t,e.key),e.onClose);return v.a.createElement(T,c()({prefixCls:n.prefixCls},e,{onClose:r}),e.content)}),o=(e={},a()(e,n.prefixCls,1),a()(e,n.className,!!n.className),e);return v.a.createElement("div",{className:P()(o),style:n.style},v.a.createElement(O.a,{transitionName:this.getTransitionName()},r))}}]),t}(y.Component);E.propTypes={prefixCls:b.a.string,transitionName:b.a.string,animation:b.a.oneOfType([b.a.string,b.a.object]),style:b.a.object},E.defaultProps={prefixCls:"rmc-notification",animation:"fade",style:{top:65,left:"50%"}},E.newInstance=function(e,t){var n=e||{},r=n.getContainer,i=o()(n,["getContainer"]),a=void 0;r?a=r():(a=document.createElement("div"),document.body.appendChild(a));var s=!1;S.a.render(v.a.createElement(E,c()({},i,{ref:function(e){s||(s=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){S.a.unmountComponentAtNode(a),r||document.body.removeChild(a)}}))}})),a)};var M=E;t.default=M},function(e,t,n){"use strict";n.r(t);n(72);var r=n(19),o=n.n(r),i=n(0),a=n.n(i),s=n(18),c=n.n(s),l=n(97),u=n.n(l),d=n(26),f=n.n(d),p=n(98),g=n(38),h=n(99),m=n(69),y=n(41),v=n.n(y),w=n(17),b=n(11),_=n(3),S=n(1),O=n(9),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const P={sign:{sign:w.a},login:{login:b.a},common:{common:_.a},fileServer:{fileServer:S.a},myInfo:{myInfo:O.a}};var j=Object(g.combineReducers)(A({},Object.keys(P).reduce((e,t)=>Object.assign({},e,{[t]:(e,n)=>e?(Object.keys(P[t]).map(r=>e=Object.assign({},e,P[t][r](e,n))),e):Object.keys(P[t]).map(r=>P[t][r](e,n)).reduce((e,t)=>Object.assign({},e,t),{})}),{}))),T=n(2),k=n(5),x=n(7),E=n(6);const M=Object(k.a)({loader:()=>n.e(53).then(n.bind(null,464))}),I=Object(k.a)({loader:()=>n.e(28).then(n.bind(null,465))}),L=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(17)]).then(n.bind(null,466))}),R=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(6),n.e(12)]).then(n.bind(null,467))}),N=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(3),n.e(31)]).then(n.bind(null,468))}),C=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(3),n.e(30)]).then(n.bind(null,469))}),D=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(3),n.e(32)]).then(n.bind(null,470))}),$=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(5),n.e(10),n.e(50)]).then(n.bind(null,508))}),F=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(13)]).then(n.bind(null,471))}),B=Object(k.a)({loader:()=>n.e(35).then(n.bind(null,472))}),U=Object(k.a)({loader:()=>n.e(37).then(n.bind(null,473))}),H=Object(k.a)({loader:()=>n.e(38).then(n.bind(null,474))}),z=Object(k.a)({loader:()=>n.e(36).then(n.bind(null,475))}),W=Object(k.a)({loader:()=>n.e(44).then(n.bind(null,476))}),q=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(24)]).then(n.bind(null,477))}),V=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(11),n.e(55)]).then(n.bind(null,478))}),J=Object(k.a)({loader:()=>n.e(54).then(n.bind(null,479))}),G=Object(k.a)({loader:()=>n.e(46).then(n.bind(null,480))}),Y=Object(k.a)({loader:()=>n.e(41).then(n.bind(null,481))}),Q=Object(k.a)({loader:()=>n.e(27).then(n.bind(null,482))}),K=Object(k.a)({loader:()=>n.e(49).then(n.bind(null,483))}),X=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(18)]).then(n.bind(null,484))}),Z=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(25)]).then(n.bind(null,485))}),ee=Object(k.a)({loader:()=>n.e(45).then(n.bind(null,486))}),te=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(6),n.e(34)]).then(n.bind(null,487))}),ne=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(1),n.e(16)]).then(n.bind(null,488))}),re=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(2),n.e(19)]).then(n.bind(null,489))}),oe=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,490))}),ie=Object(k.a)({loader:()=>n.e(40).then(n.bind(null,491))}),ae=Object(k.a)({loader:()=>n.e(39).then(n.bind(null,492))}),se=Object(k.a)({loader:()=>n.e(48).then(n.bind(null,493))}),ce=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(3),n.e(29)]).then(n.bind(null,494))}),le=Object(k.a)({loader:()=>n.e(42).then(n.bind(null,495))}),ue=Object(k.a)({loader:()=>n.e(43).then(n.bind(null,496))}),de=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(22)]).then(n.bind(null,497))}),fe=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(23)]).then(n.bind(null,498))}),pe=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(4),n.e(57)]).then(n.bind(null,499))}),ge=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(4),n.e(58)]).then(n.bind(null,500))}),he=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(4),n.e(59)]).then(n.bind(null,501))}),me=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(2),n.e(1),n.e(4),n.e(56)]).then(n.bind(null,502))}),ye=Object(k.a)({loader:()=>n.e(52).then(n.bind(null,503))}),ve=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,504))}),we=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(9),n.e(47)]).then(n.bind(null,505))}),be=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,235))}),_e=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(3),n.e(33)]).then(n.bind(null,506))}),Se=Object(k.a)({loader:()=>Promise.all([n.e(0),n.e(60)]).then(n.bind(null,507))});var Oe=class extends i.Component{constructor(...e){var t;return t=super(...e),this.keepInputFocusWhenClearInput=(e=>{"fa fa-times-circle-o"===e.target.className&&e.preventDefault()}),this.listenBackFunc=(()=>{document.addEventListener("backbutton",E.p,!1);const e=localStorage.getItem("allowReadAndWriteFile"),t=localStorage.getItem("usePosition");let n=Promise.resolve();e||(n=Object(E.s)()),t||n.then(x.Q)}),t}componentDidMount(){document.getElementById("root").classList.remove("loading-text"),document.getElementById("root").classList.remove("animate-flicker"),Object(x.y)();const e=getRoute();"/"===e||e.includes("isFromThirdPart")||e.includes("show_file_info?filename=")||(location.href=location.href.split("#/")[0]),"no"===localStorage.getItem("alwaysShowAdsPage")&&($dispatch(Object(_.g)(!1)),$dispatch(Object(w.d)(!0)),$dispatch(Object(_.q)(!1))),"no"===localStorage.getItem("usePosition")&&$dispatch(Object(_.d)(!1)),"no"===localStorage.getItem("allowOthersGetPosition")&&$dispatch(Object(_.e)(!1)),Object(x.l)(),Object(x.j)(),document.addEventListener("deviceready",this.listenBackFunc),document.addEventListener("touchstart",this.keepInputFocusWhenClearInput,!1),document.addEventListener("mousedown",this.keepInputFocusWhenClearInput,!1),logger.info("Router.js location.href",location.href)}componentWillUnmount(){logger.info("router.js componentWillUnmount will exit app, ws && ws.readyState",ws&&ws.readyState),isCordova&&cordova.plugins.notification.local.clearAll(),ws&&1===ws.readyState&&ws.close(1e3);const{soundPlaying:e}=$getState().fileServer;e&&Object(x.Z)(),document.removeEventListener("deviceready",this.listenBackFunc),document.removeEventListener("backbutton",E.p),document.removeEventListener("touchstart",this.keepInputFocusWhenClearInput,!1),document.removeEventListener("mousedown",this.keepInputFocusWhenClearInput,!1)}render(){return a.a.createElement(T.HashRouter,null,a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:`main-content ${isCordova?"":"show-scroll"}`},a.a.createElement(T.Switch,null,a.a.createElement(T.Route,{path:"/register",component:fe}),a.a.createElement(T.Route,{path:"/forget_password",component:de}),a.a.createElement(T.Route,{path:"/login",component:M}),a.a.createElement(T.Route,{path:"/search_user_history",component:I}),a.a.createElement(T.Route,{path:"/main",component:V}),a.a.createElement(T.Route,{path:"/about",component:L}),a.a.createElement(T.Route,{path:"/feedback",component:R}),a.a.createElement(T.Route,{path:"/set_nickname",component:N}),a.a.createElement(T.Route,{path:"/set_mobile",component:C}),a.a.createElement(T.Route,{path:"/set_signature",component:D}),a.a.createElement(T.Route,{path:"/user_profile",component:$}),a.a.createElement(T.Route,{path:"/system_setup",component:F}),a.a.createElement(T.Route,{path:"/licence",component:B}),a.a.createElement(T.Route,{path:"/service_list",component:U}),a.a.createElement(T.Route,{path:"/user_agreement",component:H}),a.a.createElement(T.Route,{path:"/privacy",component:z}),a.a.createElement(T.Route,{path:"/package_iframe",component:W}),a.a.createElement(T.Route,{path:"/reset_password_sys",component:q}),a.a.createElement(T.Route,{path:"/look_head_pic",component:G}),a.a.createElement(T.Route,{path:"/search_column",component:Y}),a.a.createElement(T.Route,{path:"/search_position",component:Q}),a.a.createElement(T.Route,{path:"/show_online_persons",component:K}),a.a.createElement(T.Route,{path:"/my_sites",component:X}),a.a.createElement(T.Route,{path:"/type_shell",component:Z}),a.a.createElement(T.Route,{path:"/login_record",component:ee}),a.a.createElement(T.Route,{path:"/notification",component:te}),a.a.createElement(T.Route,{path:"/saved_songs",component:ne}),a.a.createElement(T.Route,{path:"/my_finished_files",component:re}),a.a.createElement(T.Route,{path:"/my_finished_musics",component:oe}),a.a.createElement(T.Route,{path:"/my_games",component:ie}),a.a.createElement(T.Route,{path:"/my_download_middle_page",component:ae}),a.a.createElement(T.Route,{path:"/nickname_page",component:se}),a.a.createElement(T.Route,{path:"/set_email",component:ce}),a.a.createElement(T.Route,{path:"/check_email",component:le}),a.a.createElement(T.Route,{path:"/check_mobile",component:ue}),a.a.createElement(T.Route,{path:"/search_file",component:pe}),a.a.createElement(T.Route,{path:"/search_music",component:ge}),a.a.createElement(T.Route,{path:"/search_online_music",component:he}),a.a.createElement(T.Route,{path:"/search_all",component:me}),a.a.createElement(T.Route,{path:"/recent_music_played",component:ve}),a.a.createElement(T.Route,{path:"/music_mv_player",component:we}),a.a.createElement(T.Route,{path:"/music_playing",component:be}),a.a.createElement(T.Route,{path:"/set_username",component:_e}),a.a.createElement(T.Route,{path:"/show_file_info",component:Se}),a.a.createElement(T.Route,{path:"/",exact:!0,component:J}))),a.a.createElement("div",{className:"window-music-container"},a.a.createElement(ye,null))))}};n(109),n(110),n(95);window.serverHost=window.config.debug?window.config.domain+":"+window.config.port:window.config.domainUrl,window.isDevModel=window.config.dev;const Ae=localStorage.getItem("allowReadAndWriteFile"),Pe=[p.default];window.config&&window.isDevModel&&Pe.push(Object(h.createLogger)({collapsed:!1}));const je=Object(g.createStore)(j,Object(g.compose)(Object(g.applyMiddleware)(...Pe)));window.store=je,window.$dispatch=je.dispatch,window.$getState=je.getState,window.$subscribe=je.subscribe,window._=u.a,window.axios=f.a,window.alertOld=window.alert,window.alert=(e=>{isCordova?window.plugins.toast.showShortCenter(e):o.a.info(e,2,null,!1)}),window.Toast=o.a,window.toast={},window.toast.loading=((...e)=>{window.toastLoading=!0,o.a.loading(...e)}),window.toast.hide=(()=>{window.toastLoading=!1,o.a.hide()}),isCordova?window.logger=Ae?new v.a({folder:"miXingFeng",column:"log",filename:"miXingFeng.txt"}):console:isElectron?$dispatch(Object(_.j)(window.exeVersion)):window.logger=new v.a,window.alertDebug=(e=>{window.isDevModel&&(isCordova,Object(E.a)(e)),logger.info("alertDebug",e)}),window.alertDialog=E.a,window.goRoute=((e,t)=>{if(!e&&window.SELF)logger.warn("goRoute window.SELF path",t),e=window.SELF;else if(!e)return void logger.warn("goRoute",window.SELF);return logger.info("goRoute inner func path",t),Object(x.q)(),e.props.history.push(t)}),window.getRoute=(()=>location.href.replace(/.+#/,"")),f.a.interceptors.request.use(function(e){const{token:t,userId:n}=$getState().login;return logger.info("axios.interceptors.request userId",n),t&&(e.headers.Authorization=t),"get"===e.method&&(/[?]/.test(e.url)?e.url=`${e.url}&userId=${n}`:e.url=`${e.url}?userId=${n}`),"post"===e.method&&(e.data.userId=n),e},function(e){return logger.error("axios.interceptors.request err",e),Promise.reject(e)}),f.a.interceptors.response.use(e=>e,e=>{if(e.response){if(!e.response.data)return alertDebug(`error.response ${e.response}`),logger.error("axios.interceptors.response.use error.response",e.response);if(!e.response.data.result)return alertDebug(`error.response.data ${e.response.data}`),logger.error("axios.interceptors.response.use error.response.data",e.response.data);switch(e.response.data.result.errCode){case 401:logger.warn("axios.interceptors.response.use  token已过期"),alert("token已过期"),Object(x.B)(null),goRoute(null,"main/sign");break;default:alertDebug(`error.response.data.result.errCode: ${e.response.data.result.errCode}`),logger.error(`error.response.data.result.errCode: ${e.response.data.result.errCode}`)}}return Promise.reject(e.response&&e.response.data)}),window.addEventListener("rejectionhandled",e=>{logger.error("rejectionhandled",e.reason)}),window.onerror=function(e,t,n,r,o){logger.error("onerror errorMessage",e),logger.error("onerror scriptURI: "+t),logger.error("onerror lineNo: "+n),logger.error("onerror columnNo: "+r),logger.error("onerror error: "+o)},c.a.render(a.a.createElement(m.Provider,{store:je},a.a.createElement(Oe,null)),document.getElementById("root"))}],[[111,8,0]]]);