(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{228:function(e,t,a){"use strict";a(222);var i=a(223),n=a.n(i),s=(a(219),a(220)),o=a.n(s),r=a(0),c=a.n(r),l=a(71),d=a(3),m=a(73),u=a(10),g=a(234),p=a(51),h=a(1),f=a(4),v=a(11),b=a(8),O=a(6),w=a(33),y=a(23);let S;new RegExp("\\biPhone\\b|\\biPod\\b","i").test(navigator.userAgent)&&(S={onTouchStart:e=>e.preventDefault()});t.a=Object(l.connect)(e=>({soundPlaying:e.fileServer.soundPlaying,soundInstance:e.fileServer.soundInstance,currentPlayingSong:e.fileServer.currentPlayingSong,currentSongTime:e.fileServer.currentSongTime,pauseWhenOver:e.fileServer.pauseWhenOver,playByOrder:e.fileServer.playByOrder,musicCollection:e.fileServer.musicCollection,musicMenuBadge:e.fileServer.musicMenuBadge,username:e.login.username,token:e.login.token,playByRandom:e.fileServer.playByRandom,lastMusicSearchResult:e.fileServer.lastMusicSearchResult,lastSearchAllMusicResult:e.fileServer.lastSearchAllMusicResult,downloadingMusicItems:e.fileServer.downloadingMusicItems,downloadedMusicList:e.fileServer.downloadedMusicList,currentPlayingSongOriginal:e.fileServer.currentPlayingSongOriginal,recentMusicList:e.fileServer.recentMusicList,musicPageType:e.fileServer.musicPageType,setMobile:e.myInfo.setMobile,showMusicPlayingFromMusicControl:e.fileServer.showMusicPlayingFromMusicControl,notExistMusicPlayingPage:e.fileServer.notExistMusicPlayingPage}),()=>({}))(({original:e,soundInstance:t,currentPlayingSong:a,currentSongTime:i,soundPlaying:s,pageType:l,pauseWhenOver:j,playByOrder:N,musicCollection:P=[],musicMenuBadge:E,username:k,token:R,playByRandom:$,setMobile:T,musicDataList:x,lastMusicSearchResult:F,lastSearchAllMusicResult:M,recentMusicList:L,noShowMusicPlaying:I=!1,myMusicPage:A=!1,searchMusicPage:D=!1,notExistMusicPlayingPage:U=!1,showBottomLine:C=!1,musicPlayerRef:H,loadingRecommendSongs:B=!1})=>{const V=Object(d.useHistory)(),[_,W]=Object(r.useState)(!0);Object(r.useEffect)(()=>(m.Howler.volume(.8),e!==O.a.musicOriginal.musicDownloading&&t&&Object(b.v)(),document.addEventListener("deviceready",Y,!1),()=>{document.removeEventListener("deviceready",Y,!1),document.removeEventListener("backbutton",q,!1)}),[]);const Y=()=>{document.addEventListener("backbutton",q,!1)},q=()=>{if(!window.cancelMenuFirst&&!window.specialBack)if($getState().fileServer.showMusicPlayingFromMusicControl||Object(f.h)())Object(f.y)();else if(A)Object(f.b)("/my_download_middle_page",!0);else{if(!D)return;Object(f.b)("/search_column",!0)}},z=()=>{window.cancelMenuFirst=!0,document.addEventListener("backbutton",J)},X=()=>{window.cancelMenuFirst&&(window.cancelMenuFirst=!1,document.removeEventListener("backbutton",J),document.removeEventListener("deviceready",z),document.addEventListener("backbutton",f.r))},J=()=>{const e=document.querySelector(".am-action-sheet-button-list div:nth-last-child(1)");e&&e.click()},K=(e,t,a,i,n,s,o)=>{Object(f.j)("提示",c.a.createElement(p.a,{textFragment:`确定从本地删除 <span class="delete-alert">${e}</span> 吗`}),"确定",()=>Object(b.M)(Object(b.N)(t),"music").then(()=>{G(s,t),t===a&&Object(b.r)(i,n,s,o)}).catch(e=>{logger.error("删除音乐过程中发生了错误 isFileFinished",e.stack||e.toString()),Object(f.q)(e,`musicPlayer removeFileFromDownload filenameOrigin: ${t}`)}))},G=(e,t)=>{if(e===O.a.musicOriginal.musicSearch){let e,a;F.some((a,i)=>Object(b.N)(a.filenameOrigin)===Object(b.N)(t)&&(e=i,!0));const i=JSON.parse(JSON.stringify(F));i.splice(e,1),M.some((e,i)=>Object(b.N)(e.filenameOrigin)===Object(b.N)(t)&&(a=i,!0));const n=JSON.parse(JSON.stringify(M));n.splice(a,1),$dispatch(Object(h.w)(i)),$dispatch(Object(h.E)(n))}},Z=Object(b.D)(x,_,O.a.showMusicNumberPerTime,W);Object(b.o)(Z,l);const Q=e===O.a.musicOriginal.musicDownloading;return c.a.createElement(r.Fragment,null,c.a.createElement("div",{className:"music-list-container",ref:H},Z.map((r,d)=>c.a.createElement("div",{className:"music-list",key:r.filenameOrigin,id:r.filenameOrigin.split(".")[0].match(/\w/g).join("")},c.a.createElement("div",{className:"music-content",onClick:()=>Object(b.p)({filePath:r.filePath,filename:r.filename,filenameOrigin:r.filenameOrigin,uploadUsername:r.uploadUsername,fileSize:r.fileSize,duration:r.duration,songOriginal:r.original,original:e,musicDataList:x,pageType:l,payPlay:Number(r.payPlay),musicId:r.id,songInfo:r})},c.a.createElement("div",{className:`num ${Object(f.d)(d+1)}`},d+1),c.a.createElement("div",{className:"music-info"},c.a.createElement("div",{className:`info ${r.saved&&l!==O.a.musicOriginal.savedSongs?"song-saved":""}`},c.a.createElement("div",{className:`filename ${Q?r.saved?"downloading-save":"downloading":""}`,dangerouslySetInnerHTML:{__html:Object(b.t)(r.filename)}}),Number(r.payPlay)?c.a.createElement("i",{className:"fa fa-lock copyright-song-flag","aria-hidden":"true"}):"",r.saved&&l!==O.a.musicOriginal.savedSongs&&c.a.createElement("i",{className:"fa fa-heart saved-song-flag","aria-hidden":"true"}),(e===O.a.musicOriginal.savedSongs||e===O.a.musicOriginal.musicFinished||e===O.a.musicOriginal.musicRecent||e===O.a.musicOriginal.musicDownloading)&&(r.original===O.a.musicOriginal.netEaseCloud?c.a.createElement("div",{className:"net-ease-source-flag"},"网易云"):r.original===O.a.musicOriginal.qqMusic?c.a.createElement("div",{className:"qq-music-source-flag"},"QQ音乐"):r.original===O.a.musicOriginal.kuGouMusic?c.a.createElement("div",{className:"ku-gou-music-source-flag"},"酷狗音乐"):r.original===O.a.musicOriginal.kuWoMusic?c.a.createElement("div",{className:"ku-wo-music-source-flag"},"酷我音乐"):null),r.mvId?c.a.createElement("i",{className:"fa fa-youtube-play","aria-hidden":"true",onClick:e=>((e,t,a,i)=>{e.stopPropagation(),V.push({pathname:"/music_mv_Player",query:{mvId:t,original:a,filename:Object(b.O)(i),lastLocation:getRoute()}})})(e,r.mvId,r.original,r.filename)}):null,Q?c.a.createElement("div",{className:"song-duration-time downloading"},r.progress):null),a===r.filenameOrigin?((e,t,a)=>c.a.createElement("div",{className:"audio-player"},c.a.createElement("audio",{preload:"auto",className:"audio-selector"},c.a.createElement("source",{src:e})),c.a.createElement("div",{className:"audio-player-time audio-player-time-current"},Object(b.X)(t)),c.a.createElement("div",{className:"audio-player-bar"},c.a.createElement("div",{className:"audio-player-bar-loaded",style:{width:"100%"}}),c.a.createElement("div",{className:"audio-player-bar-played",style:{width:t/a*100+"%"}})),c.a.createElement("div",{className:"audio-player-time audio-player-time-duration"},Object(b.X)(a))))(r.filePath,i,r.duration):c.a.createElement("div",{className:"upload-duration"},c.a.createElement("div",{className:`upload-user ${Q?"downloading":""}`},r.uploadUsername||"未知",(t=>t?e!==O.a.musicOriginal.musicDownloading?("number"==typeof t&&(t=new Date(t).format("yyyy-MM-dd")),e===O.a.musicOriginal.musicShare||e===O.a.musicOriginal.musicSearch||e===O.a.musicOriginal.musicFinished?" "+t.split(" ")[0]:""):void 0:"")(r.date)),Q?c.a.createElement("div",{className:"download-progress"},c.a.createElement(n.a,{percent:r.received?r.received/r.fileSize*100:0,position:"normal"})):c.a.createElement("div",{className:`song-duration-time ${Object(f.d)(d+1)}`},Object(b.X)(r.duration)))),!s&&e!==O.a.musicOriginal.musicDownloading&&a===r.filenameOrigin&&c.a.createElement("div",{className:"pause-button-overlay"},c.a.createElement("div",{className:"pause-button"},c.a.createElement("div",{className:"triangle"})))),e!==O.a.musicOriginal.musicDownloading?c.a.createElement("div",{className:"menu",onClick:((i,n,r,d,m,g,y,F,M,I,A,D)=>{document.removeEventListener("backbutton",f.r,!1),document.addEventListener("deviceready",z),i=Object(b.O)(i);const U=JSON.parse(JSON.stringify(E)),C=P.map(e=>Object(b.N)(e.filenameOrigin)),H=["播放",-1!==C.indexOf(Object(b.N)(r))?"已收藏":"收藏","单曲播放","单曲循环","顺序播放","随机播放","下载","删除","取消"];s&&r===a&&(H[0]="暂停"),I=e===O.a.musicOriginal.musicShare||e===O.a.musicOriginal.musicSearch?` ${I}`:"";const B={options:H,cancelButtonIndex:H.length-1,destructiveButtonIndex:H.length-2,badges:U,message:n?`大小: ${Object(b.c)(n)}${I}`:I,title:i,maskClosable:!0,"data-seed":"logId",wrapProps:S};e===O.a.musicOriginal.musicFinished?(H.splice(6,1),B.destructiveButtonIndex=H.length-2):(F&&U.push({index:6,text:"版"}),l!==O.a.musicOriginal.savedSongs&&"onlineMusic"!==l&&"onlineMusicSearchALl"!==l&&l!==O.a.musicOriginal.homeRecommend||(H.splice(7,1),delete B.destructiveButtonIndex)),o.a.showActionSheetWithOptions(B,s=>{logger.info("music player showMenu buttonIndex",s);const o=x.map(e=>e.filenameOrigin),S=o.indexOf(r);if(-1===S)return logger.error("showActionSheetWithOptions currentFileIndex === -1 filename",i),alert(i+"已被删除");const E=x[S].filePath;switch(s){case 0:Object(b.p)({filePath:E,filename:i,filenameOrigin:r,uploadUsername:d,fileSize:n,duration:m,songOriginal:g,original:e,musicDataList:x,pageType:l,payPlay:y,musicId:M,songInfo:D});break;case 1:Object(b.V)({savedMusicFilenameOriginalArr:C,filenameOrigin:r,musicCollection:P,musicDataList:x,currentFileIndex:S,original:e,e:null,pageType:l});break;case 2:(!j||N||$)&&(t&&t.loop(!1),$dispatch(Object(h.Y)(!0)),$dispatch(Object(h.Z)(!1)),$dispatch(Object(h.ab)(!1)),alert("单曲播放"),$dispatch(Object(h.K)([{index:2,text:"✔️"},{index:3,text:""},{index:4,text:""},{index:5,text:""}])));break;case 3:j&&(t&&t.loop(!0),$dispatch(Object(h.Y)(!1)),$dispatch(Object(h.Z)(!1)),$dispatch(Object(h.ab)(!1)),alert("单曲循环"),$dispatch(Object(h.K)([{index:2,text:""},{index:3,text:"✔️"},{index:4,text:""},{index:5,text:""}])));break;case 4:N||(t&&t.loop(!1),$dispatch(Object(h.Y)(!0)),$dispatch(Object(h.Z)(!0)),$dispatch(Object(h.ab)(!1)),alert("顺序播放"),$dispatch(Object(h.K)([{index:2,text:""},{index:3,text:""},{index:4,text:"✔️"},{index:5,text:""}])));break;case 5:$||(t&&t.loop(!1),$dispatch(Object(h.Y)(!0)),$dispatch(Object(h.Z)(!1)),$dispatch(Object(h.ab)(!0)),alert("随机播放"),$dispatch(Object(h.K)([{index:2,text:""},{index:3,text:""},{index:4,text:""},{index:5,text:"✔️"}])));break;case 6:if(e===O.a.musicOriginal.musicFinished)K(i,r,a,S,o,e,x);else{const e=E;Object(b.U)({musicDataList:x,filename:i,uploadUsername:d,fileSize:n,musicSrc:e,filenameOrigin:r,duration:m,songOriginal:g,musicId:M,payDownload:F,mvId:D.mvId})}break;case 7:{if(X(),l===O.a.musicOriginal.savedSongs||"onlineMusic"===l||"onlineMusicSearchALl"===l||e===O.a.musicOriginal.musicFinished)return;if(!R)return goRoute(void 0,"/login");const t={username:k||T,token:R,filename:i,type:"default-music"};return void(e!==O.a.musicOriginal.musicShare&&e!==O.a.musicOriginal.musicSearch||"downloaded"===A?e===O.a.musicOriginal.musicRecent?Object(f.j)("提示",c.a.createElement(p.a,{textFragment:`确定要删除 <span class="delete-alert">${i}</span> 的播放记录吗`}),"确定",()=>{let t=null;if(L.some((e,a)=>e.filenameOrigin===r&&(t=a,!0)),null!==t){const i=JSON.parse(JSON.stringify(L));if(i.splice(t,1),$dispatch(Object(h.bb)(i)),Object(w.c)(r),r===a){const t=JSON.parse(JSON.stringify(L));Object(b.r)(S,o,e,t)}}else logger.error("确定要删除播放记录吗 filenameOrigin, recentMusicList",r,L)}):"downloaded"===A&&K(i,r,a,S,o,e,x):Object(f.j)("提示",c.a.createElement(p.a,{textFragment:`确定要从服务器删除 <span class="delete-alert">${i}</span> 吗`}),"确定",()=>(Object(f.A)(),axios.delete(u.a.delFile,{data:t}).then(t=>{if(window.toast.hide(),!window.cancelAxiosRequest)return"success"===t.data.result.result?($dispatch(Object(v.j)(t.data.result.token)),alert("删除成功"),G(e,r)):"file_deleted"===t.data.result.result?(alert("文件已删除!"),G(e,r)):void logger.error("HTTP_URL.delFile result",t)}).then(()=>{r===a&&Object(b.r)(S,o,e,x)}).catch(e=>{logger.error("HTTP_URL.delFile err",e),Object(f.q)(e,`musicPlayer delFile filenameOrigin: ${r}`)}).finally(()=>{window.cancelAxiosRequest=!1}))))}}X()})}).bind(void 0,r.filename,r.fileSize,r.filenameOrigin,r.uploadUsername,r.duration,r.original,Number(r.payPlay),Number(r.payDownload),r.id,r.date,r.status,r)},c.a.createElement("div",{className:"dot"}),c.a.createElement("div",{className:"dot"}),c.a.createElement("div",{className:"dot"})):c.a.createElement("div",{className:"move-downloading-item fa fa-remove",onClick:((e,t)=>{Object(f.j)("提示",c.a.createElement(p.a,{textFragment:`确定要移除下载 <span class="delete-alert">${e}</span> 吗`}),"确定",()=>{const e=Object(b.N)(t);window.eventEmit.$emit(`FileTransfer-${e}`,"abort"),window[`remove-download-${e}`]=!0,setTimeout(()=>{},500);const{downloadingMusicItems:a}=$getState().fileServer,i=JSON.parse(JSON.stringify(a));for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e)&&a[e].filenameOrigin===t){i.splice(e,1),$dispatch(Object(h.n)(i)),Object(y.c)(t);break}logger.info("saveFileToLocal param, downloadingMusicItems",a)})}).bind(void 0,r.filename,r.filenameOrigin)}))),C&&!B?c.a.createElement("div",{className:"bottom-text"},"我是有底线的"):null),l===O.a.musicOriginal.savedSongs&&c.a.createElement("div",{className:"music-picture"}),!I&&!U&&c.a.createElement(g.default,{fromMusicControl:!0,myMusicPage:A,searchMusicPage:D}))})},246:function(e,t,a){"use strict";a.d(t,"b",function(){return m}),a.d(t,"c",function(){return g}),a.d(t,"d",function(){return p}),a.d(t,"a",function(){return h});var i=a(25),n=a.n(i),s=a(10),o=a(8),r=a(11),c=a(17),l=a(4);function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function i(n,s){try{var o=t[n](s),r=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}const m=()=>{const{token:e}=$getState().login;if(e){const t=Object.assign({},{token:e});return n.a.post(s.a.lastSign,t).then(e=>{logger.info("retrieveLastLoginTime  response",e.data.result.lastDay);const t=(new Date).format("yyyy-MM-dd"),{lastDay:a,signCount:i}=e.data.result;if(!a)return logger.warn("no such user"),void alertDebug("用户不存在");a&&a.split(" ")[0]===t&&p(),$dispatch(Object(c.g)(a)),$dispatch(Object(c.o)(i))}).catch(e=>{Object(l.q)(e,"lastSign")})}};let u;const g=e=>{if($getState().sign.isSignedUp)return;if(u)return;u=!0;let{currentLocation:t}=$getState().common;logger.info("currentLocation",t),t=(t="object"==typeof t?t.formatted_address:t)||"";const a=(new Date).format("yyyy-MM-dd"),{token:i}=$getState().login;if(i){const c=Object.assign({},{token:i,location:t,CurrentTime:a});logger.info("signInApp data",c),n.a.post(s.a.goSign,c).then(t=>{if(u=!1,Object(o.A)({msg:"sign in success"}),logger.info("signIn  response",t.data),"already_signed"===t.data.result.str)return alert("已签到"),void p();if("token_expired"===t.data.result.str)logger.error("身份已过期,请重新登录页"),$dispatch(Object(r.j)("")),e.push("/login");else{if("no_sign"===t.data.result.str)return $dispatch(Object(r.j)(t.data.result.token)),alert("签到成功"),p(),m(),void Object(o.S)();"error"===t.data.result.str?alert("签到失败"):"error_in_client_time"===t.data.result.str?alert("签到失败，请检查时间设置"):"no_exist_username"===t.data.result.str?alert("用户不存在!"):(logger.warn("signInApp warn",t.data),alertDebug(t.data))}}).catch(e=>{u=!1,Object(l.q)(e,`signInApp data: ${c}`)})}else u=!1,e.push("/login")},p=()=>{const{isSignedUp:e,signedFlag:t}=$getState().sign;e||$dispatch(Object(c.p)(!0)),t||$dispatch(Object(c.q)("signed-flag"))},h=()=>{isCordova&&(window.downloadAdPicTimer=setTimeout(()=>(window.downloadAdPicTimer=null,n.a.get(s.a.getAdPicture).then(e=>{const t=e.data.result.response;if("no_ad_pics"===t.message)return void logger.warn("no ad pics in server");const a=serverHost+t.url,i=t.filename,n="当前为Wi-Fi环境，更新无需移动流量"===window.getNetType()?"yes":"no";if(logger.info("downloadAdPic timer adsName",i,"isWiFiNetwork",n,"adUrl",a),!window.LocalFileSystem)return e();window.requestFileSystem(window.LocalFileSystem.PERSISTENT,0,function(e){e.root.getDirectory("miXingFeng",{create:!0},function(e){e.getDirectory("adPics",{create:!0},function(e){e.getFile(i,{create:!0,exclusive:!1},function(e){const t=new window.FileTransfer;let s=0;t.onprogress=(()=>{var e=d(function*(e){if(e.lengthComputable){const t=e.loaded/e.total;s=(100*t).toFixed(0)}});return function(t){return e.apply(this,arguments)}})(),t.download(encodeURI(a),e.nativeURL,(()=>{var e=d(function*(e){s>=1&&(localStorage.setItem("adsName",i),localStorage.setItem("isWiFiNetwork",n))});return function(t){return e.apply(this,arguments)}})(),function(e){alertDebug("setTimeout saveFileToLocal ad pic err"),logger.error("setTimeout saveFileToLocal ad pic err",e.stack||e.toString())})},function(e){logger.error("downloadAdPic 获取文件失败",e.stack||e.toString()),alert("获取文件失败")})},function(e){alert("文件系统加载失败！"),logger.error("downloadAdPic 文件系统加载失败！",e)})})})}).catch(e=>{if(console.error("setTimeout download ad pic err ",e),e)return alertDebug("setTimeout download ad pic err"),logger.error("setTimeout download ad pic err",e.stack||e.toString()),Object(l.q)(e,"setTimeout download ads pic")})),3e4))};Date.prototype.format=function(e){const t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(const a in t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e}},471:function(e,t,a){"use strict";a.r(t);a(267);var i=a(268),n=a.n(i),s=(a(463),a(464)),o=a.n(s),r=a(0),c=a.n(r),l=a(71),d=a(95),m=a.n(d),u=(a(222),a(223)),g=a.n(u),p=a(8);var h=class extends c.a.Component{render(){let{percent:e,appSize:t,appTotalSize:a,checkingPackage:i}=this.props;return t=Object(p.c)(t),a=Object(p.c)(a),c.a.createElement("div",{className:"progress-area"},c.a.createElement("div",{className:"progress-container"},c.a.createElement("div",{className:"updating"},"正在更新"),c.a.createElement("div",{className:"show-info"},c.a.createElement("div",{className:"number","aria-hidden":"true"},e,"%"),c.a.createElement("div",{className:"progress"},c.a.createElement(g.a,{percent:e,position:"normal"})),i?c.a.createElement("div",{className:"check-package"},"正在校验安装包..."):c.a.createElement("div",{className:"process-size","aria-hidden":"true"},t,"/",a))))}},f=a(203),v=a(68),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},O=({faName:e,displayName:t,style:a={},click:i=(()=>{})})=>c.a.createElement("div",{className:"item-container",style:b({},a),onClick:i},c.a.createElement("div",{className:"icon"},c.a.createElement("i",{className:`fa ${e}`,"aria-hidden":"true"})),c.a.createElement("div",{className:"text"},c.a.createElement("span",{className:"square-item-text"},t))),w=a(228),y=a(72),S=a(4),j=a(10),N=a(11),P=a(246),E=a(17),k=a(7),R=a(2),$=a(6),T=a(111),x=a(1),F=a(22),M=a(23),L=a(33);function I(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function i(n,s){try{var o=t[n](s),r=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}const A=(()=>{var e=I(function*(){let e=[],t=[];(yield Object(F.b)()).forEach(function(a){a.status&&"downloaded"!==a.status?"downloading"===a.status&&("已取消"!==a.progress&&"失败"!==a.progress&&(a.progress="已取消"),t.push(a)):e.push(a)}),e=_.orderBy(e,["date"],["asc"]),t=_.orderBy(t,["date"],["asc"]),$dispatch(Object(x.k)(e)),$dispatch(Object(x.m)(t))});return function(){return e.apply(this,arguments)}})(),D=(()=>{var e=I(function*(){let e=[],t=[];(yield Object(M.b)()).forEach(function(a){a.status&&"downloaded"!==a.status?"downloading"===a.status&&("已取消"!==a.progress&&"失败"!==a.progress&&(a.progress="已取消"),t.push(a)):e.push(a)}),e=_.orderBy(e,["date"],["asc"]),t=_.orderBy(t,["date"],["asc"]),$dispatch(Object(x.l)(e)),$dispatch(Object(x.n)(t))});return function(){return e.apply(this,arguments)}})(),U=()=>axios.get(j.a.getList.format({fileType:"file"})).then((()=>{var e=I(function*(e){const t=e.data.result.response||[];(yield Object(F.b)()).forEach(function(e){e.status&&"downloaded"!==e.status||t.forEach(function(t){Object(p.N)(e.filenameOrigin)===Object(p.N)(t.filenameOrigin)&&(t.downloaded=!0)})}),t.forEach(function(e){e.filePath=serverHost+e.filePath}),$dispatch(Object(x.o)(t))});return function(t){return e.apply(this,arguments)}})()).catch(e=>Object(S.q)(e,"home getList fileType file")),C=()=>axios.get(j.a.getList.format({fileType:"music"})).then((()=>{var e=I(function*(e){const t=e.data.result.response||[];t.forEach(function(e){isH5?e.filePath=serverHost+"/browser"+e.filePath:e.filePath=serverHost+e.filePath}),t.length&&($dispatch(Object(x.J)(t)),$dispatch(Object(E.h)(!1)))});return function(t){return e.apply(this,arguments)}})()).catch(e=>Object(S.q)(e,"home getList fileType music")),H=()=>Object(L.b)().then(e=>{e.forEach(e=>delete e.getNewestPath),e=_.orderBy(e,["date"],["desc"]),$dispatch(Object(x.bb)(e))}),B=(()=>{var e=I(function*(){const e=localStorage.getItem("tk");e&&($dispatch(Object(N.j)(e)),yield Object(p.a)(e),Object(p.S)(),Object(P.b)())});return function(){return e.apply(this,arguments)}})(),V=()=>axios.get(j.a.getDefaultSearchWord).then(function(e){const{defaultSearchShortKey:t,defaultSearchRealKey:a}=e.data.result;t&&a?(logger.info("getDefaultSearchWord searchWord",t,a),$dispatch(Object(R.p)(t)),$dispatch(Object(R.o)(a))):logger.warn("getDefaultSearchWord no searchWord")}).catch(e=>Object(S.q)(e,"home getDefaultSearchWord")),W=e=>{const{topSong:t}=$getState().common;if(JSON.stringify((new Date).format("yyyy-MM-dd"))===localStorage.getItem("currentTimeForRecommendSongs")&&t&&t.length)return Promise.resolve();{logger.info("getNetEaseRecommendSongs call api"),e.recommendRef.style.height="calc(100% - 91px)",$dispatch(Object(R.x)(!0));const t=axios.get(j.a.getRecommendSongs),a=axios.get(j.a.getTopSongs);return Promise.all([t,a]).then(function([e,t]){const a=[...e.data.result.response||[],...t.data.result.response||[]];$dispatch(Object(R.E)(a))}).catch(e=>Object(S.q)(e,"home getNetEaseRecommendSongs")).finally(()=>{e.recommendRef&&(e.recommendRef.style.height="calc(100% - 50px)"),$dispatch(Object(R.x)(!1))})}},Y=()=>new Promise(e=>{if(!isCordova||navigator.splashscreen&&window.LocalFileSystem)e();else{const t=setInterval(()=>{navigator.splashscreen&&window.LocalFileSystem&&(clearInterval(t),e())},50)}}),q=()=>{setTimeout(()=>{new Swiper(".swiper-container",{pagination:{el:".swiper-pagination"}})})};var z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e};function X(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function i(n,s){try{var o=t[n](s),r=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}t.default=Object(l.connect)(e=>({adsTime:e.common.adsTime,username:e.login.username,token:e.login.token,alreadySignUpPersons:e.sign.alreadySignUpPersons,notSignUpPersons:e.sign.notSignUpPersons,setNickname:e.myInfo.setNickname,directShowHomePage:e.sign.directShowHomePage,savedCurrentRoute:e.common.savedCurrentRoute,isFromLoginPage:e.login.isFromLoginPage,alwaysShowAdsPage:e.common.alwaysShowAdsPage,allowGetPosition:e.common.allowGetPosition,adNumber:e.sign.adNumber,fromResume:e.sign.fromResume,isFromSignPage:e.common.isFromSignPage,isFromSystemSetup:e.common.isFromSystemSetup,adPicSrc:e.common.adPicSrc,loadedInWifi:e.common.loadedInWifi,justOpenApp:e.sign.justOpenApp,showUpdateConfirm:e.sign.showUpdateConfirm,needRetryRequestWhenLaunch:e.sign.needRetryRequestWhenLaunch,showDownloadAppTip:e.sign.showDownloadAppTip,setMobile:e.myInfo.setMobile,appVersion:e.common.appVersion,showAdsTransition:e.sign.showAdsTransition,setHeadPic:e.myInfo.setHeadPic,headPicAddress:e.myInfo.headPicAddress,replaceHeadPic:e.myInfo.replaceHeadPic,defaultSearchShortKey:e.common.defaultSearchShortKey,topSong:e.common.topSong,recommendTimes:e.common.recommendTimes,offlineState:e.common.offlineState,musicList:e.fileServer.musicList,loadingRecommendSongs:e.common.loadingRecommendSongs}),()=>({}))(class extends r.Component{constructor(e){var t;t=super(e),this.startHomePage=(e=>{e.stopPropagation(),this.offsetFirstXValue=e.clientX||e.touches[0].pageX,this.offsetFirstYValue=e.clientY||e.touches[0].pageY,logger.info("startHomePage offsetFirstYValue",this.offsetFirstYValue)}),this.moveHomePage=(e=>{e.stopPropagation();const t=e.clientX||e.touches[0].pageX,a=e.clientY||e.touches[0].pageY;if(this.offsetXValue=t-this.offsetFirstXValue,this.offsetYValue=a-this.offsetFirstYValue,this.offsetYValue>10&&0===this.musicPlayerRef.current.scrollTop)if(Math.abs(this.offsetXValue)>5&&!0!==this.movingY)this.movingX=!0;else if(this.offsetYValue>=Math.abs(this.offsetXValue)&&!0!==this.movingX||this.movingY){this.movingY=!0;const e=this.offsetYValue>100?100:this.offsetYValue;this.recommendRef.style.top=e+50+"px",this.recommendRef.style.height=`calc(100% - ${e}px - 50px)`}}),this.endHomePage=(e=>{e.stopPropagation(),logger.info("endHomePage this.offsetYValue",this.offsetYValue),this.movingY&&this.offsetYValue>10?(this.movingY=!1,this.recommendRef.style.top="50px",this.getMoreRecommendSongs()):this.movingX=!1}),this.clockFunc=(()=>{let e=(new Date).getMinutes(),t=(new Date).getHours();e<10&&(e="0"+e),t<10&&(t="0"+t);let a="";t<6?a="凌晨好！":t<8?a="早上好！":t<11?a="上午好！":t<14?a="中午好！":t<17?a="下午好！":t<19?a="傍晚好！":t<24&&(a="晚上好！"),this.setState({greetingsWord:a})}),this.getAdsConfig=(()=>{let{skipTime:e}=this.state;logger.info("getAdsConfig skipTime",e),this.setState({skipTime:--e},()=>{setTimeout(()=>{this.checkUpdateFlag||(e<=1?(logger.info("skipTime",e),this.skip()):this.getAdsConfig())},1e3)})}),this.skip=(()=>{const{savedCurrentRoute:e}=this.props;if(this.setState({skipTime:0}),isCordova&&setTimeout(()=>{window.StatusBar.backgroundColorByHexString($.a.statusBarColor)},1),$dispatch(Object(E.d)(!0)),$dispatch(Object(R.s)(!1)),$dispatch(Object(E.l)(!1)),this.checkUpdateFlag||(this.checkUpdateFlag=!0,setTimeout(()=>{document.addEventListener("deviceready",this.checkUpdateSign,!1),isElectron&&Object(S.g)()},300)),e)return $dispatch(Object(R.C)("")),goRoute(this,e);q()}),this.listenBackKeyDown=(()=>{const{isFromLoginPage:e}=this.props;logger.info("this.props.isFromLoginPage",e),document.addEventListener("backbutton",this.onBackKeyDownSign,!1)}),this.dealWithLocation=(()=>{const{allowGetPosition:e}=this.props;isCordova?e&&document.addEventListener("deviceready",p.w,!1):e&&Object(p.u)(this)}),this.onBackKeyDownSign=(()=>{const e=this,{showUpdateConfirm:t}=this.props;t?(this.setState({showProgress:!1}),Object(S.j)("提示","确定要取消下载吗","确定",function(){e.setState({showProgress:!1},()=>{e.state.fileTransfer.abort&&e.state.fileTransfer.abort(),e.forceUpgrade&&Object(S.m)()})},()=>{e.setState({showProgress:!0}),$dispatch(Object(E.n)(!0))}),Promise.resolve().then(()=>{$dispatch(Object(E.n)(!1))})):Object(S.r)()}),this.checkUpdateSign=(()=>{var e=X(function*(e){const a=t,i=Date.now(),{appVersion:n}=t.props,s=yield Object(S.o)("last_close_update.txt",!0);return axios.get(j.a.checkUpdate.format({appVersion:n||!1,notCheckOutOfDateVersion:!0===e?"yes":"no"})).then((()=>{var e=X(function*(e){if(!e.data)return;const n=e.data;if(n.result&&n.result.outOfDate)return Object(S.j)("提示","当前app版本过低，必须升级才能继续使用","立即更新",function(){const e=Date.now()-2592e5;return a.writeFileFunc(e),a.forceUpgrade=!0,a.tooOldVersion=!0,a.checkUpdateSign(!0)},S.m);const o=n.version,r=n.appSize,l=n.MD5,d=n.content,m=n.forceUpgradeText||"因系统接口重大升级,必须更新app才能使用",u=n.alertNotice,g=n.confirmNotice,{appVersion:h}=t.props;if(t.forceUpgrade||(t.forceUpgrade=n.forceUpgrade),logger.info(`remote appVersion, ${o}`),logger.info(`local appVersion, ${h}`),u&&u.enable)yield new Promise(function(e){Object(S.a)("公告",u.content,"我知道了",e)});else if(g&&g.enable)return Object(S.j)("提示",g.content,g.confirmButton,function(){Object(S.s)(g.link)});if(n.disableUpdate)return logger.info("disableUpdate");if(o>h){if(logger.info("发现新版本 remoteAppVersion",o,"appVersion",h),s&&logger.info("(date - content.closeUpdateDate) / (1000 * 3600 * 24))",(i-s.closeUpdateDate)/864e3),$dispatch(Object(k.o)(!0)),(t.forceUpgrade||!s||(i-s.closeUpdateDate)/864e5>2)&&"/main/home"===getRoute())if(localStorage.removeItem("showInstallAppTip"),localStorage.removeItem("alreadyShowInstallAppTip"),t.forceUpgrade&&!t.tooOldVersion)Object(S.a)("提示",m,"知道了",function(){Object(S.j)("发现新版本",c.a.createElement(v.a,{list:d,remoteAppVersion:o,appSize:r}),"立即下载",function(){a.checkUpdate(j.a.appRelease,$.a.appName,l)},S.m)});else{const e=Date.now();a.writeFileFunc(e),Object(S.j)("发现新版本",c.a.createElement(v.a,{list:d,remoteAppVersion:o,appSize:r}),"立即下载",function(){a.checkUpdate(j.a.appRelease,$.a.appName,l)},function(){a.forceUpgrade&&Object(S.m)()})}else if(s&&(i-s.closeUpdateDate)/864e5<=2){const e=yield Object(p.g)($.a.appName);if(logger.info("silent upgrade download isAppExisted",e),"yes"===localStorage.getItem("showInstallAppTip")&&e&&"yes"!==localStorage.getItem("alreadyShowInstallAppTip"))return localStorage.setItem("alreadyShowInstallAppTip","yes"),Object(S.j)("提示","升级包已在wifi环境下准备就绪,是否立即安装","立即安装",function(){Object(p.A)({msg:"prepare to install by silent upgrade download"}),$dispatch(Object(R.r)(!0)),Object(T.a)()});"yes"!==localStorage.getItem("showInstallAppTip")&&"当前为Wi-Fi环境，更新无需移动流量"===window.getNetType()&&(Object(p.A)({msg:"start to download by silent upgrade download"}),window.resolveLocalFileSystemURL(cordova.file.externalApplicationStorageDirectory,function(e){e.getFile($.a.appName,{create:!0,exclusive:!1},function(e){let t=0;const a=new window.FileTransfer;a.onprogress=function(e){if(e.lengthComputable){const a=e.loaded/e.total;t=(100*a).toFixed(0)}},a.download(encodeURI(j.a.appRelease),e.nativeURL,function(e){(t>1||1===t)&&(localStorage.setItem("showInstallAppTip","yes"),logger.info("silent upgrade download success"))},function(e){alertDebug("silent upgrade download fail"),logger.error("silent upgrade download fail error",e)})})}))}}else logger.info("已是最新版本")});return function(t){return e.apply(this,arguments)}})()).catch(function(e){logger.error("checkUpdateSign err",e)})});return function(t){return e.apply(this,arguments)}})(),this.writeFileFunc=(e=>{let t=Object.assign({},{closeUpdateDate:e});t=JSON.stringify(t),t=(new window.Base64).encode(t),Object(S.B)(t,"last_close_update.txt",!1)}),this.checkUpdate=((e,t,a)=>{Object(p.e)(e,t,a,this.downloadAppFunc,this.preview,{exit:S.m,forceUpgrade:this.forceUpgrade})}),this.downloadAppFunc=((e,t,a)=>{const i=this;return Object(p.A)({msg:"start to upgrade app on home page"}),new Promise(function(n){window.resolveLocalFileSystemURL(cordova.file.externalApplicationStorageDirectory,function(s){s.getFile(t,{create:!0,exclusive:!1},function(t){const n=new window.FileTransfer;$dispatch(Object(E.n)(!0)),i.setState({showProgress:!0});let s=0;n.onprogress=function(e){if(e.lengthComputable){const t=e.loaded/e.total;s=(100*t).toFixed(0)}Object(S.k)(()=>{i.setState({progress:s,appSize:e.loaded,appTotalSize:e.total,fileTransfer:n})},200)()},n.download(encodeURI(e),t.nativeURL,function(e){(s>1||1===s)&&(i.setState({checkingPackage:!0}),setTimeout(()=>{window.md5chksum.file(t,function(n){logger.info("home page app package MD5SUM: "+n,"MD5",a),n===a?(i.setState({showProgress:!1,checkingPackage:!1}),$dispatch(Object(E.n)(!1)),Object(S.j)("提示","下载完成","立即安装",function(){e.file(e=>{Object(p.A)({msg:"start to install app in home page"}),i.preview(t,e.type)})},()=>{i.forceUpgrade&&Object(S.m)()})):(logger.error("home page MD5",a,"md5sum",n),i.setState({showProgress:!1,checkingPackage:!1}),$dispatch(Object(E.n)(!1)),Object(S.a)("提示","安装包已损坏，请重新安装"))},function(e){logger.error("home page Error-Message: "+e),i.setState({showProgress:!1,checkingPackage:!1}),$dispatch(Object(E.n)(!1)),Object(S.a)("提示","安装包已损坏，请重新安装")})},2e3))},function(e){logger.error("下载失败",e)})},function(e){s.getFile(t,{create:!1},function(e){n(i.preview(e))},function(e){logger.error("升级文件读取错误",e)})})},function(e){logger.error("文件系统加载失败！",e)})})}),this.preview=((e,t="application/vnd.android.package-archive")=>{this.forceUpgrade&&setTimeout(S.m,1e3),Object(p.I)(e,t)}),this.gotoUserProfile=(()=>{$dispatch(Object(R.u)(!0)),goRoute(this,"/user_profile")}),this.downloadApp=(()=>{this.cancelTips||($dispatch(Object(E.m)(!1)),Object(S.v)({filenameOrigin:"signPageAds",fileUrl:$.a.appDownloadUrl,folder:$.a.downloadAppFromPage}))}),this.cancelShowTip=(()=>{this.cancelTips=!0,$dispatch(Object(E.m)(!1))}),this.clickHomeSearch=(()=>{$dispatch(Object(R.t)(!0)),goRoute(this,"/search_all")}),this.moduleRoute=((e,t,a)=>{const{token:i,history:n}=this.props;$dispatch(Object(R.t)(!0)),"package_iframe"===e?n.push({pathname:"/package_iframe",query:{name:t,src:a}}):"/sign"!==e||i?window.goRoute(this,e):window.goRoute(this,"/login")}),this.getMoreRecommendSongs=(()=>{const{offlineState:e}=this.props;this.recommendRef.style.height="calc(100% - 91px)",requestAnimationFrame(this.scrollToTop),$dispatch(Object(R.x)(!0)),logger.info("getMoreRecommendSongs updateLoadingRecommendSongs true"),setTimeout(()=>{if(logger.info("getMoreRecommendSongs updateLoadingRecommendSongs false"),$dispatch(Object(R.x)(!1)),this.recommendRef.style.height="calc(100% - 50px)",e)return Toast.fail("请检查网络连接",$.a.toastTime);let{recommendTimes:t}=this.props;9===t&&(t=0),t++,$dispatch(Object(R.B)(t))},500)}),this.scrollToTop=(()=>{this.musicPlayerRef.current.scrollTop>0&&(this.musicPlayerRef.current.scrollTop=this.musicPlayerRef.current.scrollTop-30,this.musicPlayerRef.current.scrollTop>0&&requestAnimationFrame(this.scrollToTop))});const{adsTime:a,adNumber:i,isFromSignPage:n,fromResume:s,adPicSrc:o,loadedInWifi:r}=this.props;n&&$dispatch(Object(R.u)(!1));const l=localStorage.getItem("adsName"),d=localStorage.getItem("isWiFiNetwork");let m=r,u=o;this.fromResume=s,l&&d&&s&&(s&&$dispatch(Object(E.e)(!1)),localStorage.removeItem("adsName"),localStorage.removeItem("isWiFiNetwork"),window.downloadAdPicTimer||Object(P.a)(),m="yes"===d?"已wifi预加载":"",u=`/storage/emulated/0/miXingFeng/adPics/${l}`,$dispatch(Object(R.b)(u)),$dispatch(Object(R.w)(m))),this.offsetXValue=0,this.offsetYValue=0,this.offsetFirstXValue=0,this.offsetFirstYValue=0,this.movingX=!1,this.movingY=!1,this.musicPlayerRef=c.a.createRef(),this.state={skipTime:a||4,progress:0,appSize:100,appTotalSize:100,showProgress:!1,fileTransfer:{},checkingPackage:!1,loadedInWifi:m,adPicSrc:u||`./ads/ad${i}.png`,greetingsWord:""}}componentDidMount(){var e=this;return X(function*(){try{const{skipTime:t}=e.state,{directShowHomePage:a,alwaysShowAdsPage:i,token:n,isFromLoginPage:s,justOpenApp:o,fromResume:r,isFromSystemSetup:c,needRetryRequestWhenLaunch:l,alreadySignUpPersons:d,notSignUpPersons:u,offlineState:g}=e.props;if(c)return;if(yield Y(),i){logger.info("directShowHomePage",a);const i=localStorage.getItem("adsName"),n=localStorage.getItem("isWiFiNetwork");if(logger.info("adsName",i,"isWiFiNetwork",n,"fromResume",r),window.downloadAdPicTimer||i||n||Object(P.a)(),!a)if(localStorage.getItem("everLaunched")){m.a.preloadAll();try{logger.info("splashscreen.hide",typeof navigator.splashscreen),setTimeout(function(){navigator.splashscreen&&navigator.splashscreen.hide(),e.leftRectRef&&e.leftRectRef.style&&(e.leftRectRef.style.animation=`left ${t-.9}s linear`,e.rightRectRef.style.animation=`right ${t-.9}s linear`,e.leftRectRef.style["-webkit-animation"]=`left ${t-.9}s linear`,e.rightRectRef.style["-webkit-animation"]=`right ${t-.9}s linear`),logger.info("start ad page this.getAdsConfig skipTime",t),$dispatch(Object(E.l)(!0)),e.getAdsConfig()},100)}catch(e){logger.error("splashscreen err",e.stack||e.toString())}}else localStorage.setItem("everLaunched","true"),window.StatusBar&&window.StatusBar.backgroundColorByHexString($.a.statusBarColor),m.a.preloadAll(),$dispatch(Object(E.d)(!0)),$dispatch(Object(R.s)(!1)),setTimeout(function(){logger.info("splashscreen.hide",typeof navigator.splashscreen),navigator.splashscreen&&navigator.splashscreen.hide()},800)}else logger.info("componentDidMount alwaysShowAdsPage",i),m.a.preloadAll(),isCordova?setTimeout(function(){window.StatusBar.backgroundColorByHexString($.a.statusBarColor),document.addEventListener("deviceready",e.checkUpdateSign,!1),logger.info("splashscreen.hide",typeof navigator.splashscreen),navigator.splashscreen.hide()},800):isElectron&&Object(S.g)(),q();if(e.recommendRef.addEventListener("touchstart",e.startHomePage,!1),e.recommendRef.addEventListener("touchmove",e.moveHomePage,!1),e.recommendRef.addEventListener("touchend",e.endHomePage,!1),e.clockFunc(),document.addEventListener("deviceready",e.listenBackKeyDown),!o&&g)return;if(o||l)(new Date).getHours()<6&&setTimeout(function(){return alert("夜深了,请注意休息")},1e3*(t-1)),$dispatch(Object(E.f)(!1)),$dispatch(Object(E.r)((new Date).getDate())),A(),D(),U(),C(),H(),B(),V(),W(e);else{q();let e=!1;!n||d.length||u.length||(e=!0),logger.info("home isFromLoginPage",s),(s||e)&&(Object(p.S)(),Object(P.b)(),$dispatch(Object(N.e)(!1)))}e.dealWithLocation(),setTimeout(function(){Object(p.J)("homeSocket check")},3500),window.homeSocketInterval&&clearInterval(homeSocketInterval),window.homeSocketInterval=setInterval(function(){Object(p.J)("homeSocketInterval")},3e4)}catch(e){logger.error("home componentDidMount",e.stack||e.toString())}})()}componentWillUnmount(){const{isFromSystemSetup:e,loadingRecommendSongs:t}=this.props;document.removeEventListener("deviceready",this.listenBackKeyDown,!1),document.removeEventListener("backbutton",this.onBackKeyDownSign,!1),document.removeEventListener("deviceready",this.checkUpdateSign,!1),this.recommendRef.removeEventListener("touchstart",this.startHomePage,!1),this.recommendRef.removeEventListener("touchmove",this.moveHomePage,!1),this.recommendRef.removeEventListener("touchend",this.endHomePage,!1),e&&$dispatch(Object(R.v)(!1)),t&&$dispatch(Object(R.x)(!1))}render(){const{showProgress:e,skipTime:t,progress:a,appSize:i,appTotalSize:s,checkingPackage:r,loadedInWifi:l,adPicSrc:d,greetingsWord:m}=this.state,{username:u,token:g,setNickname:p,directShowHomePage:v,isFromSystemSetup:b,showDownloadAppTip:S,setMobile:j="",showAdsTransition:N,setHeadPic:P,replaceHeadPic:E,defaultSearchShortKey:k,topSong:R,recommendTimes:T,musicList:x,loadingRecommendSongs:F,offlineState:M}=this.props;let{headPicAddress:L}=this.props;const I=p||u||j||"";E&&(L=serverHost+"/"+P);let A=R.slice(15*(T-1),15*T);return A.length||F||(A=x.slice(0,10)),c.a.createElement("div",{className:"main-page"},c.a.createElement("div",{className:`home-page ${v?"show-home":"not-show-home"} ${this.fromResume?"from-resume-home":""}`},c.a.createElement(f.a,null),c.a.createElement("div",{className:"header"},c.a.createElement(o.a,{placeholder:`${k||"搜索"}`,className:"home-search",cancelText:"",onFocus:this.clickHomeSearch}),g?c.a.createElement("span",{className:"user",onClick:this.gotoUserProfile},!P||!L||M&&isH5?c.a.createElement("span",{className:"user-head-text"},I.slice(0,1).toUpperCase()):c.a.createElement("img",{className:"user-info-head-pic",src:L,alt:I.slice(0,1).toUpperCase()})):c.a.createElement("span",{className:"greetings"},m)),c.a.createElement("div",{className:"home-area"},isH5&&S?c.a.createElement("div",{className:"show-download-app-tips",onClick:this.downloadApp},c.a.createElement(n.a,{mode:"closable",onClick:e=>this.cancelShowTip(e)},"app打开体验更佳")):null,c.a.createElement("div",{className:"swiper-container"},c.a.createElement("div",{className:"swiper-wrapper"},$.b.map((e,t)=>c.a.createElement("div",{className:"swiper-slide",key:e.displayName||t},c.a.createElement("div",{className:"swiper-item"},c.a.createElement(O,{faName:e[0].faName,displayName:e[0].displayName,click:()=>this.moduleRoute(e[0].route,e[0].displayName,e[0].src),style:z({},e[0].style)}),c.a.createElement(O,{faName:e[1].faName,displayName:e[1].displayName,click:()=>this.moduleRoute(e[1].route,e[1].displayName,e[1].src),style:z({},e[1].style)})),c.a.createElement("div",{className:"swiper-item",style:{marginTop:"-15px"}},c.a.createElement(O,{faName:e[2].faName,displayName:e[2].displayName,click:()=>this.moduleRoute(e[2].route,e[2].displayName,e[2].src),style:z({},e[2].style)}),c.a.createElement(O,{faName:e[3].faName,displayName:e[3].displayName,click:()=>this.moduleRoute(e[3].route,e[3].displayName,e[3].src),style:z({},e[3].style)}))))),c.a.createElement("div",{className:"swiper-pagination"})),c.a.createElement("div",{className:`recommendation-container ${isH5&&S?"show-download-app-height":""}`},c.a.createElement("div",{className:"title"},c.a.createElement("div",{className:"text"},"为你推荐"),c.a.createElement("div",{className:"btn",onClick:this.getMoreRecommendSongs},"换一换")),c.a.createElement("div",{className:"recommend-content",ref:e=>this.recommendRef=e},F?c.a.createElement(y.a,{text:"正在为你推荐"}):null,c.a.createElement(w.a,{musicDataList:A,original:$.a.musicOriginal.homeRecommend,pageType:$.a.musicOriginal.homeRecommend,musicPlayerRef:this.musicPlayerRef,showBottomLine:!0,loadingRecommendSongs:F}))))),e?c.a.createElement(h,{percent:a,appSize:i,appTotalSize:s,checkingPackage:r}):"",c.a.createElement("div",{className:`ads-container ${v?"not-show-ads":""}\n\t\t\t\t\t\t${N?"show-ads-transition":""}\n\t\t\t\t\t\t${b?"is-from-system-setup":""}\n\t\t\t\t\t`},c.a.createElement("div",{className:"top-ads"},c.a.createElement("div",{className:"tip-text"},l),b?c.a.createElement("div",{className:"skip-ads",onClick:this.skip},"跳过"):c.a.createElement("div",{className:"rect-box",onClick:this.skip},c.a.createElement("div",{className:"rect left"},c.a.createElement("div",{className:"circle",ref:e=>this.leftRectRef=e})),c.a.createElement("div",{className:"rect right"},c.a.createElement("div",{className:"circle",ref:e=>this.rightRectRef=e})),c.a.createElement("div",{className:"skip-text"},"跳过 ",t)),c.a.createElement("img",{src:d,alt:"广告"}),c.a.createElement("div",{className:"ads-text"},"广告")),c.a.createElement("div",{className:"bottom-info"},c.a.createElement("div",{className:"bottom-content"},c.a.createElement("img",{className:"app-logo",src:"logo.png",alt:"logo"}),c.a.createElement("div",{className:"app-text"},c.a.createElement("div",{className:"app-name"},"觅星峰"),c.a.createElement("div",{className:"app-description"},"堪舆倒斗觅星峰"))))))}})}}]);