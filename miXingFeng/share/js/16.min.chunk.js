(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{214:function(e,t,a){"use strict";a(70),a(184)},215:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(a(12)),n=d(a(21)),r=d(a(14)),s=d(a(15)),l=d(a(13)),c=d(a(16)),o=d(a(24)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&(a[i[n]]=e[i[n]])}return a},f=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e,t,a=this.props,r=a.className,s=a.prefixCls,l=a.children,c=a.text,d=a.size,f=a.overflowCount,p=a.dot,g=a.corner,v=a.hot,O=m(a,["className","prefixCls","children","text","size","overflowCount","dot","corner","hot"]);f=f,c="number"==typeof c&&c>f?f+"+":c,p&&(c="");var b=(0,o.default)((e={},(0,n.default)(e,s+"-dot",p),(0,n.default)(e,s+"-dot-large",p&&"large"===d),(0,n.default)(e,s+"-text",!p&&!g),(0,n.default)(e,s+"-corner",g),(0,n.default)(e,s+"-corner-large",g&&"large"===d),e)),h=(0,o.default)(s,r,(t={},(0,n.default)(t,s+"-not-a-wrapper",!l),(0,n.default)(t,s+"-corner-wrapper",g),(0,n.default)(t,s+"-hot",!!v),(0,n.default)(t,s+"-corner-wrapper-large",g&&"large"===d),t));return u.createElement("span",{className:h},l,(c||p)&&u.createElement("sup",(0,i.default)({className:b},O),c))}}]),t}(u.Component);t.default=f,f.defaultProps={prefixCls:"am-badge",size:"small",overflowCount:99,dot:!1,corner:!1},e.exports=t.default},219:function(e,t,a){"use strict";a(70),a(214),a(187)},220:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(a(21)),n=f(a(12)),r=f(a(24)),s=m(a(0)),l=m(a(18)),c=f(a(105)),o=f(a(102)),u=f(a(221)),d=f(a(215));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var p="NORMAL",g="SHARE";function v(){}var O=[];function b(e,t,a){var m=(0,n.default)({prefixCls:"am-action-sheet",cancelButtonText:"取消"},t),f=m.prefixCls,v=m.className,b=m.transitionName,h=m.maskTransitionName,y=m.maskClosable,N=void 0===y||y,S=document.createElement("div");function E(){if(S){l.unmountComponentAtNode(S),S.parentNode&&S.parentNode.removeChild(S);var e=O.indexOf(E);-1!==e&&O.splice(e,1)}}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=a(e,t);i&&i.then?i.then(function(){E()}):E()}document.body.appendChild(S),O.push(E);var w=m.title,x=m.message,M=m.options,P=m.destructiveButtonIndex,k=m.cancelButtonIndex,$=m.cancelButtonText,_=m.badges,C=void 0===_?[]:_,T=[w?s.createElement("h3",{key:"0",className:f+"-title"},w):null,x?s.createElement("div",{key:"1",className:f+"-message"},x):null],F=null,I="normal";switch(e){case p:I="normal";var L=M,R={};C&&C.length>0&&C.forEach(function(e){e.index>=0&&(R[e.index]=s.createElement(d.default,e))}),F=s.createElement("div",(0,u.default)(m),T,s.createElement("div",{className:f+"-button-list",role:"group"},L.map(function(e,t){var a,l={className:(0,r.default)(f+"-button-list-item",(a={},(0,i.default)(a,f+"-destructive-button",P===t),(0,i.default)(a,f+"-cancel-button",k===t),a)),onClick:function(){return j(t)},role:"button"},c=s.createElement("div",l,e);R[t]&&(c=s.createElement("div",(0,n.default)({},l,{className:l.className+" "+f+"-button-list-badge"}),s.createElement("span",{className:f+"-button-list-item-content"},e),R[t]));var u=s.createElement(o.default,{key:t,activeClassName:f+"-button-list-item-active"},c);return k!==t&&P!==t||(u=s.createElement(o.default,{key:t,activeClassName:f+"-button-list-item-active"},s.createElement("div",l,e,k===t?s.createElement("span",{className:f+"-cancel-button-mask"}):null))),u})));break;case g:I="share";var A=M.length&&Array.isArray(M[0])||!1,B=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return s.createElement("div",{className:f+"-share-list-item",role:"button",key:t,onClick:function(){return j(t,a)}},s.createElement("div",{className:f+"-share-list-item-icon"},e.icon),s.createElement("div",{className:f+"-share-list-item-title"},e.title))};F=s.createElement("div",(0,u.default)(m),T,s.createElement("div",{className:f+"-share"},A?M.map(function(e,t){return s.createElement("div",{key:t,className:f+"-share-list"},e.map(function(e,a){return B(e,a,t)}))}):s.createElement("div",{className:f+"-share-list"},M.map(function(e,t){return B(e,t)})),s.createElement(o.default,{activeClassName:f+"-share-cancel-button-active"},s.createElement("div",{className:f+"-share-cancel-button",role:"button",onClick:function(){return j(-1)}},$))))}var D=(0,r.default)(f+"-"+I,v);return l.render(s.createElement(c.default,{visible:!0,title:"",footer:"",prefixCls:f,className:D,transitionName:b||"am-slide-up",maskTransitionName:h||"am-fade",onClose:function(){return j(k||-1)},maskClosable:N,wrapProps:m.wrapProps||{}},F),S),{close:E}}t.default={showActionSheetWithOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;b(p,e,t)},showShareActionSheetWithOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;b(g,e,t)},close:function(){O.forEach(function(e){return e()})}},e.exports=t.default},221:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e).reduce(function(t,a){return"aria-"!==a.substr(0,5)&&"data-"!==a.substr(0,5)&&"role"!==a||(t[a]=e[a]),t},{})},e.exports=t.default},222:function(e,t,a){"use strict";a(70),a(188)},223:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(a(12)),n=d(a(21)),r=d(a(14)),s=d(a(15)),l=d(a(13)),c=d(a(16)),o=d(a(24)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(0));function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,r.default)(this,t),(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(){this.noAppearTransition=!0}},{key:"componentDidMount",value:function(){var e=this;this.props.appearTransition&&setTimeout(function(){e.barRef&&(e.barRef.style.width=e.props.percent+"%")},10)}},{key:"render",value:function(){var e,t=this,a=this.props,r=a.className,s=a.prefixCls,l=a.position,c=a.unfilled,d=a.style,m=void 0===d?{}:d,f=a.barStyle,p=void 0===f?{}:f,g={width:this.noAppearTransition||!this.props.appearTransition?this.props.percent+"%":0,height:0},v=(0,o.default)(s+"-outer",r,(e={},(0,n.default)(e,s+"-fixed-outer","fixed"===l),(0,n.default)(e,s+"-hide-outer",!c),e));return u.createElement("div",{style:m,className:v,role:"progressbar","aria-valuenow":this.props.percent,"aria-valuemin":0,"aria-valuemax":100},u.createElement("div",{ref:function(e){return t.barRef=e},className:s+"-bar",style:(0,i.default)({},p,g)}))}}]),t}(u.Component);t.default=m,m.defaultProps={prefixCls:"am-progress",percent:0,position:"fixed",unfilled:!0,appearTransition:!1},e.exports=t.default},228:function(e,t,a){"use strict";a(222);var i=a(223),n=a.n(i),r=(a(219),a(220)),s=a.n(r),l=a(0),c=a.n(l),o=a(71),u=a(3),d=a(73),m=a(10),f=a(234),p=a(51),g=a(1),v=a(4),O=a(11),b=a(8),h=a(6),y=a(33),N=a(23);let S;new RegExp("\\biPhone\\b|\\biPod\\b","i").test(navigator.userAgent)&&(S={onTouchStart:e=>e.preventDefault()});t.a=Object(o.connect)(e=>({soundPlaying:e.fileServer.soundPlaying,soundInstance:e.fileServer.soundInstance,currentPlayingSong:e.fileServer.currentPlayingSong,currentSongTime:e.fileServer.currentSongTime,pauseWhenOver:e.fileServer.pauseWhenOver,playByOrder:e.fileServer.playByOrder,musicCollection:e.fileServer.musicCollection,musicMenuBadge:e.fileServer.musicMenuBadge,username:e.login.username,token:e.login.token,playByRandom:e.fileServer.playByRandom,lastMusicSearchResult:e.fileServer.lastMusicSearchResult,lastSearchAllMusicResult:e.fileServer.lastSearchAllMusicResult,downloadingMusicItems:e.fileServer.downloadingMusicItems,downloadedMusicList:e.fileServer.downloadedMusicList,currentPlayingSongOriginal:e.fileServer.currentPlayingSongOriginal,recentMusicList:e.fileServer.recentMusicList,musicPageType:e.fileServer.musicPageType,setMobile:e.myInfo.setMobile,showMusicPlayingFromMusicControl:e.fileServer.showMusicPlayingFromMusicControl,notExistMusicPlayingPage:e.fileServer.notExistMusicPlayingPage}),()=>({}))(({original:e,soundInstance:t,currentPlayingSong:a,currentSongTime:i,soundPlaying:r,pageType:o,pauseWhenOver:E,playByOrder:j,musicCollection:w=[],musicMenuBadge:x,username:M,token:P,playByRandom:k,setMobile:$,musicDataList:_,lastMusicSearchResult:C,lastSearchAllMusicResult:T,recentMusicList:F,noShowMusicPlaying:I=!1,myMusicPage:L=!1,searchMusicPage:R=!1,notExistMusicPlayingPage:A=!1,showBottomLine:B=!1,musicPlayerRef:D,loadingRecommendSongs:J=!1})=>{const q=Object(u.useHistory)(),[H,z]=Object(l.useState)(!0);Object(l.useEffect)(()=>(d.Howler.volume(.8),e!==h.a.musicOriginal.musicDownloading&&t&&Object(b.v)(),document.addEventListener("deviceready",U,!1),()=>{document.removeEventListener("deviceready",U,!1),document.removeEventListener("backbutton",W,!1)}),[]);const U=()=>{document.addEventListener("backbutton",W,!1)},W=()=>{if(!window.cancelMenuFirst&&!window.specialBack)if($getState().fileServer.showMusicPlayingFromMusicControl||Object(v.h)())Object(v.y)();else if(L)Object(v.b)("/my_download_middle_page",!0);else{if(!R)return;Object(v.b)("/search_column",!0)}},K=()=>{window.cancelMenuFirst=!0,document.addEventListener("backbutton",Z)},Y=()=>{window.cancelMenuFirst&&(window.cancelMenuFirst=!1,document.removeEventListener("backbutton",Z),document.removeEventListener("deviceready",K),document.addEventListener("backbutton",v.r))},Z=()=>{const e=document.querySelector(".am-action-sheet-button-list div:nth-last-child(1)");e&&e.click()},X=(e,t,a,i,n,r,s)=>{Object(v.j)("提示",c.a.createElement(p.a,{textFragment:`确定从本地删除 <span class="delete-alert">${e}</span> 吗`}),"确定",()=>Object(b.M)(Object(b.N)(t),"music").then(()=>{Q(r,t),t===a&&Object(b.r)(i,n,r,s)}).catch(e=>{logger.error("删除音乐过程中发生了错误 isFileFinished",e.stack||e.toString()),Object(v.q)(e,`musicPlayer removeFileFromDownload filenameOrigin: ${t}`)}))},Q=(e,t)=>{if(e===h.a.musicOriginal.musicSearch){let e,a;C.some((a,i)=>Object(b.N)(a.filenameOrigin)===Object(b.N)(t)&&(e=i,!0));const i=JSON.parse(JSON.stringify(C));i.splice(e,1),T.some((e,i)=>Object(b.N)(e.filenameOrigin)===Object(b.N)(t)&&(a=i,!0));const n=JSON.parse(JSON.stringify(T));n.splice(a,1),$dispatch(Object(g.w)(i)),$dispatch(Object(g.E)(n))}},G=Object(b.D)(_,H,h.a.showMusicNumberPerTime,z);Object(b.o)(G,o);const V=e===h.a.musicOriginal.musicDownloading;return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"music-list-container",ref:D},G.map((l,u)=>c.a.createElement("div",{className:"music-list",key:l.filenameOrigin,id:l.filenameOrigin.split(".")[0].match(/\w/g).join("")},c.a.createElement("div",{className:"music-content",onClick:()=>Object(b.p)({filePath:l.filePath,filename:l.filename,filenameOrigin:l.filenameOrigin,uploadUsername:l.uploadUsername,fileSize:l.fileSize,duration:l.duration,songOriginal:l.original,original:e,musicDataList:_,pageType:o,payPlay:Number(l.payPlay),musicId:l.id,songInfo:l})},c.a.createElement("div",{className:`num ${Object(v.d)(u+1)}`},u+1),c.a.createElement("div",{className:"music-info"},c.a.createElement("div",{className:`info ${l.saved&&o!==h.a.musicOriginal.savedSongs?"song-saved":""}`},c.a.createElement("div",{className:`filename ${V?l.saved?"downloading-save":"downloading":""}`,dangerouslySetInnerHTML:{__html:Object(b.t)(l.filename)}}),Number(l.payPlay)?c.a.createElement("i",{className:"fa fa-lock copyright-song-flag","aria-hidden":"true"}):"",l.saved&&o!==h.a.musicOriginal.savedSongs&&c.a.createElement("i",{className:"fa fa-heart saved-song-flag","aria-hidden":"true"}),(e===h.a.musicOriginal.savedSongs||e===h.a.musicOriginal.musicFinished||e===h.a.musicOriginal.musicRecent||e===h.a.musicOriginal.musicDownloading)&&(l.original===h.a.musicOriginal.netEaseCloud?c.a.createElement("div",{className:"net-ease-source-flag"},"网易云"):l.original===h.a.musicOriginal.qqMusic?c.a.createElement("div",{className:"qq-music-source-flag"},"QQ音乐"):l.original===h.a.musicOriginal.kuGouMusic?c.a.createElement("div",{className:"ku-gou-music-source-flag"},"酷狗音乐"):l.original===h.a.musicOriginal.kuWoMusic?c.a.createElement("div",{className:"ku-wo-music-source-flag"},"酷我音乐"):null),l.mvId?c.a.createElement("i",{className:"fa fa-youtube-play","aria-hidden":"true",onClick:e=>((e,t,a,i)=>{e.stopPropagation(),q.push({pathname:"/music_mv_Player",query:{mvId:t,original:a,filename:Object(b.O)(i),lastLocation:getRoute()}})})(e,l.mvId,l.original,l.filename)}):null,V?c.a.createElement("div",{className:"song-duration-time downloading"},l.progress):null),a===l.filenameOrigin?((e,t,a)=>c.a.createElement("div",{className:"audio-player"},c.a.createElement("audio",{preload:"auto",className:"audio-selector"},c.a.createElement("source",{src:e})),c.a.createElement("div",{className:"audio-player-time audio-player-time-current"},Object(b.X)(t)),c.a.createElement("div",{className:"audio-player-bar"},c.a.createElement("div",{className:"audio-player-bar-loaded",style:{width:"100%"}}),c.a.createElement("div",{className:"audio-player-bar-played",style:{width:t/a*100+"%"}})),c.a.createElement("div",{className:"audio-player-time audio-player-time-duration"},Object(b.X)(a))))(l.filePath,i,l.duration):c.a.createElement("div",{className:"upload-duration"},c.a.createElement("div",{className:`upload-user ${V?"downloading":""}`},l.uploadUsername||"未知",(t=>t?e!==h.a.musicOriginal.musicDownloading?("number"==typeof t&&(t=new Date(t).format("yyyy-MM-dd")),e===h.a.musicOriginal.musicShare||e===h.a.musicOriginal.musicSearch||e===h.a.musicOriginal.musicFinished?" "+t.split(" ")[0]:""):void 0:"")(l.date)),V?c.a.createElement("div",{className:"download-progress"},c.a.createElement(n.a,{percent:l.received?l.received/l.fileSize*100:0,position:"normal"})):c.a.createElement("div",{className:`song-duration-time ${Object(v.d)(u+1)}`},Object(b.X)(l.duration)))),!r&&e!==h.a.musicOriginal.musicDownloading&&a===l.filenameOrigin&&c.a.createElement("div",{className:"pause-button-overlay"},c.a.createElement("div",{className:"pause-button"},c.a.createElement("div",{className:"triangle"})))),e!==h.a.musicOriginal.musicDownloading?c.a.createElement("div",{className:"menu",onClick:((i,n,l,u,d,f,N,C,T,I,L,R)=>{document.removeEventListener("backbutton",v.r,!1),document.addEventListener("deviceready",K),i=Object(b.O)(i);const A=JSON.parse(JSON.stringify(x)),B=w.map(e=>Object(b.N)(e.filenameOrigin)),D=["播放",-1!==B.indexOf(Object(b.N)(l))?"已收藏":"收藏","单曲播放","单曲循环","顺序播放","随机播放","下载","删除","取消"];r&&l===a&&(D[0]="暂停"),I=e===h.a.musicOriginal.musicShare||e===h.a.musicOriginal.musicSearch?` ${I}`:"";const J={options:D,cancelButtonIndex:D.length-1,destructiveButtonIndex:D.length-2,badges:A,message:n?`大小: ${Object(b.c)(n)}${I}`:I,title:i,maskClosable:!0,"data-seed":"logId",wrapProps:S};e===h.a.musicOriginal.musicFinished?(D.splice(6,1),J.destructiveButtonIndex=D.length-2):(C&&A.push({index:6,text:"版"}),o!==h.a.musicOriginal.savedSongs&&"onlineMusic"!==o&&"onlineMusicSearchALl"!==o&&o!==h.a.musicOriginal.homeRecommend||(D.splice(7,1),delete J.destructiveButtonIndex)),s.a.showActionSheetWithOptions(J,r=>{logger.info("music player showMenu buttonIndex",r);const s=_.map(e=>e.filenameOrigin),S=s.indexOf(l);if(-1===S)return logger.error("showActionSheetWithOptions currentFileIndex === -1 filename",i),alert(i+"已被删除");const x=_[S].filePath;switch(r){case 0:Object(b.p)({filePath:x,filename:i,filenameOrigin:l,uploadUsername:u,fileSize:n,duration:d,songOriginal:f,original:e,musicDataList:_,pageType:o,payPlay:N,musicId:T,songInfo:R});break;case 1:Object(b.V)({savedMusicFilenameOriginalArr:B,filenameOrigin:l,musicCollection:w,musicDataList:_,currentFileIndex:S,original:e,e:null,pageType:o});break;case 2:(!E||j||k)&&(t&&t.loop(!1),$dispatch(Object(g.Y)(!0)),$dispatch(Object(g.Z)(!1)),$dispatch(Object(g.ab)(!1)),alert("单曲播放"),$dispatch(Object(g.K)([{index:2,text:"✔️"},{index:3,text:""},{index:4,text:""},{index:5,text:""}])));break;case 3:E&&(t&&t.loop(!0),$dispatch(Object(g.Y)(!1)),$dispatch(Object(g.Z)(!1)),$dispatch(Object(g.ab)(!1)),alert("单曲循环"),$dispatch(Object(g.K)([{index:2,text:""},{index:3,text:"✔️"},{index:4,text:""},{index:5,text:""}])));break;case 4:j||(t&&t.loop(!1),$dispatch(Object(g.Y)(!0)),$dispatch(Object(g.Z)(!0)),$dispatch(Object(g.ab)(!1)),alert("顺序播放"),$dispatch(Object(g.K)([{index:2,text:""},{index:3,text:""},{index:4,text:"✔️"},{index:5,text:""}])));break;case 5:k||(t&&t.loop(!1),$dispatch(Object(g.Y)(!0)),$dispatch(Object(g.Z)(!1)),$dispatch(Object(g.ab)(!0)),alert("随机播放"),$dispatch(Object(g.K)([{index:2,text:""},{index:3,text:""},{index:4,text:""},{index:5,text:"✔️"}])));break;case 6:if(e===h.a.musicOriginal.musicFinished)X(i,l,a,S,s,e,_);else{const e=x;Object(b.U)({musicDataList:_,filename:i,uploadUsername:u,fileSize:n,musicSrc:e,filenameOrigin:l,duration:d,songOriginal:f,musicId:T,payDownload:C,mvId:R.mvId})}break;case 7:{if(Y(),o===h.a.musicOriginal.savedSongs||"onlineMusic"===o||"onlineMusicSearchALl"===o||e===h.a.musicOriginal.musicFinished)return;if(!P)return goRoute(void 0,"/login");const t={username:M||$,token:P,filename:i,type:"default-music"};return void(e!==h.a.musicOriginal.musicShare&&e!==h.a.musicOriginal.musicSearch||"downloaded"===L?e===h.a.musicOriginal.musicRecent?Object(v.j)("提示",c.a.createElement(p.a,{textFragment:`确定要删除 <span class="delete-alert">${i}</span> 的播放记录吗`}),"确定",()=>{let t=null;if(F.some((e,a)=>e.filenameOrigin===l&&(t=a,!0)),null!==t){const i=JSON.parse(JSON.stringify(F));if(i.splice(t,1),$dispatch(Object(g.bb)(i)),Object(y.c)(l),l===a){const t=JSON.parse(JSON.stringify(F));Object(b.r)(S,s,e,t)}}else logger.error("确定要删除播放记录吗 filenameOrigin, recentMusicList",l,F)}):"downloaded"===L&&X(i,l,a,S,s,e,_):Object(v.j)("提示",c.a.createElement(p.a,{textFragment:`确定要从服务器删除 <span class="delete-alert">${i}</span> 吗`}),"确定",()=>(Object(v.A)(),axios.delete(m.a.delFile,{data:t}).then(t=>{if(window.toast.hide(),!window.cancelAxiosRequest)return"success"===t.data.result.result?($dispatch(Object(O.j)(t.data.result.token)),alert("删除成功"),Q(e,l)):"file_deleted"===t.data.result.result?(alert("文件已删除!"),Q(e,l)):void logger.error("HTTP_URL.delFile result",t)}).then(()=>{l===a&&Object(b.r)(S,s,e,_)}).catch(e=>{logger.error("HTTP_URL.delFile err",e),Object(v.q)(e,`musicPlayer delFile filenameOrigin: ${l}`)}).finally(()=>{window.cancelAxiosRequest=!1}))))}}Y()})}).bind(void 0,l.filename,l.fileSize,l.filenameOrigin,l.uploadUsername,l.duration,l.original,Number(l.payPlay),Number(l.payDownload),l.id,l.date,l.status,l)},c.a.createElement("div",{className:"dot"}),c.a.createElement("div",{className:"dot"}),c.a.createElement("div",{className:"dot"})):c.a.createElement("div",{className:"move-downloading-item fa fa-remove",onClick:((e,t)=>{Object(v.j)("提示",c.a.createElement(p.a,{textFragment:`确定要移除下载 <span class="delete-alert">${e}</span> 吗`}),"确定",()=>{const e=Object(b.N)(t);window.eventEmit.$emit(`FileTransfer-${e}`,"abort"),window[`remove-download-${e}`]=!0,setTimeout(()=>{},500);const{downloadingMusicItems:a}=$getState().fileServer,i=JSON.parse(JSON.stringify(a));for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e)&&a[e].filenameOrigin===t){i.splice(e,1),$dispatch(Object(g.n)(i)),Object(N.c)(t);break}logger.info("saveFileToLocal param, downloadingMusicItems",a)})}).bind(void 0,l.filename,l.filenameOrigin)}))),B&&!J?c.a.createElement("div",{className:"bottom-text"},"我是有底线的"):null),o===h.a.musicOriginal.savedSongs&&c.a.createElement("div",{className:"music-picture"}),!I&&!A&&c.a.createElement(f.default,{fromMusicControl:!0,myMusicPage:L,searchMusicPage:R}))})},512:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(71),s=a(3),l=a(228),c=a(204),o=a(6),u=a(8),d=a(33),m=a(4),f=a(1),p=a(2);t.default=Object(r.connect)(e=>({recentMusicList:e.fileServer.recentMusicList,musicPageType:e.fileServer.musicPageType,isFromHomeSearch:e.common.isFromHomeSearch}),()=>({}))(({recentMusicList:e,musicPageType:t,isFromHomeSearch:a})=>{const i=Object(s.useHistory)();let r=JSON.parse(JSON.stringify(e));return r=_.orderBy(r,["date"],["desc"]),n.a.createElement("div",{className:"recent-play-container"},n.a.createElement(c.a,{centerText:"最近播放",backToPreviousPage:()=>{a?($dispatch(Object(p.t)(!1)),i.push("/main/home")):window.cancelMenuFirst||i.push("/my_download_middle_page")},rightText:"清空",rightTextFunc:()=>{Object(m.j)("提示","确定要移除所有播放记录吗","确定",()=>{$dispatch(Object(f.bb)([])),e.forEach(e=>{Object(d.c)(e.filenameOrigin).catch(e=>{logger.error("clearAllMusicRecentRecords removeRecentMusicDataByIndexFromIndexDB file err",e)})}),t===o.a.musicOriginal.musicRecent&&(Object(u.ab)(),$dispatch(Object(f.b)({})),localStorage.removeItem("lastPlaySongInfo"),localStorage.removeItem("lastPlaySongPageType"),localStorage.removeItem("lastPlaySongMusicDataList")),e.length?alert("删除成功"):alert("没有记录可以删除")})}}),n.a.createElement("div",{className:"recent-play-content"},n.a.createElement(l.a,{musicDataList:r,original:o.a.musicOriginal.musicRecent,pageType:o.a.musicOriginal.musicRecent,myMusicPage:!0})))})}}]);