(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{203:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=(()=>i.a.createElement("div",{className:"top-status-bar"}))},204:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=a(203);t.a=(({centerText:e="",backToPreviousPage:t=(()=>{}),rightText:a="",rightTextFunc:l=(()=>{})})=>i.a.createElement(n.Fragment,null,i.a.createElement(s.a,null),i.a.createElement("div",{className:"navbar-container"},i.a.createElement("div",{className:"back-btn",onClick:t},i.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})),i.a.createElement("div",{className:"center-text"},e),i.a.createElement("div",{className:"other-text",onClick:l},a))))},208:function(e,t,a){"use strict";var n=a(0),i=a.n(n);const s=Object(n.forwardRef)((e,t)=>{const{type:a="text",placeholder:n="",value:s="",handleKeyDown:l=(()=>{}),handleChange:o=(()=>{}),maxLength:r=26,style:c={},handleClick:u=(()=>{}),handleBlur:d=(()=>{}),className:m}=e;return i.a.createElement("input",{className:`input-component ${m}`,type:a,placeholder:n,value:s,onKeyDown:l,onChange:o,maxLength:r,autoComplete:"off",style:c,onClick:u,onBlur:d,ref:t})});t.a=s},217:function(e,t,a){"use strict";a(70),a(103),a(185)},218:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(12)),i=p(a(21)),s=p(a(14)),l=p(a(15)),o=p(a(13)),r=p(a(16)),c=p(a(24)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(0)),d=p(a(102)),m=p(a(104));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(a[n[i]]=e[n[i]])}return a},h=/^[\u4e00-\u9fa5]{2}$/,b=h.test.bind(h);function v(e){return"string"==typeof e}function g(e){return v(e.type)&&b(e.props.children)?u.cloneElement(e,{},e.props.children.split("").join(" ")):v(e)?(b(e)&&(e=e.split("").join(" ")),u.createElement("span",null,e)):e}var y=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,r.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.children,s=t.className,l=t.prefixCls,o=t.type,r=t.size,p=t.inline,h=t.disabled,b=t.icon,v=t.loading,y=t.activeStyle,w=t.activeClassName,O=t.onClick,k=f(t,["children","className","prefixCls","type","size","inline","disabled","icon","loading","activeStyle","activeClassName","onClick"]),E=v?"loading":b,j=(0,c.default)(l,s,(e={},(0,i.default)(e,l+"-primary","primary"===o),(0,i.default)(e,l+"-ghost","ghost"===o),(0,i.default)(e,l+"-warning","warning"===o),(0,i.default)(e,l+"-small","small"===r),(0,i.default)(e,l+"-inline",p),(0,i.default)(e,l+"-disabled",h),(0,i.default)(e,l+"-loading",v),(0,i.default)(e,l+"-icon",!!E),e)),x=u.Children.map(a,g),_=void 0;if("string"==typeof E)_=u.createElement(m.default,{"aria-hidden":"true",type:E,size:"small"===r?"xxs":"md",className:l+"-icon"});else if(E){var C=E.props&&E.props.className,N=(0,c.default)("am-icon",l+"-icon","small"===r?"am-icon-xxs":"am-icon-md");_=u.cloneElement(E,{className:C?C+" "+N:N})}return u.createElement(d.default,{activeClassName:w||(y?l+"-active":void 0),disabled:h,activeStyle:y},u.createElement("a",(0,n.default)({role:"button",className:j},k,{onClick:h?void 0:O,"aria-disabled":h}),_,x))}}]),t}(u.Component);y.defaultProps={prefixCls:"am-button",size:"large",inline:!1,disabled:!1,loading:!1,activeStyle:{}},t.default=y,e.exports=t.default},505:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return f});a(217);var n=a(218),i=a.n(n),s=a(0),l=a.n(s),o=a(204),r=a(208),c=a(4),u=a(10),d=a(7),m=a(11),p=a(8);class f extends s.Component{constructor(e){super(e),this.listenBackButton=(()=>{document.addEventListener("backbutton",this.backKeyDownToPrevious,!1)}),this.backKeyDownToPrevious=(()=>{Object(c.c)(this,"/login",{specialBack:!0})}),this.backToMain=(()=>{Object(c.c)(this,"/login")}),this.forgetPasswordKeyDownEvent=(e=>{const t=e,{emailOrMobile:a}=this.state;if(13===t.keyCode){if(!a)return alert("手机号或邮箱不能为空");this.forgetPasswordFunc()}}),this.forgetPasswordFunc=(()=>{const{emailOrMobile:e}=this.state;let t,a;Object(p.f)(e)&&(t=!0),Object(p.k)(e)&&(a=!0);const{tryMobileOrEmailTimes:n=0}=$getState().common;if(n>=3)return alertDialog("您的操作太频繁，请稍后重试");if(!t&&!a)return alert("手机号或邮箱格式不正确");{const i={email:t&&e,mobile:a&&e};Object(c.A)(),axios.post(u.a.forgetPassword,i).then(t=>{if(window.toast.hide(),window.cancelAxiosRequest)return;const{result:a}=t.data;return"no_mobile_or_email"===a.response?alert("手机号或邮箱不能为空"):"no_such_email"===a.response?alert("邮箱不存在"):"no_such_mobile"===a.response?alert("手机号不存在"):void("send_email_success"===a.response?(Object(p.Z)(n),$dispatch(Object(m.c)("email")),alert("验证码已发送邮箱，请注意查收"),$dispatch(Object(d.p)(e)),$dispatch(Object(m.d)(!0)),logger.info("forgetPassword result.emailToken",a.emailToken),$dispatch(Object(m.b)(a.emailToken)),goRoute(this,"/check_email")):"send_mobile_success"===a.response&&(Object(p.Z)(n),$dispatch(Object(m.c)("mobile")),alert("验证码已发送，请注意查收"),$dispatch(Object(d.q)(e)),$dispatch(Object(m.d)(!0)),$dispatch(Object(m.b)(a.token)),goRoute(this,"/check_mobile")))}).catch(e=>(window.toast.hide(),Object(c.q)(e,"forgetPassword"))).finally(()=>{window.cancelAxiosRequest=!1})}}),this.updateValue=(e=>{this.setState({emailOrMobile:e.target.value})}),this.emailInput=Object(s.createRef)(),this.state={emailOrMobile:""}}componentDidMount(){this.emailInput.current&&this.emailInput.current.focus(),document.addEventListener("deviceready",this.listenBackButton,!1)}componentWillUnmount(){document.removeEventListener("deviceready",this.listenBackButton),document.removeEventListener("backbutton",this.backKeyDownToPrevious)}render(){const{emailOrMobile:e}=this.state;return l.a.createElement("div",{className:"forget-password-area"},l.a.createElement(o.a,{centerText:"忘记密码",backToPreviousPage:this.backToMain}),l.a.createElement("div",{className:"input-content"},l.a.createElement("div",{className:"content"},l.a.createElement(r.a,{placeholder:"请输入手机号或邮箱",handleKeyDown:this.forgetPasswordKeyDownEvent,handleChange:this.updateValue,ref:this.emailInput,value:e}))),l.a.createElement("div",{className:"reset-password-btn"},l.a.createElement(i.a,{type:"primary",className:"button",value:"提交",onClick:this.forgetPasswordFunc},"提交")))}}}}]);