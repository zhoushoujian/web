(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[49],{

/***/ "./src/components/child/statusBar.js":
/*!*******************************************!*\
  !*** ./src/components/child/statusBar.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/_react@16.13.1@react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst StatusBar = () => {\n\treturn react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", { className: \"top-status-bar\" });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (StatusBar);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jaGlsZC9zdGF0dXNCYXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvY2hpbGQvc3RhdHVzQmFyLmpzPzFlMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmNvbnN0IFN0YXR1c0JhciA9ICgpID0+IHtcclxuXHRyZXR1cm4gKFxyXG5cdFx0PGRpdiBjbGFzc05hbWU9XCJ0b3Atc3RhdHVzLWJhclwiPjwvZGl2PlxyXG5cdCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN0YXR1c0JhcjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFLQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/child/statusBar.js\n");

/***/ }),

/***/ "./src/components/fileManage.js":
/*!**************************************!*\
  !*** ./src/components/fileManage.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var antd_mobile_lib_action_sheet_style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd-mobile/lib/action-sheet/style/css */ \"./node_modules/_antd-mobile@2.3.1@antd-mobile/lib/action-sheet/style/css.js\");\n/* harmony import */ var antd_mobile_lib_action_sheet_style_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_mobile_lib_action_sheet_style_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var antd_mobile_lib_action_sheet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd-mobile/lib/action-sheet */ \"./node_modules/_antd-mobile@2.3.1@antd-mobile/lib/action-sheet/index.js\");\n/* harmony import */ var antd_mobile_lib_action_sheet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_mobile_lib_action_sheet__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/_react@16.13.1@react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/_react-router-dom@5.1.2@react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ \"./node_modules/_react-redux@7.2.0@react-redux/es/index.js\");\n/* harmony import */ var mime_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mime-types */ \"./node_modules/_mime-types@2.1.26@mime-types/index.js\");\n/* harmony import */ var mime_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(mime_types__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _logic_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../logic/common */ \"./src/logic/common/index.js\");\n/* harmony import */ var _services_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../services/utils */ \"./src/services/utils.js\");\n/* harmony import */ var _constants_httpRoute__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../constants/httpRoute */ \"./src/constants/httpRoute.js\");\n/* harmony import */ var _constants_enumeration__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constants/enumeration */ \"./src/constants/enumeration.js\");\n/* harmony import */ var _ducks_login__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ducks/login */ \"./src/ducks/login.js\");\n/* harmony import */ var _ducks_fileServer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ducks/fileServer */ \"./src/ducks/fileServer.js\");\n\n\nvar _this = undefined;\n\nfunction _asyncToGenerator(fn) {\n\treturn function () {\n\t\tvar gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n\t\t\tfunction step(key, arg) {\n\t\t\t\ttry {\n\t\t\t\t\tvar info = gen[key](arg);var value = info.value;\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);return;\n\t\t\t\t}if (info.done) {\n\t\t\t\t\tresolve(value);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.resolve(value).then(function (value) {\n\t\t\t\t\t\tstep(\"next\", value);\n\t\t\t\t\t}, function (err) {\n\t\t\t\t\t\tstep(\"throw\", err);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}return step(\"next\");\n\t\t});\n\t};\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst isIPhone = new RegExp('\\\\biPhone\\\\b|\\\\biPod\\\\b', 'i').test(window.navigator.userAgent);\nlet wrapProps;\nif (isIPhone) {\n\twrapProps = {\n\t\tonTouchStart: e => e.preventDefault()\n\t};\n}\n\nconst FileManage = ({\n\tusername,\n\ttoken,\n\tdownloadingFileList,\n\tdownloadedFileList,\n\tlastFileSearchResult,\n\tlastSearchAllFileResult,\n\tsetMobile,\n\tfileDataList = [],\n\toriginal\n}) => {\n\n\tconst history = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__[\"useHistory\"])();\n\tconst [firstRender, setFirstRender] = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(true);\n\tlet startToDeleteOnline = false;\n\n\tconst listenBackFunc = () => {\n\t\twindow.cancelMenuFirst = true;\n\t\tdocument.addEventListener(\"backbutton\", closeShowMenu, false);\n\t};\n\n\tconst removeListenBackFunc = () => {\n\t\twindow.cancelMenuFirst = false;\n\t\tdocument.removeEventListener(\"backbutton\", closeShowMenu);\n\t\tdocument.removeEventListener(\"deviceready\", listenBackFunc);\n\t\tdocument.addEventListener(\"backbutton\", _services_utils__WEBPACK_IMPORTED_MODULE_7__[\"onBackKeyDown\"], false);\n\t};\n\n\tconst closeShowMenu = () => {\n\t\twindow.cancelMenuFirst = false;\n\t\tconst musicMenuExisted = document.querySelector('.am-action-sheet-button-list div:nth-last-child(1)');\n\t\tif (musicMenuExisted) musicMenuExisted.click();\n\t\tif (musicMenuExisted) musicMenuExisted.click();\n\t};\n\n\tconst showMenu = (() => {\n\t\tvar _ref = _asyncToGenerator(function* (filename, fileSize, filePath, uploadUsername, filenameOrigin, date, status) {\n\t\t\ttry {\n\t\t\t\tdocument.removeEventListener(\"backbutton\", _services_utils__WEBPACK_IMPORTED_MODULE_7__[\"onBackKeyDown\"], false);\n\t\t\t\tdocument.addEventListener(\"deviceready\", listenBackFunc);\n\t\t\t\tfilename = Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"removeTagFromFilename\"])(filename);\n\t\t\t\tlet firstItem = \"下载\";\n\t\t\t\tlet isFileFinished = original === \"fileFinished\";\n\t\t\t\tif (isFileFinished) {\n\t\t\t\t\tfirstItem = \"打开\";\n\t\t\t\t} else if (original === \"fileShare\" || original === \"fileSearch\") {\n\t\t\t\t\tdownloadedFileList.some(function (item) {\n\t\t\t\t\t\tif (Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"removePrefixFromFileOrigin\"])(item.filenameOrigin) === Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"removePrefixFromFileOrigin\"])(filenameOrigin) && (!item.status || item.status === \"downloaded\")) {\n\t\t\t\t\t\t\tfirstItem = \"打开\";\n\t\t\t\t\t\t\tisFileFinished = true;\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst buttons = [firstItem, '分享', '删除', '取消'];\n\t\t\t\tif (original === \"fileDownloading\" || original === \"fileFinished\" || status === \"downloaded\") {\n\t\t\t\t\tbuttons.splice(1, 1);\n\t\t\t\t\tdate = \"\";\n\t\t\t\t} else if (original === \"fileShare\") {\n\t\t\t\t\tdate = ` ${date}`;\n\t\t\t\t}\n\t\t\t\tif (!window.isCordova && (original === \"fileShare\" || original === \"fileSearch\")) {\n\t\t\t\t\tbuttons.splice(1, 1);\n\t\t\t\t}\n\t\t\t\tconst showActionSheetWithOptionsConfig = {\n\t\t\t\t\toptions: buttons,\n\t\t\t\t\tcancelButtonIndex: buttons.length - 1,\n\t\t\t\t\tdestructiveButtonIndex: buttons.length - 2,\n\t\t\t\t\tmessage: `大小: ${Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"calcSize\"])(fileSize)}${date}`,\n\t\t\t\t\ttitle: filename,\n\t\t\t\t\tmaskClosable: true,\n\t\t\t\t\t'data-seed': 'logId',\n\t\t\t\t\twrapProps\n\t\t\t\t};\n\t\t\t\tantd_mobile_lib_action_sheet__WEBPACK_IMPORTED_MODULE_1___default.a.showActionSheetWithOptions(showActionSheetWithOptionsConfig, function (buttonIndex) {\n\t\t\t\t\tlogger.info(\"file manage showMenu buttonIndex\", buttonIndex);\n\t\t\t\t\tswitch (buttonIndex) {\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tif (isFileFinished) {\n\t\t\t\t\t\t\t\topenFileFunc(filename, filenameOrigin);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tObject(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"saveFileToLocalFunc\"])(filename, uploadUsername, fileSize, filePath, false, filenameOrigin, history, openFileFunc);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tif (original === \"fileFinished\" || status === \"downloaded\") {\n\t\t\t\t\t\t\t\tObject(_services_utils__WEBPACK_IMPORTED_MODULE_7__[\"confirm\"])(`提示`, `确定从本地删除${filename}吗`, \"确定\", function () {\n\t\t\t\t\t\t\t\t\tObject(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"removeFileFromDownload\"])(Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"removePrefixFromFileOrigin\"])(filenameOrigin), \"file\").then(function () {\n\t\t\t\t\t\t\t\t\t\tupdateSearchList(original, filenameOrigin);\n\t\t\t\t\t\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t\t\t\t\t\tlogger.error(\"删除文件过程中发生了错误 isFileFinished\", error.stack || error.toString());\n\t\t\t\t\t\t\t\t\t\tObject(_services_utils__WEBPACK_IMPORTED_MODULE_7__[\"networkErr\"])(error, `fileManage removeFileFromDownload filename ${filename}`);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (window.isCordova) {\n\t\t\t\t\t\t\t\tconst webpageUrl = `${_constants_enumeration__WEBPACK_IMPORTED_MODULE_9__[\"CONSTANT\"].appStaticDirectory}#/show_file_info?filename=${filename}&fileSize=${Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"calcSize\"])(fileSize)}&filePath=${filePath}`;\n\t\t\t\t\t\t\t\tObject(_services_utils__WEBPACK_IMPORTED_MODULE_7__[\"shareLinkToWeChat\"])({\n\t\t\t\t\t\t\t\t\ttitle: filename,\n\t\t\t\t\t\t\t\t\tdescription: \"我分享了一个文件,快来看看吧\",\n\t\t\t\t\t\t\t\t\tthumb: `${_constants_enumeration__WEBPACK_IMPORTED_MODULE_9__[\"CONSTANT\"].appStaticDirectory}logo.png`,\n\t\t\t\t\t\t\t\t\twebpageUrl\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tremoveFileFromServer(filename, filenameOrigin);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\tif (window.isCordova && (original === \"fileShare\" || original === \"fileSearch\") && status !== \"downloaded\") {\n\t\t\t\t\t\t\t\tremoveFileFromServer(filename, filenameOrigin);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tlogger.warn(\"buttonIndex default\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tremoveListenBackFunc();\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tlogger.error(\"fileManage showMenu err\", err);\n\t\t\t}\n\t\t});\n\n\t\treturn function showMenu(_x, _x2, _x3, _x4, _x5, _x6, _x7) {\n\t\t\treturn _ref.apply(this, arguments);\n\t\t};\n\t})();\n\n\tconst removeFileFromServer = (filename, filenameOrigin) => {\n\t\tif (!token) return window.goRoute(_this, \"/login\");\n\t\tconst dataInfo = {\n\t\t\tusername: username || setMobile,\n\t\t\ttoken,\n\t\t\tfilename,\n\t\t\ttype: \"default-file\"\n\t\t};\n\t\tObject(_services_utils__WEBPACK_IMPORTED_MODULE_7__[\"confirm\"])(`提示`, `确定从服务器删除${filename}吗`, \"确定\", () => {\n\t\t\tif (!startToDeleteOnline) {\n\t\t\t\tstartToDeleteOnline = true;\n\t\t\t\treturn axios.delete(_constants_httpRoute__WEBPACK_IMPORTED_MODULE_8__[\"HTTP_URL\"].delFile, { data: dataInfo }).then(response => {\n\t\t\t\t\tstartToDeleteOnline = false;\n\t\t\t\t\tif (response.data.result.result === 'file_deleted') {\n\t\t\t\t\t\talert(\"文件已删除!\");\n\t\t\t\t\t\t$dispatch(Object(_ducks_login__WEBPACK_IMPORTED_MODULE_10__[\"updateToken\"])(response.data.result.token));\n\t\t\t\t\t\treturn updateSearchList(original, filenameOrigin);\n\t\t\t\t\t} else if (response.data.result.result === 'success') {\n\t\t\t\t\t\talert(\"删除成功!\");\n\t\t\t\t\t\t$dispatch(Object(_ducks_login__WEBPACK_IMPORTED_MODULE_10__[\"updateToken\"])(response.data.result.token));\n\t\t\t\t\t\treturn updateSearchList(original, filenameOrigin);\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert(\"删除失败!\");\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tstartToDeleteOnline = false;\n\t\t\t\t\tlogger.error(\"删除文件过程中发生了错误\", error.stack || error.toString());\n\t\t\t\t\tObject(_services_utils__WEBPACK_IMPORTED_MODULE_7__[\"networkErr\"])(error, `delFile dataInfo: ${JSON.stringify(dataInfo)}`);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\tconst updateSearchList = (original, filenameOrigin) => {\n\t\tif (original === \"fileSearch\") {\n\t\t\tlet lastFileSearchResultIndex, lastSearchAllFileResultIndex;\n\t\t\tlastFileSearchResult.some((item, index) => {\n\t\t\t\tif (item.filenameOrigin === filenameOrigin) {\n\t\t\t\t\tlastFileSearchResultIndex = index;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst lastFileSearchResultCopy = JSON.parse(JSON.stringify(lastFileSearchResult));\n\t\t\tlastFileSearchResultCopy.splice(lastFileSearchResultIndex, 1);\n\t\t\tlastSearchAllFileResult.some((item, index) => {\n\t\t\t\tif (item.filenameOrigin === filenameOrigin) {\n\t\t\t\t\tlastSearchAllFileResultIndex = index;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst lastSearchAllFileResultCopy = JSON.parse(JSON.stringify(lastSearchAllFileResult));\n\t\t\tlastSearchAllFileResult.splice(lastSearchAllFileResultIndex, 1);\n\t\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_11__[\"updateLastFileSearchResult\"])(lastFileSearchResultCopy));\n\t\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_11__[\"updateLastSearchAllFileResult\"])(lastSearchAllFileResultCopy));\n\t\t}\n\t};\n\n\tconst openFileFunc = (filename, filenameOrigin) => {\n\t\tlet fileMine = mime_types__WEBPACK_IMPORTED_MODULE_5___default.a.lookup(filename);\n\t\tif (!fileMine) {\n\t\t\tfileMine = 'text/plain';\n\t\t\talert(\"不支持打开的的文件类型，请提交反馈\");\n\t\t}\n\t\tObject(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"openDownloadedFile\"])(filename, fileMine, Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"removePrefixFromFileOrigin\"])(filenameOrigin));\n\t};\n\n\tconst removeDownloadItem = (filename, filenameOrigin) => {\n\t\tObject(_services_utils__WEBPACK_IMPORTED_MODULE_7__[\"confirm\"])('提示', `确定要移除下载${filename}吗`, \"确定\", () => {\n\t\t\tlogger.info(\"removePrefixFromFileOrigin(filenameOrigin)\", Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"removePrefixFromFileOrigin\"])(filenameOrigin));\n\t\t\twindow.eventEmit.$emit(`FileTransfer-${Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"removePrefixFromFileOrigin\"])(filenameOrigin)}`, 'abort', [\"file\", filenameOrigin]);\n\t\t});\n\t};\n\n\tconst dealWithFileUploadTime = date => {\n\t\tif (!date) return \"\";\n\t\tif (original === \"fileDownloading\") return \"\";\n\t\tif (typeof date === \"number\") {\n\t\t\tdate = new Date(date).format(\"yyyy-MM-dd\");\n\t\t}\n\t\treturn \" \" + date.split(\" \")[0];\n\t};\n\n\tconst downloadOrOpenFile = (() => {\n\t\tvar _ref2 = _asyncToGenerator(function* (filename, uploadUsername, fileSize, filePath, filenameOrigin) {\n\t\t\tif (original === \"fileFinished\") {\n\t\t\t\topenFileFunc(filename, filenameOrigin);\n\t\t\t} else if (original === \"fileShare\" || original === \"fileSearch\") {\n\t\t\t\tyield Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"saveFileToLocalFunc\"])(filename, uploadUsername, fileSize, filePath, false, filenameOrigin, history, openFileFunc);\n\t\t\t} else if (original === \"fileDownloading\") {\n\t\t\t\tdownloadingFileList.some(function (item) {\n\t\t\t\t\tif (item.filenameOrigin === filenameOrigin) {\n\t\t\t\t\t\tfilenameOrigin = filenameOrigin.replace(/^downloading_/, \"\");\n\t\t\t\t\t\tlogger.info(\"downloadOrOpenFile filenameOrigin\", filenameOrigin);\n\t\t\t\t\t\tif (item.progress === \"失败\" || item.progress === \"已取消\") {\n\t\t\t\t\t\t\tObject(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"saveFileToLocalFunc\"])(filename, uploadUsername, fileSize, filePath, true, filenameOrigin, history, openFileFunc);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.eventEmit.$emit(`FileTransfer-${filenameOrigin}`, 'abort');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn function downloadOrOpenFile(_x8, _x9, _x10, _x11, _x12) {\n\t\t\treturn _ref2.apply(this, arguments);\n\t\t};\n\t})();\n\n\tconst fileDataListCopy = Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"optimizeLoadPerformance\"])(fileDataList, firstRender, _constants_enumeration__WEBPACK_IMPORTED_MODULE_9__[\"CONSTANT\"].showFileNumberPerTime, setFirstRender);\n\treturn react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: `file-manage-container` }, fileDataListCopy.map((item, index) => react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"file-list\", key: item.filenameOrigin }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: `file-content ${original === \"fileDownloading\" && \"downloading\"}`, onClick: downloadOrOpenFile.bind(_this, item.filename, item.uploadUsername, item.fileSize, item.filePath, item.filenameOrigin) }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"num\" }, index + 1), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"file-info\" }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: `info ${original === \"fileFinished\" ? \"center\" : \"\"} ${item.downloaded ? \"downloaded\" : \"\"}` }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"filename\", dangerouslySetInnerHTML: { __html: item.filename } }), item.downloaded && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"downloaded-text\" }, \"\\u5DF2\\u4E0B\\u8F7D\")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"upload-info\" }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"upload-user\" }, `${original !== \"fileFinished\" ? item.uploadUsername : \"\"}${dealWithFileUploadTime(item.date)}`), original === \"fileShare\" || original === \"fileSearch\" ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"file-size\" }, Object(_logic_common__WEBPACK_IMPORTED_MODULE_6__[\"calcSize\"])(item.fileSize)) : original === \"fileDownloading\" ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"file-size\" }, item.progress) : null))), original !== \"fileDownloading\" ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"menu\", onClick: showMenu.bind(_this, item.filename, item.fileSize, item.filePath, item.uploadUsername, item.filenameOrigin, item.date, item.status) }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"dot\" }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"dot\" }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"dot\" })) : react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", { className: \"move-downloading-item fa fa-remove\", onClick: removeDownloadItem.bind(_this, item.filename, item.filenameOrigin) }))));\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tusername: state.login.username,\n\t\ttoken: state.login.token,\n\t\tdownloadingFileList: state.fileServer.downloadingFileList,\n\t\tlastFileSearchResult: state.fileServer.lastFileSearchResult,\n\t\tlastSearchAllFileResult: state.fileServer.lastSearchAllFileResult,\n\t\tsetMobile: state.myInfo.setMobile,\n\t\tdownloadedFileList: state.fileServer.downloadedFileList\n\t};\n};\n\nconst mapDispatchToProps = () => ({});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_4__[\"connect\"])(mapStateToProps, mapDispatchToProps)(FileManage));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9maWxlTWFuYWdlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2ZpbGVNYW5hZ2UuanM/OTI0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSAgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiXHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIlxyXG5pbXBvcnQgeyBBY3Rpb25TaGVldCB9IGZyb20gJ2FudGQtbW9iaWxlJ1xyXG5pbXBvcnQgTUlORSBmcm9tIFwibWltZS10eXBlc1wiXHJcbmltcG9ydCB7IGNhbGNTaXplIH0gZnJvbSBcIi4uL2xvZ2ljL2NvbW1vblwiXHJcbmltcG9ydCB7IG5ldHdvcmtFcnIsIGNvbmZpcm0sIG9uQmFja0tleURvd24sIHNoYXJlTGlua1RvV2VDaGF0IH0gZnJvbSBcIi4uL3NlcnZpY2VzL3V0aWxzXCJcclxuaW1wb3J0IHsgSFRUUF9VUkwgfSBmcm9tIFwiLi4vY29uc3RhbnRzL2h0dHBSb3V0ZVwiXHJcbmltcG9ydCB7IENPTlNUQU5UIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9lbnVtZXJhdGlvblwiXHJcbmltcG9ydCB7IHVwZGF0ZVRva2VuIH0gZnJvbSBcIi4uL2R1Y2tzL2xvZ2luXCJcclxuaW1wb3J0IHsgb3BlbkRvd25sb2FkZWRGaWxlLCByZW1vdmVGaWxlRnJvbURvd25sb2FkLCBvcHRpbWl6ZUxvYWRQZXJmb3JtYW5jZSwgcmVtb3ZlUHJlZml4RnJvbUZpbGVPcmlnaW4sIHNhdmVGaWxlVG9Mb2NhbEZ1bmMsIHJlbW92ZVRhZ0Zyb21GaWxlbmFtZSB9IGZyb20gXCIuLi9sb2dpYy9jb21tb25cIlxyXG5pbXBvcnQgeyB1cGRhdGVMYXN0RmlsZVNlYXJjaFJlc3VsdCwgdXBkYXRlTGFzdFNlYXJjaEFsbEZpbGVSZXN1bHQgfSBmcm9tIFwiLi4vZHVja3MvZmlsZVNlcnZlclwiXHJcblxyXG5jb25zdCBpc0lQaG9uZSA9IG5ldyBSZWdFeHAoJ1xcXFxiaVBob25lXFxcXGJ8XFxcXGJpUG9kXFxcXGInLCAnaScpLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5sZXQgd3JhcFByb3BzO1xyXG5pZiAoaXNJUGhvbmUpIHtcclxuXHR3cmFwUHJvcHMgPSB7XHJcblx0XHRvblRvdWNoU3RhcnQ6IGUgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxyXG5cdH07XHJcbn1cclxuXHJcbmNvbnN0IEZpbGVNYW5hZ2UgPSAoe1xyXG5cdFx0dXNlcm5hbWUsXHJcblx0XHR0b2tlbixcclxuXHRcdGRvd25sb2FkaW5nRmlsZUxpc3QsXHJcblx0XHRkb3dubG9hZGVkRmlsZUxpc3QsXHJcblx0XHRsYXN0RmlsZVNlYXJjaFJlc3VsdCxcclxuXHRcdGxhc3RTZWFyY2hBbGxGaWxlUmVzdWx0LFxyXG5cdFx0c2V0TW9iaWxlLFxyXG5cdFx0ZmlsZURhdGFMaXN0ID0gW10sXHJcblx0XHRvcmlnaW5hbFxyXG5cdH0pID0+IHtcclxuXHJcblx0Y29uc3QgaGlzdG9yeSA9IHVzZUhpc3RvcnkoKVxyXG5cdGNvbnN0IFsgZmlyc3RSZW5kZXIsIHNldEZpcnN0UmVuZGVyIF0gPSB1c2VTdGF0ZSh0cnVlKVxyXG5cdGxldCBzdGFydFRvRGVsZXRlT25saW5lID0gZmFsc2VcclxuXHJcblx0Y29uc3QgbGlzdGVuQmFja0Z1bmMgPSAoKSA9PiB7XHJcblx0XHR3aW5kb3cuY2FuY2VsTWVudUZpcnN0ID0gdHJ1ZVxyXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImJhY2tidXR0b25cIiwgY2xvc2VTaG93TWVudSwgZmFsc2UpO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgcmVtb3ZlTGlzdGVuQmFja0Z1bmMgPSAoKSA9PiB7XHJcblx0XHR3aW5kb3cuY2FuY2VsTWVudUZpcnN0ID0gZmFsc2VcclxuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiYWNrYnV0dG9uXCIsIGNsb3NlU2hvd01lbnUpO1xyXG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRldmljZXJlYWR5XCIsIGxpc3RlbkJhY2tGdW5jKTtcclxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJiYWNrYnV0dG9uXCIsIG9uQmFja0tleURvd24sIGZhbHNlKTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGNsb3NlU2hvd01lbnUgPSAoKSA9PiB7XHJcblx0XHR3aW5kb3cuY2FuY2VsTWVudUZpcnN0ID0gZmFsc2VcclxuXHRcdGNvbnN0IG11c2ljTWVudUV4aXN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYW0tYWN0aW9uLXNoZWV0LWJ1dHRvbi1saXN0IGRpdjpudGgtbGFzdC1jaGlsZCgxKScpXHJcblx0XHRpZihtdXNpY01lbnVFeGlzdGVkKSBtdXNpY01lbnVFeGlzdGVkLmNsaWNrKCk7XHJcblx0XHRpZihtdXNpY01lbnVFeGlzdGVkKSBtdXNpY01lbnVFeGlzdGVkLmNsaWNrKCk7XHJcblx0fVxyXG5cclxuXHRjb25zdCBzaG93TWVudSA9IGFzeW5jKGZpbGVuYW1lLCBmaWxlU2l6ZSwgZmlsZVBhdGgsIHVwbG9hZFVzZXJuYW1lLCBmaWxlbmFtZU9yaWdpbiwgZGF0ZSwgc3RhdHVzKSA9PiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmFja2J1dHRvblwiLCBvbkJhY2tLZXlEb3duLCBmYWxzZSk7XHJcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VyZWFkeVwiLCBsaXN0ZW5CYWNrRnVuYyk7XHJcblx0XHRcdGZpbGVuYW1lID0gcmVtb3ZlVGFnRnJvbUZpbGVuYW1lKGZpbGVuYW1lKVxyXG5cdFx0XHRsZXQgZmlyc3RJdGVtID0gXCLkuIvovb1cIjtcclxuXHRcdFx0bGV0IGlzRmlsZUZpbmlzaGVkID0gKG9yaWdpbmFsID09PSBcImZpbGVGaW5pc2hlZFwiKVxyXG5cdFx0XHRpZihpc0ZpbGVGaW5pc2hlZCl7XHJcblx0XHRcdFx0Zmlyc3RJdGVtID0gXCLmiZPlvIBcIlxyXG5cdFx0XHR9IGVsc2UgaWYob3JpZ2luYWwgPT09IFwiZmlsZVNoYXJlXCIgfHwgb3JpZ2luYWwgPT09IFwiZmlsZVNlYXJjaFwiKXtcclxuXHRcdFx0XHRkb3dubG9hZGVkRmlsZUxpc3Quc29tZSgoaXRlbSkgPT4ge1xyXG5cdFx0XHRcdFx0aWYocmVtb3ZlUHJlZml4RnJvbUZpbGVPcmlnaW4oaXRlbS5maWxlbmFtZU9yaWdpbikgPT09IHJlbW92ZVByZWZpeEZyb21GaWxlT3JpZ2luKGZpbGVuYW1lT3JpZ2luKSAmJiAoIWl0ZW0uc3RhdHVzIHx8IGl0ZW0uc3RhdHVzID09PSBcImRvd25sb2FkZWRcIikpe1xyXG5cdFx0XHRcdFx0XHRmaXJzdEl0ZW0gPSBcIuaJk+W8gFwiXHJcblx0XHRcdFx0XHRcdGlzRmlsZUZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCBidXR0b25zID0gW2ZpcnN0SXRlbSwgJ+WIhuS6qycsICfliKDpmaQnLCAn5Y+W5raIJ107XHJcblx0XHRcdGlmKG9yaWdpbmFsID09PSBcImZpbGVEb3dubG9hZGluZ1wiIHx8IG9yaWdpbmFsID09PSBcImZpbGVGaW5pc2hlZFwiIHx8IHN0YXR1cyA9PT0gXCJkb3dubG9hZGVkXCIpe1xyXG5cdFx0XHRcdGJ1dHRvbnMuc3BsaWNlKDEsIDEpXHJcblx0XHRcdFx0ZGF0ZSA9IFwiXCJcclxuXHRcdFx0fSBlbHNlIGlmKG9yaWdpbmFsID09PSBcImZpbGVTaGFyZVwiKSB7XHJcblx0XHRcdFx0ZGF0ZSA9IGAgJHtkYXRlfWBcclxuXHRcdFx0fVxyXG5cdFx0XHRpZighd2luZG93LmlzQ29yZG92YSAmJiAob3JpZ2luYWwgPT09IFwiZmlsZVNoYXJlXCIgfHwgb3JpZ2luYWwgPT09IFwiZmlsZVNlYXJjaFwiKSl7XHJcblx0XHRcdFx0YnV0dG9ucy5zcGxpY2UoMSwgMSlcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCBzaG93QWN0aW9uU2hlZXRXaXRoT3B0aW9uc0NvbmZpZyA9IHtcclxuXHRcdFx0XHRvcHRpb25zOiBidXR0b25zLFxyXG5cdFx0XHRcdGNhbmNlbEJ1dHRvbkluZGV4OiBidXR0b25zLmxlbmd0aCAtIDEsXHJcblx0XHRcdFx0ZGVzdHJ1Y3RpdmVCdXR0b25JbmRleDogIGJ1dHRvbnMubGVuZ3RoIC0gMixcclxuXHRcdFx0XHRtZXNzYWdlOiBg5aSn5bCPOiAke2NhbGNTaXplKGZpbGVTaXplKX0ke2RhdGV9YCxcclxuXHRcdFx0XHR0aXRsZTogZmlsZW5hbWUsXHJcblx0XHRcdFx0bWFza0Nsb3NhYmxlOiB0cnVlLFxyXG5cdFx0XHRcdCdkYXRhLXNlZWQnOiAnbG9nSWQnLFxyXG5cdFx0XHRcdHdyYXBQcm9wcyxcclxuXHRcdFx0fVxyXG5cdFx0XHRBY3Rpb25TaGVldC5zaG93QWN0aW9uU2hlZXRXaXRoT3B0aW9ucyhcclxuXHRcdFx0XHRzaG93QWN0aW9uU2hlZXRXaXRoT3B0aW9uc0NvbmZpZyxcclxuXHRcdFx0XHQoYnV0dG9uSW5kZXgpID0+IHtcclxuXHRcdFx0XHRcdGxvZ2dlci5pbmZvKFwiZmlsZSBtYW5hZ2Ugc2hvd01lbnUgYnV0dG9uSW5kZXhcIiwgYnV0dG9uSW5kZXgpXHJcblx0XHRcdFx0XHRzd2l0Y2goYnV0dG9uSW5kZXgpe1xyXG5cdFx0XHRcdFx0XHRjYXNlIDA6XHJcblx0XHRcdFx0XHRcdFx0aWYoaXNGaWxlRmluaXNoZWQpe1xyXG5cdFx0XHRcdFx0XHRcdFx0b3BlbkZpbGVGdW5jKGZpbGVuYW1lLCBmaWxlbmFtZU9yaWdpbilcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2F2ZUZpbGVUb0xvY2FsRnVuYyhmaWxlbmFtZSwgdXBsb2FkVXNlcm5hbWUsIGZpbGVTaXplLCBmaWxlUGF0aCwgZmFsc2UsIGZpbGVuYW1lT3JpZ2luLCBoaXN0b3J5LCBvcGVuRmlsZUZ1bmMpXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRjYXNlIDE6XHJcblx0XHRcdFx0XHRcdFx0Ly8g5Y+q5pyJ5Zyo5bey5LiL6L296aG16Z2i55qE5Yig6Zmk5omN6IO95Yig6Zmk5bey5LiL6L2955qE5paH5Lu277yM5YW25LuW55qE6aG16Z2i5Yig6Zmk6YO95piv5Yig6Zmk5pyN5Yqh5Zmo5LiK55qE5paH5Lu2XHJcblx0XHRcdFx0XHRcdFx0aWYob3JpZ2luYWwgPT09IFwiZmlsZUZpbmlzaGVkXCIgfHwgc3RhdHVzID09PSBcImRvd25sb2FkZWRcIil7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25maXJtKGDmj5DnpLpgLCBg56Gu5a6a5LuO5pys5Zyw5Yig6ZmkJHtmaWxlbmFtZX3lkJdgLCBcIuehruWumlwiLCAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJlbW92ZUZpbGVGcm9tRG93bmxvYWQocmVtb3ZlUHJlZml4RnJvbUZpbGVPcmlnaW4oZmlsZW5hbWVPcmlnaW4pLCBcImZpbGVcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1cGRhdGVTZWFyY2hMaXN0KG9yaWdpbmFsLCBmaWxlbmFtZU9yaWdpbilcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5jYXRjaChlcnJvciA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsb2dnZXIuZXJyb3IoXCLliKDpmaTmlofku7bov4fnqIvkuK3lj5HnlJ/kuobplJnor68gaXNGaWxlRmluaXNoZWRcIiwgZXJyb3Iuc3RhY2t8fGVycm9yLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bmV0d29ya0VycihlcnJvciwgYGZpbGVNYW5hZ2UgcmVtb3ZlRmlsZUZyb21Eb3dubG9hZCBmaWxlbmFtZSAke2ZpbGVuYW1lfWApO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZih3aW5kb3cuaXNDb3Jkb3ZhKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjb25zdCB3ZWJwYWdlVXJsID1gJHtDT05TVEFOVC5hcHBTdGF0aWNEaXJlY3Rvcnl9Iy9zaG93X2ZpbGVfaW5mbz9maWxlbmFtZT0ke2ZpbGVuYW1lfSZmaWxlU2l6ZT0ke2NhbGNTaXplKGZpbGVTaXplKX0mZmlsZVBhdGg9JHtmaWxlUGF0aH1gXHJcblx0XHRcdFx0XHRcdFx0XHRzaGFyZUxpbmtUb1dlQ2hhdCh7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlOiBmaWxlbmFtZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246IFwi5oiR5YiG5Lqr5LqG5LiA5Liq5paH5Lu2LOW/q+adpeeci+eci+WQp1wiLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aHVtYjogYCR7Q09OU1RBTlQuYXBwU3RhdGljRGlyZWN0b3J5fWxvZ28ucG5nYCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0d2VicGFnZVVybFxyXG5cdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVtb3ZlRmlsZUZyb21TZXJ2ZXIoZmlsZW5hbWUsIGZpbGVuYW1lT3JpZ2luKVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSAyOlxyXG5cdFx0XHRcdFx0XHRcdGlmKHdpbmRvdy5pc0NvcmRvdmEgJiYgKG9yaWdpbmFsID09PSBcImZpbGVTaGFyZVwiIHx8IG9yaWdpbmFsID09PSBcImZpbGVTZWFyY2hcIikgJiYgc3RhdHVzICE9PSBcImRvd25sb2FkZWRcIil7XHJcblx0XHRcdFx0XHRcdFx0XHRyZW1vdmVGaWxlRnJvbVNlcnZlcihmaWxlbmFtZSwgZmlsZW5hbWVPcmlnaW4pXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0XHRcdGxvZ2dlci53YXJuKFwiYnV0dG9uSW5kZXggZGVmYXVsdFwiKVxyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmVtb3ZlTGlzdGVuQmFja0Z1bmMoKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHRcdH0gY2F0Y2goZXJyKXtcclxuXHRcdFx0bG9nZ2VyLmVycm9yKFwiZmlsZU1hbmFnZSBzaG93TWVudSBlcnJcIiwgZXJyKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y29uc3QgcmVtb3ZlRmlsZUZyb21TZXJ2ZXIgPSAoZmlsZW5hbWUsIGZpbGVuYW1lT3JpZ2luKSA9PiB7XHJcblx0XHRpZighdG9rZW4pIHJldHVybiB3aW5kb3cuZ29Sb3V0ZSh0aGlzLCBcIi9sb2dpblwiKVxyXG5cdFx0Y29uc3QgZGF0YUluZm8gPSB7XHJcblx0XHRcdHVzZXJuYW1lOiB1c2VybmFtZSB8fCBzZXRNb2JpbGUsXHJcblx0XHRcdHRva2VuLFxyXG5cdFx0XHRmaWxlbmFtZSxcclxuXHRcdFx0dHlwZTogXCJkZWZhdWx0LWZpbGVcIlxyXG5cdFx0fVxyXG5cdFx0Y29uZmlybShg5o+Q56S6YCwgYOehruWumuS7juacjeWKoeWZqOWIoOmZpCR7ZmlsZW5hbWV95ZCXYCwgXCLnoa7lrppcIiwgKCkgPT4ge1xyXG5cdFx0XHRpZighc3RhcnRUb0RlbGV0ZU9ubGluZSl7XHJcblx0XHRcdFx0c3RhcnRUb0RlbGV0ZU9ubGluZSA9IHRydWVcclxuXHRcdFx0XHRyZXR1cm4gYXhpb3MuZGVsZXRlKEhUVFBfVVJMLmRlbEZpbGUsIHtkYXRhOiBkYXRhSW5mb30pXHJcblx0XHRcdFx0XHQudGhlbihyZXNwb25zZSA9PiB7XHJcblx0XHRcdFx0XHRcdHN0YXJ0VG9EZWxldGVPbmxpbmUgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS5yZXN1bHQucmVzdWx0ID09PSAnZmlsZV9kZWxldGVkJykge1xyXG5cdFx0XHRcdFx0XHRcdGFsZXJ0KFwi5paH5Lu25bey5Yig6ZmkIVwiKTtcclxuXHRcdFx0XHRcdFx0XHQkZGlzcGF0Y2godXBkYXRlVG9rZW4ocmVzcG9uc2UuZGF0YS5yZXN1bHQudG9rZW4pKVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB1cGRhdGVTZWFyY2hMaXN0KG9yaWdpbmFsLCBmaWxlbmFtZU9yaWdpbilcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnJlc3VsdC5yZXN1bHQgPT09ICdzdWNjZXNzJyl7XHJcblx0XHRcdFx0XHRcdFx0YWxlcnQoXCLliKDpmaTmiJDlip8hXCIpO1xyXG5cdFx0XHRcdFx0XHRcdCRkaXNwYXRjaCh1cGRhdGVUb2tlbihyZXNwb25zZS5kYXRhLnJlc3VsdC50b2tlbikpXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHVwZGF0ZVNlYXJjaExpc3Qob3JpZ2luYWwsIGZpbGVuYW1lT3JpZ2luKVxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGFsZXJ0KFwi5Yig6Zmk5aSx6LSlIVwiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC5jYXRjaChlcnJvciA9PiB7XHJcblx0XHRcdFx0XHRcdHN0YXJ0VG9EZWxldGVPbmxpbmUgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRsb2dnZXIuZXJyb3IoXCLliKDpmaTmlofku7bov4fnqIvkuK3lj5HnlJ/kuobplJnor69cIiwgZXJyb3Iuc3RhY2t8fGVycm9yLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRcdFx0XHRuZXR3b3JrRXJyKGVycm9yLCBgZGVsRmlsZSBkYXRhSW5mbzogJHtKU09OLnN0cmluZ2lmeShkYXRhSW5mbyl9YCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0Y29uc3QgdXBkYXRlU2VhcmNoTGlzdCA9IChvcmlnaW5hbCwgZmlsZW5hbWVPcmlnaW4pID0+IHtcclxuXHRcdGlmKG9yaWdpbmFsID09PSBcImZpbGVTZWFyY2hcIil7XHJcblx0XHRcdGxldCBsYXN0RmlsZVNlYXJjaFJlc3VsdEluZGV4LCBsYXN0U2VhcmNoQWxsRmlsZVJlc3VsdEluZGV4XHJcblx0XHRcdGxhc3RGaWxlU2VhcmNoUmVzdWx0LnNvbWUoKGl0ZW0sIGluZGV4KSA9PiB7XHJcblx0XHRcdFx0aWYoaXRlbS5maWxlbmFtZU9yaWdpbiA9PT0gZmlsZW5hbWVPcmlnaW4pe1xyXG5cdFx0XHRcdFx0bGFzdEZpbGVTZWFyY2hSZXN1bHRJbmRleCA9IGluZGV4XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0Y29uc3QgbGFzdEZpbGVTZWFyY2hSZXN1bHRDb3B5ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsYXN0RmlsZVNlYXJjaFJlc3VsdCkpXHJcblx0XHRcdGxhc3RGaWxlU2VhcmNoUmVzdWx0Q29weS5zcGxpY2UobGFzdEZpbGVTZWFyY2hSZXN1bHRJbmRleCwgMSlcclxuXHRcdFx0bGFzdFNlYXJjaEFsbEZpbGVSZXN1bHQuc29tZSgoaXRlbSwgaW5kZXgpID0+IHtcclxuXHRcdFx0XHRpZihpdGVtLmZpbGVuYW1lT3JpZ2luID09PSBmaWxlbmFtZU9yaWdpbil7XHJcblx0XHRcdFx0XHRsYXN0U2VhcmNoQWxsRmlsZVJlc3VsdEluZGV4ID0gaW5kZXhcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRjb25zdCBsYXN0U2VhcmNoQWxsRmlsZVJlc3VsdENvcHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGxhc3RTZWFyY2hBbGxGaWxlUmVzdWx0KSlcclxuXHRcdFx0bGFzdFNlYXJjaEFsbEZpbGVSZXN1bHQuc3BsaWNlKGxhc3RTZWFyY2hBbGxGaWxlUmVzdWx0SW5kZXgsIDEpXHJcblx0XHRcdCRkaXNwYXRjaCh1cGRhdGVMYXN0RmlsZVNlYXJjaFJlc3VsdChsYXN0RmlsZVNlYXJjaFJlc3VsdENvcHkpKVxyXG5cdFx0XHQkZGlzcGF0Y2godXBkYXRlTGFzdFNlYXJjaEFsbEZpbGVSZXN1bHQobGFzdFNlYXJjaEFsbEZpbGVSZXN1bHRDb3B5KSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnN0IG9wZW5GaWxlRnVuYyA9IChmaWxlbmFtZSwgZmlsZW5hbWVPcmlnaW4pID0+IHtcclxuXHRcdGxldCBmaWxlTWluZSA9IE1JTkUubG9va3VwKGZpbGVuYW1lKVxyXG5cdFx0aWYoIWZpbGVNaW5lKXtcclxuXHRcdFx0ZmlsZU1pbmUgPSAndGV4dC9wbGFpbic7XHJcblx0XHRcdGFsZXJ0KFwi5LiN5pSv5oyB5omT5byA55qE55qE5paH5Lu257G75Z6L77yM6K+35o+Q5Lqk5Y+N6aaIXCIpXHJcblx0XHR9XHJcblx0XHRvcGVuRG93bmxvYWRlZEZpbGUoZmlsZW5hbWUsIGZpbGVNaW5lLCByZW1vdmVQcmVmaXhGcm9tRmlsZU9yaWdpbihmaWxlbmFtZU9yaWdpbikpXHJcblx0fVxyXG5cclxuXHRjb25zdCByZW1vdmVEb3dubG9hZEl0ZW0gPSAoZmlsZW5hbWUsIGZpbGVuYW1lT3JpZ2luKSA9PiB7XHJcbiAgICAgICAgY29uZmlybSgn5o+Q56S6JywgYOehruWumuimgeenu+mZpOS4i+i9vSR7ZmlsZW5hbWV95ZCXYCwgXCLnoa7lrppcIiwgKCkgPT4ge1xyXG5cdFx0XHRsb2dnZXIuaW5mbyhcInJlbW92ZVByZWZpeEZyb21GaWxlT3JpZ2luKGZpbGVuYW1lT3JpZ2luKVwiLCByZW1vdmVQcmVmaXhGcm9tRmlsZU9yaWdpbihmaWxlbmFtZU9yaWdpbikpXHJcblx0XHRcdHdpbmRvdy5ldmVudEVtaXQuJGVtaXQoYEZpbGVUcmFuc2Zlci0ke3JlbW92ZVByZWZpeEZyb21GaWxlT3JpZ2luKGZpbGVuYW1lT3JpZ2luKX1gLCAnYWJvcnQnLCBbXCJmaWxlXCIsIGZpbGVuYW1lT3JpZ2luXSlcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRjb25zdCBkZWFsV2l0aEZpbGVVcGxvYWRUaW1lID0gKGRhdGUpID0+IHtcclxuXHRcdGlmKCFkYXRlKSByZXR1cm4gXCJcIlxyXG5cdFx0aWYob3JpZ2luYWwgPT09IFwiZmlsZURvd25sb2FkaW5nXCIpIHJldHVybiBcIlwiXHJcblx0XHRpZih0eXBlb2YoZGF0ZSkgPT09IFwibnVtYmVyXCIpIHtcclxuXHRcdFx0ZGF0ZSA9IG5ldyBEYXRlKGRhdGUpLmZvcm1hdChcInl5eXktTU0tZGRcIilcclxuXHRcdH1cclxuXHRcdHJldHVybiBcIiBcIiArIGRhdGUuc3BsaXQoXCIgXCIpWzBdXHJcblx0fVxyXG5cclxuXHRjb25zdCBkb3dubG9hZE9yT3BlbkZpbGUgPSBhc3luYyAoZmlsZW5hbWUsIHVwbG9hZFVzZXJuYW1lLCBmaWxlU2l6ZSwgZmlsZVBhdGgsIGZpbGVuYW1lT3JpZ2luKSA9PiB7XHJcblx0XHRpZihvcmlnaW5hbCA9PT0gXCJmaWxlRmluaXNoZWRcIil7XHJcblx0XHRcdG9wZW5GaWxlRnVuYyhmaWxlbmFtZSwgZmlsZW5hbWVPcmlnaW4pXHJcblx0XHR9IGVsc2UgaWYob3JpZ2luYWwgPT09IFwiZmlsZVNoYXJlXCIgfHwgb3JpZ2luYWwgPT09IFwiZmlsZVNlYXJjaFwiKXtcclxuXHRcdFx0Ly/lj6ropoHlnKjov5nkuKrmnaHku7bph4zkuI3opoHlho3lvoDkuIvlhpnlvLrkvp3otZbpgLvovpHvvIzov5nph4znmoRhd2FpdOWPr+S7peS4jeWKoFxyXG5cdFx0XHRhd2FpdCBzYXZlRmlsZVRvTG9jYWxGdW5jKGZpbGVuYW1lLCB1cGxvYWRVc2VybmFtZSwgZmlsZVNpemUsIGZpbGVQYXRoLCBmYWxzZSwgZmlsZW5hbWVPcmlnaW4sIGhpc3RvcnksIG9wZW5GaWxlRnVuYylcclxuXHRcdH0gZWxzZSBpZihvcmlnaW5hbCA9PT0gXCJmaWxlRG93bmxvYWRpbmdcIil7XHJcblx0XHRcdGRvd25sb2FkaW5nRmlsZUxpc3Quc29tZSgoaXRlbSkgPT4ge1xyXG5cdFx0XHRcdGlmKGl0ZW0uZmlsZW5hbWVPcmlnaW4gPT09IGZpbGVuYW1lT3JpZ2luKSB7XHJcblx0XHRcdFx0XHRmaWxlbmFtZU9yaWdpbiA9IGZpbGVuYW1lT3JpZ2luLnJlcGxhY2UoL15kb3dubG9hZGluZ18vLCBcIlwiKVxyXG5cdFx0XHRcdFx0bG9nZ2VyLmluZm8oXCJkb3dubG9hZE9yT3BlbkZpbGUgZmlsZW5hbWVPcmlnaW5cIiwgZmlsZW5hbWVPcmlnaW4pXHJcblx0XHRcdFx0XHRpZihpdGVtLnByb2dyZXNzID09PSBcIuWksei0pVwiIHx8IGl0ZW0ucHJvZ3Jlc3MgPT09IFwi5bey5Y+W5raIXCIpe1xyXG5cdFx0XHRcdFx0XHRzYXZlRmlsZVRvTG9jYWxGdW5jKGZpbGVuYW1lLCB1cGxvYWRVc2VybmFtZSwgZmlsZVNpemUsIGZpbGVQYXRoLCB0cnVlLCBmaWxlbmFtZU9yaWdpbiwgaGlzdG9yeSwgb3BlbkZpbGVGdW5jKVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0d2luZG93LmV2ZW50RW1pdC4kZW1pdChgRmlsZVRyYW5zZmVyLSR7ZmlsZW5hbWVPcmlnaW59YCwgJ2Fib3J0JylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnN0IGZpbGVEYXRhTGlzdENvcHkgPSBvcHRpbWl6ZUxvYWRQZXJmb3JtYW5jZShmaWxlRGF0YUxpc3QsIGZpcnN0UmVuZGVyLCBDT05TVEFOVC5zaG93RmlsZU51bWJlclBlclRpbWUsIHNldEZpcnN0UmVuZGVyKVxyXG5cdHJldHVybiAoXHJcblx0XHQ8ZGl2IGNsYXNzTmFtZT17YGZpbGUtbWFuYWdlLWNvbnRhaW5lcmB9PlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZmlsZURhdGFMaXN0Q29weS5tYXAoKGl0ZW0sIGluZGV4KSA9PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJmaWxlLWxpc3RcIiBrZXk9e2l0ZW0uZmlsZW5hbWVPcmlnaW59PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT17YGZpbGUtY29udGVudCAke29yaWdpbmFsID09PSBcImZpbGVEb3dubG9hZGluZ1wiICYmIFwiZG93bmxvYWRpbmdcIn1gfSBvbkNsaWNrPXtkb3dubG9hZE9yT3BlbkZpbGUuYmluZCh0aGlzLCBpdGVtLmZpbGVuYW1lLCBpdGVtLnVwbG9hZFVzZXJuYW1lLCBpdGVtLmZpbGVTaXplLCBpdGVtLmZpbGVQYXRoLCBpdGVtLmZpbGVuYW1lT3JpZ2luKX0+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJudW1cIj57aW5kZXggKyAxfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiZmlsZS1pbmZvXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT17YGluZm8gJHtvcmlnaW5hbCA9PT0gXCJmaWxlRmluaXNoZWRcIiA/IFwiY2VudGVyXCIgOiBcIlwifSAke2l0ZW0uZG93bmxvYWRlZCA/IFwiZG93bmxvYWRlZFwiIDogXCJcIn1gfT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJmaWxlbmFtZVwiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogaXRlbS5maWxlbmFtZSB9fSA+PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdHtpdGVtLmRvd25sb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9XCJkb3dubG9hZGVkLXRleHRcIj7lt7LkuIvovb08L2Rpdj59XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJ1cGxvYWQtaW5mb1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwidXBsb2FkLXVzZXJcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtgJHtvcmlnaW5hbCAhPT0gXCJmaWxlRmluaXNoZWRcIiA/IGl0ZW0udXBsb2FkVXNlcm5hbWUgOiBcIlwifSR7ZGVhbFdpdGhGaWxlVXBsb2FkVGltZShpdGVtLmRhdGUpfWB9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KG9yaWdpbmFsID09PSBcImZpbGVTaGFyZVwiIHx8IG9yaWdpbmFsID09PSBcImZpbGVTZWFyY2hcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdD9cdDxkaXYgY2xhc3NOYW1lPVwiZmlsZS1zaXplXCI+e2NhbGNTaXplKGl0ZW0uZmlsZVNpemUpfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Olx0b3JpZ2luYWwgPT09IFwiZmlsZURvd25sb2FkaW5nXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdD9cdDxkaXYgY2xhc3NOYW1lPVwiZmlsZS1zaXplXCI+e2l0ZW0ucHJvZ3Jlc3N9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ6XHRudWxsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRvcmlnaW5hbCAhPT0gXCJmaWxlRG93bmxvYWRpbmdcIlxyXG5cdFx0XHRcdFx0XHRcdD8gICA8ZGl2IGNsYXNzTmFtZT1cIm1lbnVcIiBvbkNsaWNrPXtzaG93TWVudS5iaW5kKHRoaXMsIGl0ZW0uZmlsZW5hbWUsIGl0ZW0uZmlsZVNpemUsIGl0ZW0uZmlsZVBhdGgsIGl0ZW0udXBsb2FkVXNlcm5hbWUsIGl0ZW0uZmlsZW5hbWVPcmlnaW4sIGl0ZW0uZGF0ZSwgaXRlbS5zdGF0dXMpfT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJkb3RcIj48L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJkb3RcIj48L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJkb3RcIj48L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDpcdDxkaXYgY2xhc3NOYW1lPVwibW92ZS1kb3dubG9hZGluZy1pdGVtIGZhIGZhLXJlbW92ZVwiIG9uQ2xpY2s9e3JlbW92ZURvd25sb2FkSXRlbS5iaW5kKHRoaXMsIGl0ZW0uZmlsZW5hbWUsIGl0ZW0uZmlsZW5hbWVPcmlnaW4pfT48L2Rpdj5cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9XHJcblx0XHQ8L2Rpdj5cclxuXHQpO1xyXG59XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG5cdFx0dXNlcm5hbWU6IHN0YXRlLmxvZ2luLnVzZXJuYW1lLFxyXG5cdFx0dG9rZW46IHN0YXRlLmxvZ2luLnRva2VuLFxyXG5cdFx0ZG93bmxvYWRpbmdGaWxlTGlzdDogc3RhdGUuZmlsZVNlcnZlci5kb3dubG9hZGluZ0ZpbGVMaXN0LFxyXG5cdFx0bGFzdEZpbGVTZWFyY2hSZXN1bHQ6IHN0YXRlLmZpbGVTZXJ2ZXIubGFzdEZpbGVTZWFyY2hSZXN1bHQsXHJcblx0XHRsYXN0U2VhcmNoQWxsRmlsZVJlc3VsdDogc3RhdGUuZmlsZVNlcnZlci5sYXN0U2VhcmNoQWxsRmlsZVJlc3VsdCxcclxuXHRcdHNldE1vYmlsZTogc3RhdGUubXlJbmZvLnNldE1vYmlsZSxcclxuXHRcdGRvd25sb2FkZWRGaWxlTGlzdDogc3RhdGUuZmlsZVNlcnZlci5kb3dubG9hZGVkRmlsZUxpc3RcclxuICAgIH07XHJcbn07XHJcblxyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoKSA9PiAoe30pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoRmlsZU1hbmFnZSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBVEE7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRkE7QUFLQTtBQUNBO0FBTkE7QUFEQTtBQURBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFGQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4Q0E7QUEwQ0E7QUE5Q0E7QUF2Q0E7QUF5RkE7QUFDQTtBQTNGQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQTZGQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFJQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFiQTtBQWdCQTtBQUNBO0FBQ0E7QUFsQkE7QUFvQkE7QUF2QkE7QUFSQTtBQUNBO0FBa0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckJBO0FBQ0E7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBWkE7QUFjQTtBQXJCQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQXVCQTtBQUNBO0FBOU9BO0FBQ0E7QUF5UkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFEQTtBQUNBO0FBV0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/fileManage.js\n");

/***/ }),

/***/ "./src/components/fileServer.js":
/*!**************************************!*\
  !*** ./src/components/fileServer.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/_react@16.13.1@react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ \"./node_modules/_react-redux@7.2.0@react-redux/es/index.js\");\n/* harmony import */ var react_dropzone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dropzone */ \"./node_modules/_react-dropzone@10.2.2@react-dropzone/dist/es/index.js\");\n/* harmony import */ var _child_statusBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./child/statusBar */ \"./src/components/child/statusBar.js\");\n/* harmony import */ var _services_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/utils */ \"./src/services/utils.js\");\n/* harmony import */ var _fileManage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fileManage */ \"./src/components/fileManage.js\");\n/* harmony import */ var _constants_httpRoute__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants/httpRoute */ \"./src/constants/httpRoute.js\");\n/* harmony import */ var _ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ducks/fileServer */ \"./src/ducks/fileServer.js\");\n/* harmony import */ var _logic_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../logic/common */ \"./src/logic/common/index.js\");\nvar _extends = Object.assign || function (target) {\n\tfor (var i = 1; i < arguments.length; i++) {\n\t\tvar source = arguments[i];for (var key in source) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\t\ttarget[key] = source[key];\n\t\t\t}\n\t\t}\n\t}return target;\n};\n\nvar _this = undefined;\n\nfunction _asyncToGenerator(fn) {\n\treturn function () {\n\t\tvar gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n\t\t\tfunction step(key, arg) {\n\t\t\t\ttry {\n\t\t\t\t\tvar info = gen[key](arg);var value = info.value;\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);return;\n\t\t\t\t}if (info.done) {\n\t\t\t\t\tresolve(value);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.resolve(value).then(function (value) {\n\t\t\t\t\t\tstep(\"next\", value);\n\t\t\t\t\t}, function (err) {\n\t\t\t\t\t\tstep(\"throw\", err);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}return step(\"next\");\n\t\t});\n\t};\n}\n\n\n\n\n\n\n\n\n\n\n\nconst fileUploadText = \"选择一个文件上传\";\n\nconst FileServer = ({ fileList, fileSubmitStatus, token, username, setMobile }) => {\n\n\tlet startToUpload = false;\n\n\tconst onDrop = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(acceptedFiles => {\n\t\tlogger.info(\"FileServer acceptedFiles\");\n\t\tif (!token) return window.goRoute(_this, \"/login\");\n\t\tif (!acceptedFiles || !acceptedFiles[0]) return alert(\"没有待上传的文件\");\n\t\thandleMD5(acceptedFiles[0]);\n\t}, []);\n\tconst { getRootProps, getInputProps } = Object(react_dropzone__WEBPACK_IMPORTED_MODULE_2__[\"useDropzone\"])({ onDrop });\n\n\tconst handleMD5 = file => {\n\t\tif (/#|%/g.test(file.name)) {\n\t\t\talertDialog(\"文件名不能包含%或#\");\n\t\t\treturn;\n\t\t} else if (file.size > 100 * 1024 * 1024) {\n\t\t\talertDialog('文件大小不可以超过100MB');\n\t\t\treturn;\n\t\t}\n\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__[\"updateFileSubmitStatus\"])(`${file.name} 正在读取...`));\n\t\treturn Object(_logic_common__WEBPACK_IMPORTED_MODULE_8__[\"calcFileMD5\"])(file).then(resultObj => {\n\t\t\tconst { MD5Value, MD5ValueError } = resultObj;\n\t\t\tlogger.info(\"fileServer handleMD5 MD5Value\", MD5Value);\n\t\t\tif (MD5Value && !MD5ValueError) {\n\t\t\t\tsubmitFile(file, MD5Value);\n\t\t\t} else {\n\t\t\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__[\"updateFileSubmitStatus\"])(fileUploadText));\n\t\t\t\talertDialog(\"文件读取失败，请更换文件重试\");\n\t\t\t}\n\t\t}).catch(err => {\n\t\t\tlogger.error(\"fileServer handleMD5 err\", err);\n\t\t});\n\t};\n\n\tconst submitFile = (file, MD5Value) => {\n\t\tif (!startToUpload) {\n\t\t\tstartToUpload = true;\n\t\t\tconst filename = file.name;\n\t\t\tlet overwriteSameFilename = false;\n\t\t\tfor (let item of fileList) {\n\t\t\t\tif (item.filename === filename) {\n\t\t\t\t\toverwriteSameFilename = true;\n\t\t\t\t\tObject(_services_utils__WEBPACK_IMPORTED_MODULE_4__[\"confirm\"])(`提示`, `已经存在${filename}，上传将覆盖原文件`, \"确定\", () => {\n\t\t\t\t\t\tlogger.info(\"overwrite file true\", item.filename);\n\t\t\t\t\t\treturn uploadFile(file, MD5Value);\n\t\t\t\t\t}, () => {\n\t\t\t\t\t\tlogger.info(\"submitFile overwrite file false\", item.filename);\n\t\t\t\t\t\tstartToUpload = false;\n\t\t\t\t\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__[\"updateFileSubmitStatus\"])(fileUploadText));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!overwriteSameFilename) {\n\t\t\t\treturn uploadFile(file, MD5Value);\n\t\t\t}\n\t\t} else {\n\t\t\treturn alert(\"一次只能上传一个文件，请勿重复上传\");\n\t\t}\n\t};\n\n\tconst uploadFile = (() => {\n\t\tvar _ref = _asyncToGenerator(function* (file, MD5Value) {\n\t\t\ttry {\n\t\t\t\tconst filename = file.name;\n\t\t\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__[\"updateFileSubmitStatus\"])(`${filename} 开始上传...`));\n\t\t\t\tlogger.info(\"fileServer uploadFile MD5Value\", MD5Value);\n\t\t\t\tconst checkResult = yield Object(_logic_common__WEBPACK_IMPORTED_MODULE_8__[\"checkFileMD5Func\"])(filename, username || setMobile, MD5Value, \"default-file\", \"file\");\n\t\t\t\tif (checkResult === \"缺少字段\") {\n\t\t\t\t\tstartToUpload = false;\n\t\t\t\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__[\"updateFileSubmitStatus\"])(fileUploadText));\n\t\t\t\t\treturn alertDialog('缺少字段');\n\t\t\t\t}\n\t\t\t\tif (checkResult === \"上传成功\") {\n\t\t\t\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__[\"updateFileSubmitStatus\"])(fileUploadText));\n\t\t\t\t\tstartToUpload = false;\n\t\t\t\t\tObject(_logic_common__WEBPACK_IMPORTED_MODULE_8__[\"logActivity\"])({\n\t\t\t\t\t\tmsg: \"second upload file success\"\n\t\t\t\t\t});\n\t\t\t\t\treturn alertDialog('秒传成功');\n\t\t\t\t}\n\t\t\t\tif (checkResult === \"没有匹配\") {\n\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\tformData.append('files', file);\n\t\t\t\t\tformData.append(\"username\", username || setMobile);\n\t\t\t\t\tformData.append(\"type\", 'file');\n\t\t\t\t\tformData.append(\"md5\", MD5Value);\n\t\t\t\t\tformData.append(\"registrationID\", localStorage.getItem(\"registrationID\") || \"\");\n\t\t\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\t\t\txhr.upload.addEventListener(\"progress\", uploadProgress.bind(_this, filename), false);\n\t\t\t\t\txhr.addEventListener(\"error\", uploadFailed, false);\n\t\t\t\t\txhr.open('POST', _constants_httpRoute__WEBPACK_IMPORTED_MODULE_6__[\"HTTP_URL\"].uploadFile);\n\t\t\t\t\txhr.onreadystatechange = function () {\n\t\t\t\t\t\tstartToUpload = false;\n\t\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\t\tlet responseText = {\n\t\t\t\t\t\t\t\tresult: {\n\t\t\t\t\t\t\t\t\tresponse: \"\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tresponseText = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\t} catch (err) {}\n\t\t\t\t\t\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__[\"updateFileSubmitStatus\"])(fileUploadText));\n\t\t\t\t\t\t\tif (responseText.result.response === \"illegal_filetype\") {\n\t\t\t\t\t\t\t\talert('非法的文件名');\n\t\t\t\t\t\t\t} else if (responseText.result.response === \"more_than_100mb\") {\n\t\t\t\t\t\t\t\talert('文件大小超过100MB');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert('上传成功！');\n\n\t\t\t\t\t\t\t\tObject(_logic_common__WEBPACK_IMPORTED_MODULE_8__[\"logActivity\"])({\n\t\t\t\t\t\t\t\t\tmsg: \"upload file success\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlogger.error(\"xhr.onreadystatechange not 200, xhr.status\", xhr.status, 'xhr.responseText', xhr.responseText);\n\t\t\t\t\t\t\talert(\"上传失败\");\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\txhr.send(formData);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__[\"updateFileSubmitStatus\"])('选择一个文件上传'));\n\t\t\t\tstartToUpload = false;\n\t\t\t}\n\t\t});\n\n\t\treturn function uploadFile(_x, _x2) {\n\t\t\treturn _ref.apply(this, arguments);\n\t\t};\n\t})();\n\n\tconst uploadProgress = (uploadFilename, evt) => {\n\t\tif (evt.lengthComputable) {\n\t\t\tconst percentComplete = Math.round(evt.loaded * 100 / evt.total);\n\t\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__[\"updateFileSubmitStatus\"])(`${uploadFilename} ${percentComplete.toString()}%`));\n\t\t} else {\n\t\t\tstartToUpload = false;\n\t\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__[\"updateFileSubmitStatus\"])(fileUploadText));\n\t\t}\n\t};\n\n\tconst uploadFailed = evt => {\n\t\talert(\"上传失败\");\n\t\tstartToUpload = false;\n\t\t$dispatch(Object(_ducks_fileServer__WEBPACK_IMPORTED_MODULE_7__[\"updateFileSubmitStatus\"])(fileUploadText));\n\t\tlogger.error(\"上传失败\", evt);\n\t};\n\n\treturn react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', { className: 'file-server' }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_child_statusBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('h2', { className: 'head' }, ' \\u6587\\u4EF6\\u5217\\u8868 '), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', { className: 'upload-area' }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', getRootProps(), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('input', _extends({}, getInputProps(), { multiple: false })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('p', null, fileSubmitStatus))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('div', { className: 'file-container' }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fileManage__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { fileDataList: fileList, original: 'fileShare' })));\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tfileList: state.fileServer.fileList,\n\t\tusername: state.login.username,\n\t\ttoken: state.login.token,\n\t\tfileSubmitStatus: state.fileServer.fileSubmitStatus,\n\t\tsetMobile: state.myInfo.setMobile\n\t};\n};\n\nconst mapDispatchToProps = () => ({});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(mapStateToProps, mapDispatchToProps)(FileServer));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9maWxlU2VydmVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL2ZpbGVTZXJ2ZXIuanM/MTQ0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcclxuaW1wb3J0IHsgdXNlRHJvcHpvbmUgfSBmcm9tICdyZWFjdC1kcm9wem9uZSdcclxuaW1wb3J0IFN0YXR1c0JhciBmcm9tIFwiLi9jaGlsZC9zdGF0dXNCYXJcIjtcclxuaW1wb3J0IHsgY29uZmlybSB9IGZyb20gXCIuLi9zZXJ2aWNlcy91dGlsc1wiO1xyXG5pbXBvcnQgRmlsZU1hbmFnZSBmcm9tIFwiLi9maWxlTWFuYWdlXCJcclxuaW1wb3J0IHsgSFRUUF9VUkwgfSBmcm9tIFwiLi4vY29uc3RhbnRzL2h0dHBSb3V0ZVwiO1xyXG5pbXBvcnQgeyB1cGRhdGVGaWxlU3VibWl0U3RhdHVzIH0gZnJvbSBcIi4uL2R1Y2tzL2ZpbGVTZXJ2ZXJcIlxyXG5pbXBvcnQgeyBjaGVja0ZpbGVNRDVGdW5jLCBjYWxjRmlsZU1ENSwgbG9nQWN0aXZpdHkgfSBmcm9tIFwiLi4vbG9naWMvY29tbW9uXCJcclxuXHJcbmNvbnN0IGZpbGVVcGxvYWRUZXh0ID0gXCLpgInmi6nkuIDkuKrmlofku7bkuIrkvKBcIlxyXG5cclxuY29uc3QgRmlsZVNlcnZlciA9ICggeyBmaWxlTGlzdCwgZmlsZVN1Ym1pdFN0YXR1cywgdG9rZW4sIHVzZXJuYW1lLCBzZXRNb2JpbGUgfSApID0+IHtcclxuXHJcblx0bGV0IHN0YXJ0VG9VcGxvYWQgPSBmYWxzZVxyXG5cclxuXHRjb25zdCBvbkRyb3AgPSB1c2VDYWxsYmFjayhhY2NlcHRlZEZpbGVzID0+IHtcclxuXHRcdGxvZ2dlci5pbmZvKFwiRmlsZVNlcnZlciBhY2NlcHRlZEZpbGVzXCIpXHJcblx0XHRpZighdG9rZW4pIHJldHVybiB3aW5kb3cuZ29Sb3V0ZSh0aGlzLCBcIi9sb2dpblwiKVxyXG5cdFx0aWYoIWFjY2VwdGVkRmlsZXMgfHwgIWFjY2VwdGVkRmlsZXNbMF0pIHJldHVybiBhbGVydChcIuayoeacieW+heS4iuS8oOeahOaWh+S7tlwiKVxyXG5cdFx0aGFuZGxlTUQ1KGFjY2VwdGVkRmlsZXNbMF0pXHJcblx0fSwgW10pXHJcblx0Y29uc3QgeyBnZXRSb290UHJvcHMsIGdldElucHV0UHJvcHMgfSA9IHVzZURyb3B6b25lKHtvbkRyb3B9KVxyXG5cclxuXHRjb25zdCBoYW5kbGVNRDUgPSAoZmlsZSkgPT4ge1xyXG5cdFx0aWYgKC8jfCUvZy50ZXN0KGZpbGUubmFtZSkpIHtcclxuXHRcdFx0YWxlcnREaWFsb2coXCLmlofku7blkI3kuI3og73ljIXlkKsl5oiWI1wiKTtcclxuXHRcdFx0cmV0dXJuXHJcblx0XHR9IGVsc2UgaWYgKGZpbGUuc2l6ZSA+IDEwMCAqIDEwMjQgKiAxMDI0KSB7XHJcblx0XHRcdGFsZXJ0RGlhbG9nKCfmlofku7blpKflsI/kuI3lj6/ku6XotoXov4cxMDBNQicpO1xyXG5cdFx0XHRyZXR1cm5cclxuXHRcdH1cclxuXHRcdCRkaXNwYXRjaCh1cGRhdGVGaWxlU3VibWl0U3RhdHVzKGAke2ZpbGUubmFtZX0g5q2j5Zyo6K+75Y+WLi4uYCkpXHJcblx0XHRyZXR1cm4gY2FsY0ZpbGVNRDUoZmlsZSlcclxuXHRcdFx0LnRoZW4oKHJlc3VsdE9iaikgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHsgTUQ1VmFsdWUsIE1ENVZhbHVlRXJyb3IgfSA9IHJlc3VsdE9ialxyXG5cdFx0XHRcdGxvZ2dlci5pbmZvKFwiZmlsZVNlcnZlciBoYW5kbGVNRDUgTUQ1VmFsdWVcIiwgTUQ1VmFsdWUpXHJcblx0XHRcdFx0aWYoTUQ1VmFsdWUgJiYgIU1ENVZhbHVlRXJyb3Ipe1xyXG5cdFx0XHRcdFx0c3VibWl0RmlsZShmaWxlLCBNRDVWYWx1ZSlcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0JGRpc3BhdGNoKHVwZGF0ZUZpbGVTdWJtaXRTdGF0dXMoZmlsZVVwbG9hZFRleHQpKVxyXG5cdFx0XHRcdFx0YWxlcnREaWFsb2coXCLmlofku7bor7vlj5blpLHotKXvvIzor7fmm7TmjaLmlofku7bph43or5VcIilcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC5jYXRjaChlcnIgPT4ge1xyXG5cdFx0XHRcdGxvZ2dlci5lcnJvcihcImZpbGVTZXJ2ZXIgaGFuZGxlTUQ1IGVyclwiLCBlcnIpXHJcblx0XHRcdH0pXHJcblx0fVxyXG5cclxuXHRjb25zdCBzdWJtaXRGaWxlID0gKGZpbGUsIE1ENVZhbHVlKSA9PiB7XHJcblx0XHRpZighc3RhcnRUb1VwbG9hZCl7ICAvL2ZvcmJpZCB1cGxvYWQgbW9yZSB0aW1lc1xyXG5cdFx0XHRzdGFydFRvVXBsb2FkID0gdHJ1ZTtcclxuXHRcdFx0Y29uc3QgZmlsZW5hbWUgPSBmaWxlLm5hbWU7XHJcblx0XHRcdGxldCBvdmVyd3JpdGVTYW1lRmlsZW5hbWUgPSBmYWxzZVxyXG5cdFx0XHRmb3IobGV0IGl0ZW0gb2YgZmlsZUxpc3Qpe1xyXG5cdFx0XHRcdGlmKGl0ZW0uZmlsZW5hbWUgPT09IGZpbGVuYW1lKXtcclxuXHRcdFx0XHRcdG92ZXJ3cml0ZVNhbWVGaWxlbmFtZSA9IHRydWVcclxuXHRcdFx0XHRcdGNvbmZpcm0oYOaPkOekumAsIGDlt7Lnu4/lrZjlnKgke2ZpbGVuYW1lfe+8jOS4iuS8oOWwhuimhuebluWOn+aWh+S7tmAsIFwi56Gu5a6aXCIsICgpID0+IHtcclxuXHRcdFx0XHRcdFx0bG9nZ2VyLmluZm8oXCJvdmVyd3JpdGUgZmlsZSB0cnVlXCIsIGl0ZW0uZmlsZW5hbWUpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdXBsb2FkRmlsZShmaWxlLCBNRDVWYWx1ZSlcclxuXHRcdFx0XHRcdH0sICgpID0+IHtcclxuXHRcdFx0XHRcdFx0bG9nZ2VyLmluZm8oXCJzdWJtaXRGaWxlIG92ZXJ3cml0ZSBmaWxlIGZhbHNlXCIsIGl0ZW0uZmlsZW5hbWUpO1xyXG5cdFx0XHRcdFx0XHRzdGFydFRvVXBsb2FkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdCRkaXNwYXRjaCh1cGRhdGVGaWxlU3VibWl0U3RhdHVzKGZpbGVVcGxvYWRUZXh0KSlcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoIW92ZXJ3cml0ZVNhbWVGaWxlbmFtZSl7XHJcblx0XHRcdFx0cmV0dXJuIHVwbG9hZEZpbGUoZmlsZSwgTUQ1VmFsdWUpXHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBhbGVydChcIuS4gOasoeWPquiDveS4iuS8oOS4gOS4quaWh+S7tu+8jOivt+WLv+mHjeWkjeS4iuS8oFwiKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y29uc3QgdXBsb2FkRmlsZSA9IGFzeW5jIChmaWxlLCBNRDVWYWx1ZSkgPT4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgZmlsZW5hbWUgPSBmaWxlLm5hbWU7XHJcblx0XHRcdCRkaXNwYXRjaCh1cGRhdGVGaWxlU3VibWl0U3RhdHVzKGAke2ZpbGVuYW1lfSDlvIDlp4vkuIrkvKAuLi5gKSlcclxuXHRcdFx0bG9nZ2VyLmluZm8oXCJmaWxlU2VydmVyIHVwbG9hZEZpbGUgTUQ1VmFsdWVcIiwgTUQ1VmFsdWUpXHJcblx0XHRcdGNvbnN0IGNoZWNrUmVzdWx0ID0gYXdhaXQgY2hlY2tGaWxlTUQ1RnVuYyhmaWxlbmFtZSwgKHVzZXJuYW1lIHx8IHNldE1vYmlsZSksIE1ENVZhbHVlLCBcImRlZmF1bHQtZmlsZVwiLCBcImZpbGVcIilcclxuXHRcdFx0aWYoY2hlY2tSZXN1bHQgPT09IFwi57y65bCR5a2X5q61XCIpIHtcclxuXHRcdFx0XHRzdGFydFRvVXBsb2FkID0gZmFsc2U7XHJcblx0XHRcdFx0JGRpc3BhdGNoKHVwZGF0ZUZpbGVTdWJtaXRTdGF0dXMoZmlsZVVwbG9hZFRleHQpKVxyXG5cdFx0XHRcdHJldHVybiAgYWxlcnREaWFsb2coJ+e8uuWwkeWtl+autScpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYoY2hlY2tSZXN1bHQgPT09IFwi5LiK5Lyg5oiQ5YqfXCIpe1xyXG5cdFx0XHRcdCRkaXNwYXRjaCh1cGRhdGVGaWxlU3VibWl0U3RhdHVzKGZpbGVVcGxvYWRUZXh0KSlcclxuXHRcdFx0XHRzdGFydFRvVXBsb2FkID0gZmFsc2U7XHJcblx0XHRcdFx0bG9nQWN0aXZpdHkoe1xyXG5cdFx0XHRcdFx0bXNnOiBcInNlY29uZCB1cGxvYWQgZmlsZSBzdWNjZXNzXCJcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdHJldHVybiAgYWxlcnREaWFsb2coJ+enkuS8oOaIkOWKnycpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYoY2hlY2tSZXN1bHQgPT09IFwi5rKh5pyJ5Yy56YWNXCIpe1xyXG5cdFx0XHRcdGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblx0XHRcdFx0Zm9ybURhdGEuYXBwZW5kKCdmaWxlcycsIGZpbGUpO1xyXG5cdFx0XHRcdGZvcm1EYXRhLmFwcGVuZChcInVzZXJuYW1lXCIsIHVzZXJuYW1lIHx8IHNldE1vYmlsZSk7XHJcblx0XHRcdFx0Zm9ybURhdGEuYXBwZW5kKFwidHlwZVwiLCAnZmlsZScpO1xyXG5cdFx0XHRcdGZvcm1EYXRhLmFwcGVuZChcIm1kNVwiLCBNRDVWYWx1ZSk7XHJcblx0XHRcdFx0Zm9ybURhdGEuYXBwZW5kKFwicmVnaXN0cmF0aW9uSURcIiwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJyZWdpc3RyYXRpb25JRFwiKSB8fCBcIlwiKTtcclxuXHRcdFx0XHRjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHRcdFx0XHR4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCB1cGxvYWRQcm9ncmVzcy5iaW5kKHRoaXMsIGZpbGVuYW1lKSwgZmFsc2UpO1xyXG5cdFx0XHRcdHhoci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgdXBsb2FkRmFpbGVkLCBmYWxzZSk7XHJcblx0XHRcdFx0eGhyLm9wZW4oJ1BPU1QnLCBIVFRQX1VSTC51cGxvYWRGaWxlKTtcclxuXHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0c3RhcnRUb1VwbG9hZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0aWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xyXG5cdFx0XHRcdFx0XHRsZXQgcmVzcG9uc2VUZXh0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdHJlc3VsdDoge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2U6IFwiXCJcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dHJ5e1xyXG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlVGV4dCA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dClcclxuXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKXtcclxuXHRcdFx0XHRcdFx0XHQvLyB0b2RvXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0JGRpc3BhdGNoKHVwZGF0ZUZpbGVTdWJtaXRTdGF0dXMoZmlsZVVwbG9hZFRleHQpKVxyXG5cdFx0XHRcdFx0XHRpZiAocmVzcG9uc2VUZXh0LnJlc3VsdC5yZXNwb25zZSA9PT0gXCJpbGxlZ2FsX2ZpbGV0eXBlXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRhbGVydCgn6Z2e5rOV55qE5paH5Lu25ZCNJyk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAocmVzcG9uc2VUZXh0LnJlc3VsdC5yZXNwb25zZSA9PT0gXCJtb3JlX3RoYW5fMTAwbWJcIikge1xyXG5cdFx0XHRcdFx0XHRcdGFsZXJ0KCfmlofku7blpKflsI/otoXov4cxMDBNQicpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGFsZXJ0KCfkuIrkvKDmiJDlip/vvIEnKTtcclxuXHRcdFx0XHRcdFx0XHQvLyDkvp3pnaB3ZWJzb2NrZXTmnaXmm7TmlrDmlofku7bliJfooahcclxuXHRcdFx0XHRcdFx0XHRsb2dBY3Rpdml0eSh7XHJcblx0XHRcdFx0XHRcdFx0XHRtc2c6IFwidXBsb2FkIGZpbGUgc3VjY2Vzc1wiXHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0bG9nZ2VyLmVycm9yKFwieGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSBub3QgMjAwLCB4aHIuc3RhdHVzXCIsIHhoci5zdGF0dXMsICd4aHIucmVzcG9uc2VUZXh0JywgeGhyLnJlc3BvbnNlVGV4dClcclxuXHRcdFx0XHRcdFx0YWxlcnQoXCLkuIrkvKDlpLHotKVcIilcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHhoci5zZW5kKGZvcm1EYXRhKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaChlcnIpe1xyXG5cdFx0XHQkZGlzcGF0Y2godXBkYXRlRmlsZVN1Ym1pdFN0YXR1cygn6YCJ5oup5LiA5Liq5paH5Lu25LiK5LygJykpXHJcblx0XHRcdHN0YXJ0VG9VcGxvYWQgPSBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnN0IHVwbG9hZFByb2dyZXNzID0gKHVwbG9hZEZpbGVuYW1lLCBldnQpID0+IHtcclxuXHRcdGlmIChldnQubGVuZ3RoQ29tcHV0YWJsZSkge1xyXG5cdFx0XHRjb25zdCBwZXJjZW50Q29tcGxldGUgPSBNYXRoLnJvdW5kKGV2dC5sb2FkZWQgKiAxMDAgLyBldnQudG90YWwpO1xyXG5cdFx0XHQkZGlzcGF0Y2godXBkYXRlRmlsZVN1Ym1pdFN0YXR1cyhgJHt1cGxvYWRGaWxlbmFtZX0gJHtwZXJjZW50Q29tcGxldGUudG9TdHJpbmcoKX0lYCkpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzdGFydFRvVXBsb2FkID0gZmFsc2U7XHJcblx0XHRcdCRkaXNwYXRjaCh1cGRhdGVGaWxlU3VibWl0U3RhdHVzKGZpbGVVcGxvYWRUZXh0KSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNvbnN0IHVwbG9hZEZhaWxlZCA9IChldnQpID0+IHtcclxuXHRcdGFsZXJ0KFwi5LiK5Lyg5aSx6LSlXCIpO1xyXG5cdFx0c3RhcnRUb1VwbG9hZCA9IGZhbHNlO1xyXG5cdFx0JGRpc3BhdGNoKHVwZGF0ZUZpbGVTdWJtaXRTdGF0dXMoZmlsZVVwbG9hZFRleHQpKVxyXG5cdFx0bG9nZ2VyLmVycm9yKFwi5LiK5Lyg5aSx6LSlXCIsIGV2dCk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gKFxyXG5cdFx0PGRpdiBjbGFzc05hbWU9XCJmaWxlLXNlcnZlclwiPlxyXG5cdFx0XHQ8U3RhdHVzQmFyIC8+XHJcblx0XHRcdDxoMiBjbGFzc05hbWU9J2hlYWQnPiDmlofku7bliJfooaggPC9oMj5cclxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJ1cGxvYWQtYXJlYVwiPlxyXG5cdFx0XHRcdDxkaXYgey4uLmdldFJvb3RQcm9wcygpfSA+XHJcbiAgICBcdFx0XHRcdDxpbnB1dCB7Li4uZ2V0SW5wdXRQcm9wcygpfSBtdWx0aXBsZT17ZmFsc2V9IC8+XHJcbiAgICBcdFx0XHRcdDxwPntmaWxlU3VibWl0U3RhdHVzfTwvcD5cclxuICAgIFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJmaWxlLWNvbnRhaW5lclwiPlxyXG5cdFx0XHRcdDxGaWxlTWFuYWdlIGZpbGVEYXRhTGlzdD17ZmlsZUxpc3R9IG9yaWdpbmFsPVwiZmlsZVNoYXJlXCIgLz5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHQpO1xyXG59XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG5cdFx0ZmlsZUxpc3Q6IHN0YXRlLmZpbGVTZXJ2ZXIuZmlsZUxpc3QsXHJcblx0XHR1c2VybmFtZTogc3RhdGUubG9naW4udXNlcm5hbWUsXHJcblx0XHR0b2tlbjogc3RhdGUubG9naW4udG9rZW4sXHJcblx0XHRmaWxlU3VibWl0U3RhdHVzOiBzdGF0ZS5maWxlU2VydmVyLmZpbGVTdWJtaXRTdGF0dXMsXHJcblx0XHRzZXRNb2JpbGU6IHN0YXRlLm15SW5mby5zZXRNb2JpbGUsXHJcbiAgICB9O1xyXG59O1xyXG5cclxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gKCkgPT4gKHt9KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKEZpbGVTZXJ2ZXIpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQVRBO0FBWUE7QUFaQTtBQVRBO0FBQ0E7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwQkE7QUFzQkE7QUFDQTtBQXhCQTtBQUNBO0FBMEJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUtBO0FBQ0E7QUFEQTtBQUtBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQXRCQTtBQXdCQTtBQUNBO0FBQ0E7QUE1QkE7QUE4QkE7QUFDQTtBQTVEQTtBQThEQTtBQUNBO0FBQ0E7QUFqRUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFtRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBckpBO0FBQ0E7QUFxS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQURBO0FBQ0E7QUFTQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/fileServer.js\n");

/***/ })

}]);